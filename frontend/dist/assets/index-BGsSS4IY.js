(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function im(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ec={exports:{}},ja={},kc={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=Symbol.for("react.element"),om=Symbol.for("react.portal"),cm=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),xm=Symbol.for("react.memo"),gm=Symbol.for("react.lazy"),co=Symbol.iterator;function vm(e){return e===null||typeof e!="object"?null:(e=co&&e[co]||e["@@iterator"],typeof e=="function"?e:null)}var _c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pc=Object.assign,Dc={};function ms(e,t,s){this.props=e,this.context=t,this.refs=Dc,this.updater=s||_c}ms.prototype.isReactComponent={};ms.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ms.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rc(){}Rc.prototype=ms.prototype;function li(e,t,s){this.props=e,this.context=t,this.refs=Dc,this.updater=s||_c}var ii=li.prototype=new Rc;ii.constructor=li;Pc(ii,ms.prototype);ii.isPureReactComponent=!0;var uo=Array.isArray,Ic=Object.prototype.hasOwnProperty,oi={current:null},Tc={key:!0,ref:!0,__self:!0,__source:!0};function $c(e,t,s){var r,a={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Ic.call(t,r)&&!Tc.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:lr,type:e,key:l,ref:i,props:a,_owner:oi.current}}function jm(e,t){return{$$typeof:lr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ci(e){return typeof e=="object"&&e!==null&&e.$$typeof===lr}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var mo=/\/+/g;function za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function $r(e,t,s,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case lr:case om:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+za(i,0):r,uo(a)?(s="",e!=null&&(s=e.replace(mo,"$&/")+"/"),$r(a,t,s,"",function(d){return d})):a!=null&&(ci(a)&&(a=jm(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(mo,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",uo(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+za(l,o);i+=$r(l,t,s,c,a)}else if(c=vm(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+za(l,o++),i+=$r(l,t,s,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pr(e,t,s){if(e==null)return e;var r=[],a=0;return $r(e,r,"","",function(l){return t.call(s,l,a++)}),r}function bm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Lr={transition:null},Nm={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Lr,ReactCurrentOwner:oi};function Lc(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:pr,forEach:function(e,t,s){pr(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return pr(e,function(){t++}),t},toArray:function(e){return pr(e,function(t){return t})||[]},only:function(e){if(!ci(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=ms;ie.Fragment=cm;ie.Profiler=um;ie.PureComponent=li;ie.StrictMode=dm;ie.Suspense=pm;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nm;ie.act=Lc;ie.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pc({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=oi.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ic.call(t,c)&&!Tc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:lr,type:e.type,key:a,ref:l,props:r,_owner:i}};ie.createContext=function(e){return e={$$typeof:hm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mm,_context:e},e.Consumer=e};ie.createElement=$c;ie.createFactory=function(e){var t=$c.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:fm,render:e}};ie.isValidElement=ci;ie.lazy=function(e){return{$$typeof:gm,_payload:{_status:-1,_result:e},_init:bm}};ie.memo=function(e,t){return{$$typeof:xm,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Lr.transition;Lr.transition={};try{e()}finally{Lr.transition=t}};ie.unstable_act=Lc;ie.useCallback=function(e,t){return Ke.current.useCallback(e,t)};ie.useContext=function(e){return Ke.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};ie.useEffect=function(e,t){return Ke.current.useEffect(e,t)};ie.useId=function(){return Ke.current.useId()};ie.useImperativeHandle=function(e,t,s){return Ke.current.useImperativeHandle(e,t,s)};ie.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Ke.current.useMemo(e,t)};ie.useReducer=function(e,t,s){return Ke.current.useReducer(e,t,s)};ie.useRef=function(e){return Ke.current.useRef(e)};ie.useState=function(e){return Ke.current.useState(e)};ie.useSyncExternalStore=function(e,t,s){return Ke.current.useSyncExternalStore(e,t,s)};ie.useTransition=function(){return Ke.current.useTransition()};ie.version="18.3.1";kc.exports=ie;var m=kc.exports;const de=im(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=m,Sm=Symbol.for("react.element"),Cm=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,km=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_m={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,s){var r,a={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Em.call(t,r)&&!_m.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Sm,type:e,key:l,ref:i,props:a,_owner:km.current}}ja.Fragment=Cm;ja.jsx=Fc;ja.jsxs=Fc;Ec.exports=ja;var n=Ec.exports,zc={exports:{}},dt={},Ac={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var B=L.length;L.push(D);e:for(;0<B;){var k=B-1>>>1,S=L[k];if(0<a(S,D))L[k]=D,L[B]=S,B=k;else break e}}function s(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var D=L[0],B=L.pop();if(B!==D){L[0]=B;e:for(var k=0,S=L.length,O=S>>>1;k<O;){var J=2*(k+1)-1,ne=L[J],ue=J+1,pe=L[ue];if(0>a(ne,B))ue<S&&0>a(pe,ne)?(L[k]=pe,L[ue]=B,k=ue):(L[k]=ne,L[J]=B,k=J);else if(ue<S&&0>a(pe,B))L[k]=pe,L[ue]=B,k=ue;else break e}}return D}function a(L,D){var B=L.sortIndex-D.sortIndex;return B!==0?B:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],p=1,g=null,u=3,x=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(L){for(var D=s(d);D!==null;){if(D.callback===null)r(d);else if(D.startTime<=L)r(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=s(d)}}function w(L){if(y=!1,j(L),!v)if(s(c)!==null)v=!0,U(N);else{var D=s(d);D!==null&&Q(w,D.startTime-L)}}function N(L,D){v=!1,y&&(y=!1,h(_),_=-1),x=!0;var B=u;try{for(j(D),g=s(c);g!==null&&(!(g.expirationTime>D)||L&&!te());){var k=g.callback;if(typeof k=="function"){g.callback=null,u=g.priorityLevel;var S=k(g.expirationTime<=D);D=e.unstable_now(),typeof S=="function"?g.callback=S:g===s(c)&&r(c),j(D)}else r(c);g=s(c)}if(g!==null)var O=!0;else{var J=s(d);J!==null&&Q(w,J.startTime-D),O=!1}return O}finally{g=null,u=B,x=!1}}var I=!1,F=null,_=-1,V=5,A=-1;function te(){return!(e.unstable_now()-A<V)}function Y(){if(F!==null){var L=e.unstable_now();A=L;var D=!0;try{D=F(!0,L)}finally{D?re():(I=!1,F=null)}}else I=!1}var re;if(typeof f=="function")re=function(){f(Y)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,G=le.port2;le.port1.onmessage=Y,re=function(){G.postMessage(null)}}else re=function(){b(Y,0)};function U(L){F=L,I||(I=!0,re())}function Q(L,D){_=b(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,U(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(L){switch(u){case 1:case 2:case 3:var D=3;break;default:D=u}var B=u;u=D;try{return L()}finally{u=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=u;u=L;try{return D()}finally{u=B}},e.unstable_scheduleCallback=function(L,D,B){var k=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?k+B:k):B=k,L){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=B+S,L={id:p++,callback:D,priorityLevel:L,startTime:B,expirationTime:S,sortIndex:-1},B>k?(L.sortIndex=B,t(d,L),s(c)===null&&L===s(d)&&(y?(h(_),_=-1):y=!0,Q(w,B-k))):(L.sortIndex=S,t(c,L),v||x||(v=!0,U(N))),L},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(L){var D=u;return function(){var B=u;u=D;try{return L.apply(this,arguments)}finally{u=B}}}})(Mc);Ac.exports=Mc;var Pm=Ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=m,ct=Pm;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oc=new Set,Bs={};function $n(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(Bs[e]=t,e=0;e<t.length;e++)Oc.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ml=Object.prototype.hasOwnProperty,Rm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ho={},fo={};function Im(e){return ml.call(fo,e)?!0:ml.call(ho,e)?!1:Rm.test(e)?fo[e]=!0:(ho[e]=!0,!1)}function Tm(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $m(e,t,s,r){if(t===null||typeof t>"u"||Tm(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,s,r,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var di=/[\-:]([a-z])/g;function ui(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(di,ui);Ve[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(di,ui);Ve[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(di,ui);Ve[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function mi(e,t,s,r){var a=Ve.hasOwnProperty(t)?Ve[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($m(t,s,a,r)&&(s=null),r||a===null?Im(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Kt=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xr=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),hi=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),Uc=Symbol.for("react.provider"),Bc=Symbol.for("react.context"),fi=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),pl=Symbol.for("react.suspense_list"),pi=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Vc=Symbol.for("react.offscreen"),po=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=po&&e[po]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Aa;function Ps(e){if(Aa===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Aa=t&&t[1]||""}return`
`+Aa+e}var Ma=!1;function Oa(e,t){if(!e||Ma)return"";Ma=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Ma=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ps(e):""}function Lm(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bn:return"Fragment";case Un:return"Portal";case hl:return"Profiler";case hi:return"StrictMode";case fl:return"Suspense";case pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bc:return(e.displayName||"Context")+".Consumer";case Uc:return(e._context.displayName||"Context")+".Provider";case fi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pi:return t=e.displayName||null,t!==null?t:xl(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return xl(e(t))}catch{}}return null}function Fm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xl(t);case 8:return t===hi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zm(e){var t=Hc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gr(e){e._valueTracker||(e._valueTracker=zm(e))}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Hc(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var s=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function xo(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=fn(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gc(e,t){t=t.checked,t!=null&&mi(e,"checked",t,!1)}function vl(e,t){Gc(e,t);var s=fn(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jl(e,t.type,s):t.hasOwnProperty("defaultValue")&&jl(e,t.type,fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function go(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function jl(e,t,s){(t!=="number"||Qr(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ds=Array.isArray;function Zn(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+fn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vo(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(M(92));if(Ds(s)){if(1<s.length)throw Error(M(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:fn(s)}}function qc(e,t){var s=fn(t.value),r=fn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function jo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vr,Yc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vs(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(e){Am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ts[t]=Ts[e]})});function Kc(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ts.hasOwnProperty(e)&&Ts[e]?(""+t).trim():t+"px"}function Xc(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=Kc(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var Mm=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nl(e,t){if(t){if(Mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sl=null;function xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cl=null,es=null,ts=null;function yo(e){if(e=cr(e)){if(typeof Cl!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Sa(t),Cl(e.stateNode,e.type,t))}}function Jc(e){es?ts?ts.push(e):ts=[e]:es=e}function Zc(){if(es){var e=es,t=ts;if(ts=es=null,yo(e),t)for(e=0;e<t.length;e++)yo(t[e])}}function ed(e,t){return e(t)}function td(){}var Ua=!1;function nd(e,t,s){if(Ua)return e(t,s);Ua=!0;try{return ed(e,t,s)}finally{Ua=!1,(es!==null||ts!==null)&&(td(),Zc())}}function Hs(e,t){var s=e.stateNode;if(s===null)return null;var r=Sa(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(M(231,t,typeof s));return s}var El=!1;if(Wt)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){El=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{El=!1}function Om(e,t,s,r,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(p){this.onError(p)}}var $s=!1,Yr=null,Kr=!1,kl=null,Um={onError:function(e){$s=!0,Yr=e}};function Bm(e,t,s,r,a,l,i,o,c){$s=!1,Yr=null,Om.apply(Um,arguments)}function Vm(e,t,s,r,a,l,i,o,c){if(Bm.apply(this,arguments),$s){if($s){var d=Yr;$s=!1,Yr=null}else throw Error(M(198));Kr||(Kr=!0,kl=d)}}function Ln(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bo(e){if(Ln(e)!==e)throw Error(M(188))}function Hm(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(M(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return bo(a),e;if(l===r)return bo(a),t;l=l.sibling}throw Error(M(188))}if(s.return!==r.return)s=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,r=l;break}if(o===r){i=!0,r=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,r=a;break}if(o===r){i=!0,r=l,s=a;break}o=o.sibling}if(!i)throw Error(M(189))}}if(s.alternate!==r)throw Error(M(190))}if(s.tag!==3)throw Error(M(188));return s.stateNode.current===s?e:t}function rd(e){return e=Hm(e),e!==null?ad(e):null}function ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ad(e);if(t!==null)return t;e=e.sibling}return null}var ld=ct.unstable_scheduleCallback,No=ct.unstable_cancelCallback,Wm=ct.unstable_shouldYield,Gm=ct.unstable_requestPaint,Re=ct.unstable_now,qm=ct.unstable_getCurrentPriorityLevel,gi=ct.unstable_ImmediatePriority,id=ct.unstable_UserBlockingPriority,Xr=ct.unstable_NormalPriority,Qm=ct.unstable_LowPriority,od=ct.unstable_IdlePriority,ya=null,Ft=null;function Ym(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Jm,Km=Math.log,Xm=Math.LN2;function Jm(e){return e>>>=0,e===0?32:31-(Km(e)/Xm|0)|0}var jr=64,yr=4194304;function Rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jr(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~a;o!==0?r=Rs(o):(l&=i,l!==0&&(r=Rs(l)))}else i=s&~a,i!==0?r=Rs(i):l!==0&&(r=Rs(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Et(t),a=1<<s,r|=e[s],t&=~a;return r}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Et(l),o=1<<i,c=a[i];c===-1?(!(o&s)||o&r)&&(a[i]=Zm(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cd(){var e=jr;return jr<<=1,!(jr&4194240)&&(jr=64),e}function Ba(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ir(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=s}function th(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Et(s),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~l}}function vi(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Et(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var me=0;function dd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ud,ji,md,hd,fd,Pl=!1,br=[],an=null,ln=null,on=null,Ws=new Map,Gs=new Map,tn=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wo(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function bs(e,t,s,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=cr(t),t!==null&&ji(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sh(e,t,s,r,a){switch(t){case"focusin":return an=bs(an,e,t,s,r,a),!0;case"dragenter":return ln=bs(ln,e,t,s,r,a),!0;case"mouseover":return on=bs(on,e,t,s,r,a),!0;case"pointerover":var l=a.pointerId;return Ws.set(l,bs(Ws.get(l)||null,e,t,s,r,a)),!0;case"gotpointercapture":return l=a.pointerId,Gs.set(l,bs(Gs.get(l)||null,e,t,s,r,a)),!0}return!1}function pd(e){var t=wn(e.target);if(t!==null){var s=Ln(t);if(s!==null){if(t=s.tag,t===13){if(t=sd(s),t!==null){e.blockedOn=t,fd(e.priority,function(){md(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Sl=r,s.target.dispatchEvent(r),Sl=null}else return t=cr(s),t!==null&&ji(t),e.blockedOn=s,!1;t.shift()}return!0}function So(e,t,s){Fr(e)&&s.delete(t)}function rh(){Pl=!1,an!==null&&Fr(an)&&(an=null),ln!==null&&Fr(ln)&&(ln=null),on!==null&&Fr(on)&&(on=null),Ws.forEach(So),Gs.forEach(So)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Pl||(Pl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,rh)))}function qs(e){function t(a){return Ns(a,e)}if(0<br.length){Ns(br[0],e);for(var s=1;s<br.length;s++){var r=br[s];r.blockedOn===e&&(r.blockedOn=null)}}for(an!==null&&Ns(an,e),ln!==null&&Ns(ln,e),on!==null&&Ns(on,e),Ws.forEach(t),Gs.forEach(t),s=0;s<tn.length;s++)r=tn[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(s=tn[0],s.blockedOn===null);)pd(s),s.blockedOn===null&&tn.shift()}var ns=Kt.ReactCurrentBatchConfig,Zr=!0;function ah(e,t,s,r){var a=me,l=ns.transition;ns.transition=null;try{me=1,yi(e,t,s,r)}finally{me=a,ns.transition=l}}function lh(e,t,s,r){var a=me,l=ns.transition;ns.transition=null;try{me=4,yi(e,t,s,r)}finally{me=a,ns.transition=l}}function yi(e,t,s,r){if(Zr){var a=Dl(e,t,s,r);if(a===null)Ja(e,t,r,ea,s),wo(e,r);else if(sh(a,e,t,s,r))r.stopPropagation();else if(wo(e,r),t&4&&-1<nh.indexOf(e)){for(;a!==null;){var l=cr(a);if(l!==null&&ud(l),l=Dl(e,t,s,r),l===null&&Ja(e,t,r,ea,s),l===a)break;a=l}a!==null&&r.stopPropagation()}else Ja(e,t,r,null,s)}}var ea=null;function Dl(e,t,s,r){if(ea=null,e=xi(r),e=wn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(s=t.tag,s===13){if(e=sd(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ea=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qm()){case gi:return 1;case id:return 4;case Xr:case Qm:return 16;case od:return 536870912;default:return 16}default:return 16}}var sn=null,bi=null,zr=null;function gd(){if(zr)return zr;var e,t=bi,s=t.length,r,a="value"in sn?sn.value:sn.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[l-r];r++);return zr=a.slice(e,1<r?1-r:void 0)}function Ar(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function Co(){return!1}function ut(e){function t(s,r,a,l,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Nr:Co,this.isPropagationStopped=Co,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=ut(hs),or=Ee({},hs,{view:0,detail:0}),ih=ut(or),Va,Ha,ws,ba=Ee({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(Va=e.screenX-ws.screenX,Ha=e.screenY-ws.screenY):Ha=Va=0,ws=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),Eo=ut(ba),oh=Ee({},ba,{dataTransfer:0}),ch=ut(oh),dh=Ee({},or,{relatedTarget:0}),Wa=ut(dh),uh=Ee({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=ut(uh),hh=Ee({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fh=ut(hh),ph=Ee({},hs,{data:0}),ko=ut(ph),xh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vh[e])?!!t[e]:!1}function wi(){return jh}var yh=Ee({},or,{key:function(e){if(e.key){var t=xh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bh=ut(yh),Nh=Ee({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_o=ut(Nh),wh=Ee({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi}),Sh=ut(wh),Ch=Ee({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=ut(Ch),kh=Ee({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_h=ut(kh),Ph=[9,13,27,32],Si=Wt&&"CompositionEvent"in window,Ls=null;Wt&&"documentMode"in document&&(Ls=document.documentMode);var Dh=Wt&&"TextEvent"in window&&!Ls,vd=Wt&&(!Si||Ls&&8<Ls&&11>=Ls),Po=" ",Do=!1;function jd(e,t){switch(e){case"keyup":return Ph.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function Rh(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(Do=!0,Po);case"textInput":return e=t.data,e===Po&&Do?null:e;default:return null}}function Ih(e,t){if(Vn)return e==="compositionend"||!Si&&jd(e,t)?(e=gd(),zr=bi=sn=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Th[e.type]:t==="textarea"}function bd(e,t,s,r){Jc(r),t=ta(t,"onChange"),0<t.length&&(s=new Ni("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Fs=null,Qs=null;function $h(e){Id(e,0)}function Na(e){var t=Gn(e);if(Wc(t))return e}function Lh(e,t){if(e==="change")return t}var Nd=!1;if(Wt){var Ga;if(Wt){var qa="oninput"in document;if(!qa){var Io=document.createElement("div");Io.setAttribute("oninput","return;"),qa=typeof Io.oninput=="function"}Ga=qa}else Ga=!1;Nd=Ga&&(!document.documentMode||9<document.documentMode)}function To(){Fs&&(Fs.detachEvent("onpropertychange",wd),Qs=Fs=null)}function wd(e){if(e.propertyName==="value"&&Na(Qs)){var t=[];bd(t,Qs,e,xi(e)),nd($h,t)}}function Fh(e,t,s){e==="focusin"?(To(),Fs=t,Qs=s,Fs.attachEvent("onpropertychange",wd)):e==="focusout"&&To()}function zh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(Qs)}function Ah(e,t){if(e==="click")return Na(t)}function Mh(e,t){if(e==="input"||e==="change")return Na(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Oh;function Ys(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!ml.call(t,a)||!_t(e[a],t[a]))return!1}return!0}function $o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lo(e,t){var s=$o(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=$o(s)}}function Sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cd(){for(var e=window,t=Qr();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Qr(e.document)}return t}function Ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uh(e){var t=Cd(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Sd(s.ownerDocument.documentElement,s)){if(r!==null&&Ci(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=Lo(s,l);var i=Lo(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bh=Wt&&"documentMode"in document&&11>=document.documentMode,Hn=null,Rl=null,zs=null,Il=!1;function Fo(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Il||Hn==null||Hn!==Qr(r)||(r=Hn,"selectionStart"in r&&Ci(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zs&&Ys(zs,r)||(zs=r,r=ta(Rl,"onSelect"),0<r.length&&(t=new Ni("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Hn)))}function wr(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Wn={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Qa={},Ed={};Wt&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function wa(e){if(Qa[e])return Qa[e];if(!Wn[e])return e;var t=Wn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Ed)return Qa[e]=t[s];return e}var kd=wa("animationend"),_d=wa("animationiteration"),Pd=wa("animationstart"),Dd=wa("transitionend"),Rd=new Map,zo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Rd.set(e,t),$n(t,[e])}for(var Ya=0;Ya<zo.length;Ya++){var Ka=zo[Ya],Vh=Ka.toLowerCase(),Hh=Ka[0].toUpperCase()+Ka.slice(1);xn(Vh,"on"+Hh)}xn(kd,"onAnimationEnd");xn(_d,"onAnimationIteration");xn(Pd,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Dd,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Ao(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Vm(r,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Ao(a,o,d),l=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Ao(a,o,d),l=c}}}if(Kr)throw e=kl,Kr=!1,kl=null,e}function ve(e,t){var s=t[zl];s===void 0&&(s=t[zl]=new Set);var r=e+"__bubble";s.has(r)||(Td(t,e,2,!1),s.add(r))}function Xa(e,t,s){var r=0;t&&(r|=4),Td(s,e,r,t)}var Sr="_reactListening"+Math.random().toString(36).slice(2);function Ks(e){if(!e[Sr]){e[Sr]=!0,Oc.forEach(function(s){s!=="selectionchange"&&(Wh.has(s)||Xa(s,!1,e),Xa(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sr]||(t[Sr]=!0,Xa("selectionchange",!1,t))}}function Td(e,t,s,r){switch(xd(t)){case 1:var a=ah;break;case 4:a=lh;break;default:a=yi}s=a.bind(null,t,s,e),a=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Ja(e,t,s,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=wn(o),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}o=o.parentNode}}r=r.return}nd(function(){var d=l,p=xi(s),g=[];e:{var u=Rd.get(e);if(u!==void 0){var x=Ni,v=e;switch(e){case"keypress":if(Ar(s)===0)break e;case"keydown":case"keyup":x=bh;break;case"focusin":v="focus",x=Wa;break;case"focusout":v="blur",x=Wa;break;case"beforeblur":case"afterblur":x=Wa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Sh;break;case kd:case _d:case Pd:x=mh;break;case Dd:x=Eh;break;case"scroll":x=ih;break;case"wheel":x=_h;break;case"copy":case"cut":case"paste":x=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=_o}var y=(t&4)!==0,b=!y&&e==="scroll",h=y?u!==null?u+"Capture":null:u;y=[];for(var f=d,j;f!==null;){j=f;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,h!==null&&(w=Hs(f,h),w!=null&&y.push(Xs(f,w,j)))),b)break;f=f.return}0<y.length&&(u=new x(u,v,null,s,p),g.push({event:u,listeners:y}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",u&&s!==Sl&&(v=s.relatedTarget||s.fromElement)&&(wn(v)||v[Gt]))break e;if((x||u)&&(u=p.window===p?p:(u=p.ownerDocument)?u.defaultView||u.parentWindow:window,x?(v=s.relatedTarget||s.toElement,x=d,v=v?wn(v):null,v!==null&&(b=Ln(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(y=Eo,w="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=_o,w="onPointerLeave",h="onPointerEnter",f="pointer"),b=x==null?u:Gn(x),j=v==null?u:Gn(v),u=new y(w,f+"leave",x,s,p),u.target=b,u.relatedTarget=j,w=null,wn(p)===d&&(y=new y(h,f+"enter",v,s,p),y.target=j,y.relatedTarget=b,w=y),b=w,x&&v)t:{for(y=x,h=v,f=0,j=y;j;j=An(j))f++;for(j=0,w=h;w;w=An(w))j++;for(;0<f-j;)y=An(y),f--;for(;0<j-f;)h=An(h),j--;for(;f--;){if(y===h||h!==null&&y===h.alternate)break t;y=An(y),h=An(h)}y=null}else y=null;x!==null&&Mo(g,u,x,y,!1),v!==null&&b!==null&&Mo(g,b,v,y,!0)}}e:{if(u=d?Gn(d):window,x=u.nodeName&&u.nodeName.toLowerCase(),x==="select"||x==="input"&&u.type==="file")var N=Lh;else if(Ro(u))if(Nd)N=Mh;else{N=zh;var I=Fh}else(x=u.nodeName)&&x.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(N=Ah);if(N&&(N=N(e,d))){bd(g,N,s,p);break e}I&&I(e,u,d),e==="focusout"&&(I=u._wrapperState)&&I.controlled&&u.type==="number"&&jl(u,"number",u.value)}switch(I=d?Gn(d):window,e){case"focusin":(Ro(I)||I.contentEditable==="true")&&(Hn=I,Rl=d,zs=null);break;case"focusout":zs=Rl=Hn=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,Fo(g,s,p);break;case"selectionchange":if(Bh)break;case"keydown":case"keyup":Fo(g,s,p)}var F;if(Si)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?jd(e,s)&&(_="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(vd&&s.locale!=="ko"&&(Vn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vn&&(F=gd()):(sn=p,bi="value"in sn?sn.value:sn.textContent,Vn=!0)),I=ta(d,_),0<I.length&&(_=new ko(_,e,null,s,p),g.push({event:_,listeners:I}),F?_.data=F:(F=yd(s),F!==null&&(_.data=F)))),(F=Dh?Rh(e,s):Ih(e,s))&&(d=ta(d,"onBeforeInput"),0<d.length&&(p=new ko("onBeforeInput","beforeinput",null,s,p),g.push({event:p,listeners:d}),p.data=F))}Id(g,t)})}function Xs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ta(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Hs(e,s),l!=null&&r.unshift(Xs(e,l,a)),l=Hs(e,t),l!=null&&r.push(Xs(e,l,a))),e=e.return}return r}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mo(e,t,s,r,a){for(var l=t._reactName,i=[];s!==null&&s!==r;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,a?(c=Hs(s,l),c!=null&&i.unshift(Xs(s,c,o))):a||(c=Hs(s,l),c!=null&&i.push(Xs(s,c,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var Gh=/\r\n?/g,qh=/\u0000|\uFFFD/g;function Oo(e){return(typeof e=="string"?e:""+e).replace(Gh,`
`).replace(qh,"")}function Cr(e,t,s){if(t=Oo(t),Oo(e)!==t&&s)throw Error(M(425))}function na(){}var Tl=null,$l=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,Qh=typeof clearTimeout=="function"?clearTimeout:void 0,Uo=typeof Promise=="function"?Promise:void 0,Yh=typeof queueMicrotask=="function"?queueMicrotask:typeof Uo<"u"?function(e){return Uo.resolve(null).then(e).catch(Kh)}:Fl;function Kh(e){setTimeout(function(){throw e})}function Za(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),qs(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);qs(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Lt="__reactFiber$"+fs,Js="__reactProps$"+fs,Gt="__reactContainer$"+fs,zl="__reactEvents$"+fs,Xh="__reactListeners$"+fs,Jh="__reactHandles$"+fs;function wn(e){var t=e[Lt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Gt]||s[Lt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Bo(e);e!==null;){if(s=e[Lt])return s;e=Bo(e)}return t}e=s,s=e.parentNode}return null}function cr(e){return e=e[Lt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Sa(e){return e[Js]||null}var Al=[],qn=-1;function gn(e){return{current:e}}function je(e){0>qn||(e.current=Al[qn],Al[qn]=null,qn--)}function xe(e,t){qn++,Al[qn]=e.current,e.current=t}var pn={},qe=gn(pn),tt=gn(!1),_n=pn;function ls(e,t){var s=e.type.contextTypes;if(!s)return pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function nt(e){return e=e.childContextTypes,e!=null}function sa(){je(tt),je(qe)}function Vo(e,t,s){if(qe.current!==pn)throw Error(M(168));xe(qe,t),xe(tt,s)}function $d(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(M(108,Fm(e)||"Unknown",a));return Ee({},s,r)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,_n=qe.current,xe(qe,e),xe(tt,tt.current),!0}function Ho(e,t,s){var r=e.stateNode;if(!r)throw Error(M(169));s?(e=$d(e,t,_n),r.__reactInternalMemoizedMergedChildContext=e,je(tt),je(qe),xe(qe,e)):je(tt),xe(tt,s)}var Ot=null,Ca=!1,el=!1;function Ld(e){Ot===null?Ot=[e]:Ot.push(e)}function Zh(e){Ca=!0,Ld(e)}function vn(){if(!el&&Ot!==null){el=!0;var e=0,t=me;try{var s=Ot;for(me=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Ot=null,Ca=!1}catch(a){throw Ot!==null&&(Ot=Ot.slice(e+1)),ld(gi,vn),a}finally{me=t,el=!1}}return null}var Qn=[],Yn=0,aa=null,la=0,ht=[],ft=0,Pn=null,Ut=1,Bt="";function yn(e,t){Qn[Yn++]=la,Qn[Yn++]=aa,aa=e,la=t}function Fd(e,t,s){ht[ft++]=Ut,ht[ft++]=Bt,ht[ft++]=Pn,Pn=e;var r=Ut;e=Bt;var a=32-Et(r)-1;r&=~(1<<a),s+=1;var l=32-Et(t)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ut=1<<32-Et(t)+a|s<<a|r,Bt=l+e}else Ut=1<<l|s<<a|r,Bt=e}function Ei(e){e.return!==null&&(yn(e,1),Fd(e,1,0))}function ki(e){for(;e===aa;)aa=Qn[--Yn],Qn[Yn]=null,la=Qn[--Yn],Qn[Yn]=null;for(;e===Pn;)Pn=ht[--ft],ht[ft]=null,Bt=ht[--ft],ht[ft]=null,Ut=ht[--ft],ht[ft]=null}var ot=null,it=null,Ne=!1,St=null;function zd(e,t){var s=pt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Wo(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Pn!==null?{id:Ut,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=pt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ot=e,it=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ol(e){if(Ne){var t=it;if(t){var s=t;if(!Wo(e,t)){if(Ml(e))throw Error(M(418));t=cn(s.nextSibling);var r=ot;t&&Wo(e,t)?zd(r,s):(e.flags=e.flags&-4097|2,Ne=!1,ot=e)}}else{if(Ml(e))throw Error(M(418));e.flags=e.flags&-4097|2,Ne=!1,ot=e}}}function Go(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Er(e){if(e!==ot)return!1;if(!Ne)return Go(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=it)){if(Ml(e))throw Ad(),Error(M(418));for(;t;)zd(e,t),t=cn(t.nextSibling)}if(Go(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){it=cn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?cn(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=it;e;)e=cn(e.nextSibling)}function is(){it=ot=null,Ne=!1}function _i(e){St===null?St=[e]:St.push(e)}var ef=Kt.ReactCurrentBatchConfig;function Ss(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(M(309));var r=s.stateNode}if(!r)throw Error(M(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(M(284));if(!s._owner)throw Error(M(290,e))}return e}function kr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qo(e){var t=e._init;return t(e._payload)}function Md(e){function t(h,f){if(e){var j=h.deletions;j===null?(h.deletions=[f],h.flags|=16):j.push(f)}}function s(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function a(h,f){return h=hn(h,f),h.index=0,h.sibling=null,h}function l(h,f,j){return h.index=j,e?(j=h.alternate,j!==null?(j=j.index,j<f?(h.flags|=2,f):j):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,f,j,w){return f===null||f.tag!==6?(f=il(j,h.mode,w),f.return=h,f):(f=a(f,j),f.return=h,f)}function c(h,f,j,w){var N=j.type;return N===Bn?p(h,f,j.props.children,w,j.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zt&&qo(N)===f.type)?(w=a(f,j.props),w.ref=Ss(h,f,j),w.return=h,w):(w=Wr(j.type,j.key,j.props,null,h.mode,w),w.ref=Ss(h,f,j),w.return=h,w)}function d(h,f,j,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==j.containerInfo||f.stateNode.implementation!==j.implementation?(f=ol(j,h.mode,w),f.return=h,f):(f=a(f,j.children||[]),f.return=h,f)}function p(h,f,j,w,N){return f===null||f.tag!==7?(f=kn(j,h.mode,w,N),f.return=h,f):(f=a(f,j),f.return=h,f)}function g(h,f,j){if(typeof f=="string"&&f!==""||typeof f=="number")return f=il(""+f,h.mode,j),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xr:return j=Wr(f.type,f.key,f.props,null,h.mode,j),j.ref=Ss(h,null,f),j.return=h,j;case Un:return f=ol(f,h.mode,j),f.return=h,f;case Zt:var w=f._init;return g(h,w(f._payload),j)}if(Ds(f)||js(f))return f=kn(f,h.mode,j,null),f.return=h,f;kr(h,f)}return null}function u(h,f,j,w){var N=f!==null?f.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:o(h,f,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case xr:return j.key===N?c(h,f,j,w):null;case Un:return j.key===N?d(h,f,j,w):null;case Zt:return N=j._init,u(h,f,N(j._payload),w)}if(Ds(j)||js(j))return N!==null?null:p(h,f,j,w,null);kr(h,j)}return null}function x(h,f,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(j)||null,o(f,h,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xr:return h=h.get(w.key===null?j:w.key)||null,c(f,h,w,N);case Un:return h=h.get(w.key===null?j:w.key)||null,d(f,h,w,N);case Zt:var I=w._init;return x(h,f,j,I(w._payload),N)}if(Ds(w)||js(w))return h=h.get(j)||null,p(f,h,w,N,null);kr(f,w)}return null}function v(h,f,j,w){for(var N=null,I=null,F=f,_=f=0,V=null;F!==null&&_<j.length;_++){F.index>_?(V=F,F=null):V=F.sibling;var A=u(h,F,j[_],w);if(A===null){F===null&&(F=V);break}e&&F&&A.alternate===null&&t(h,F),f=l(A,f,_),I===null?N=A:I.sibling=A,I=A,F=V}if(_===j.length)return s(h,F),Ne&&yn(h,_),N;if(F===null){for(;_<j.length;_++)F=g(h,j[_],w),F!==null&&(f=l(F,f,_),I===null?N=F:I.sibling=F,I=F);return Ne&&yn(h,_),N}for(F=r(h,F);_<j.length;_++)V=x(F,h,_,j[_],w),V!==null&&(e&&V.alternate!==null&&F.delete(V.key===null?_:V.key),f=l(V,f,_),I===null?N=V:I.sibling=V,I=V);return e&&F.forEach(function(te){return t(h,te)}),Ne&&yn(h,_),N}function y(h,f,j,w){var N=js(j);if(typeof N!="function")throw Error(M(150));if(j=N.call(j),j==null)throw Error(M(151));for(var I=N=null,F=f,_=f=0,V=null,A=j.next();F!==null&&!A.done;_++,A=j.next()){F.index>_?(V=F,F=null):V=F.sibling;var te=u(h,F,A.value,w);if(te===null){F===null&&(F=V);break}e&&F&&te.alternate===null&&t(h,F),f=l(te,f,_),I===null?N=te:I.sibling=te,I=te,F=V}if(A.done)return s(h,F),Ne&&yn(h,_),N;if(F===null){for(;!A.done;_++,A=j.next())A=g(h,A.value,w),A!==null&&(f=l(A,f,_),I===null?N=A:I.sibling=A,I=A);return Ne&&yn(h,_),N}for(F=r(h,F);!A.done;_++,A=j.next())A=x(F,h,_,A.value,w),A!==null&&(e&&A.alternate!==null&&F.delete(A.key===null?_:A.key),f=l(A,f,_),I===null?N=A:I.sibling=A,I=A);return e&&F.forEach(function(Y){return t(h,Y)}),Ne&&yn(h,_),N}function b(h,f,j,w){if(typeof j=="object"&&j!==null&&j.type===Bn&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case xr:e:{for(var N=j.key,I=f;I!==null;){if(I.key===N){if(N=j.type,N===Bn){if(I.tag===7){s(h,I.sibling),f=a(I,j.props.children),f.return=h,h=f;break e}}else if(I.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zt&&qo(N)===I.type){s(h,I.sibling),f=a(I,j.props),f.ref=Ss(h,I,j),f.return=h,h=f;break e}s(h,I);break}else t(h,I);I=I.sibling}j.type===Bn?(f=kn(j.props.children,h.mode,w,j.key),f.return=h,h=f):(w=Wr(j.type,j.key,j.props,null,h.mode,w),w.ref=Ss(h,f,j),w.return=h,h=w)}return i(h);case Un:e:{for(I=j.key;f!==null;){if(f.key===I)if(f.tag===4&&f.stateNode.containerInfo===j.containerInfo&&f.stateNode.implementation===j.implementation){s(h,f.sibling),f=a(f,j.children||[]),f.return=h,h=f;break e}else{s(h,f);break}else t(h,f);f=f.sibling}f=ol(j,h.mode,w),f.return=h,h=f}return i(h);case Zt:return I=j._init,b(h,f,I(j._payload),w)}if(Ds(j))return v(h,f,j,w);if(js(j))return y(h,f,j,w);kr(h,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,f!==null&&f.tag===6?(s(h,f.sibling),f=a(f,j),f.return=h,h=f):(s(h,f),f=il(j,h.mode,w),f.return=h,h=f),i(h)):s(h,f)}return b}var os=Md(!0),Od=Md(!1),ia=gn(null),oa=null,Kn=null,Pi=null;function Di(){Pi=Kn=oa=null}function Ri(e){var t=ia.current;je(ia),e._currentValue=t}function Ul(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function ss(e,t){oa=e,Pi=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Pi!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(oa===null)throw Error(M(308));Kn=e,oa.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var Sn=null;function Ii(e){Sn===null?Sn=[e]:Sn.push(e)}function Ud(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,Ii(t)):(s.next=a.next,a.next=s),t.interleaved=s,qt(e,r)}function qt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var en=!1;function Ti(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,qt(e,s)}return a=r.interleaved,a===null?(t.next=t,Ii(r)):(t.next=a.next,a.next=t),r.interleaved=t,qt(e,s)}function Mr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,vi(e,s)}}function Qo(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ca(e,t,s,r){var a=e.updateQueue;en=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=c))}if(l!==null){var g=a.baseState;i=0,p=d=c=null,o=l;do{var u=o.lane,x=o.eventTime;if((r&u)===u){p!==null&&(p=p.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,y=o;switch(u=t,x=s,y.tag){case 1:if(v=y.payload,typeof v=="function"){g=v.call(x,g,u);break e}g=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,u=typeof v=="function"?v.call(x,g,u):v,u==null)break e;g=Ee({},g,u);break e;case 2:en=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,u=a.effects,u===null?a.effects=[o]:u.push(o))}else x={eventTime:x,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=x,c=g):p=p.next=x,i|=u;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;u=o,o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}while(!0);if(p===null&&(c=g),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Rn|=i,e.lanes=i,e.memoizedState=g}}function Yo(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(M(191,a));a.call(r)}}}var dr={},zt=gn(dr),Zs=gn(dr),er=gn(dr);function Cn(e){if(e===dr)throw Error(M(174));return e}function $i(e,t){switch(xe(er,t),xe(Zs,e),xe(zt,dr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bl(t,e)}je(zt),xe(zt,t)}function cs(){je(zt),je(Zs),je(er)}function Vd(e){Cn(er.current);var t=Cn(zt.current),s=bl(t,e.type);t!==s&&(xe(Zs,e),xe(zt,s))}function Li(e){Zs.current===e&&(je(zt),je(Zs))}var Se=gn(0);function da(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function Fi(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var Or=Kt.ReactCurrentDispatcher,nl=Kt.ReactCurrentBatchConfig,Dn=0,Ce=null,$e=null,ze=null,ua=!1,As=!1,tr=0,tf=0;function He(){throw Error(M(321))}function zi(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!_t(e[s],t[s]))return!1;return!0}function Ai(e,t,s,r,a,l){if(Dn=l,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Or.current=e===null||e.memoizedState===null?af:lf,e=s(r,a),As){l=0;do{if(As=!1,tr=0,25<=l)throw Error(M(301));l+=1,ze=$e=null,t.updateQueue=null,Or.current=of,e=s(r,a)}while(As)}if(Or.current=ma,t=$e!==null&&$e.next!==null,Dn=0,ze=$e=Ce=null,ua=!1,t)throw Error(M(300));return e}function Mi(){var e=tr!==0;return tr=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ce.memoizedState=ze=e:ze=ze.next=e,ze}function vt(){if($e===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ze===null?Ce.memoizedState:ze.next;if(t!==null)ze=t,$e=e;else{if(e===null)throw Error(M(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ze===null?Ce.memoizedState=ze=e:ze=ze.next=e}return ze}function nr(e,t){return typeof t=="function"?t(e):t}function sl(e){var t=vt(),s=t.queue;if(s===null)throw Error(M(311));s.lastRenderedReducer=e;var r=$e,a=r.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var p=d.lane;if((Dn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=g,i=r):c=c.next=g,Ce.lanes|=p,Rn|=p}d=d.next}while(d!==null&&d!==l);c===null?i=r:c.next=o,_t(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do l=a.lane,Ce.lanes|=l,Rn|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function rl(e){var t=vt(),s=t.queue;if(s===null)throw Error(M(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);_t(l,t.memoizedState)||(et=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,r]}function Hd(){}function Wd(e,t){var s=Ce,r=vt(),a=t(),l=!_t(r.memoizedState,a);if(l&&(r.memoizedState=a,et=!0),r=r.queue,Oi(Qd.bind(null,s,r,e),[e]),r.getSnapshot!==t||l||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,sr(9,qd.bind(null,s,r,a,t),void 0,null),Ae===null)throw Error(M(349));Dn&30||Gd(s,t,a)}return a}function Gd(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function qd(e,t,s,r){t.value=s,t.getSnapshot=r,Yd(t)&&Kd(e)}function Qd(e,t,s){return s(function(){Yd(t)&&Kd(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!_t(e,s)}catch{return!0}}function Kd(e){var t=qt(e,1);t!==null&&kt(t,e,1,-1)}function Ko(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:e},t.queue=e,e=e.dispatch=rf.bind(null,Ce,e),[t.memoizedState,e]}function sr(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function Xd(){return vt().memoizedState}function Ur(e,t,s,r){var a=$t();Ce.flags|=e,a.memoizedState=sr(1|t,s,void 0,r===void 0?null:r)}function Ea(e,t,s,r){var a=vt();r=r===void 0?null:r;var l=void 0;if($e!==null){var i=$e.memoizedState;if(l=i.destroy,r!==null&&zi(r,i.deps)){a.memoizedState=sr(t,s,l,r);return}}Ce.flags|=e,a.memoizedState=sr(1|t,s,l,r)}function Xo(e,t){return Ur(8390656,8,e,t)}function Oi(e,t){return Ea(2048,8,e,t)}function Jd(e,t){return Ea(4,2,e,t)}function Zd(e,t){return Ea(4,4,e,t)}function eu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tu(e,t,s){return s=s!=null?s.concat([e]):null,Ea(4,4,eu.bind(null,t,e),s)}function Ui(){}function nu(e,t){var s=vt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&zi(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function su(e,t){var s=vt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&zi(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function ru(e,t,s){return Dn&21?(_t(s,t)||(s=cd(),Ce.lanes|=s,Rn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=s)}function nf(e,t){var s=me;me=s!==0&&4>s?s:4,e(!0);var r=nl.transition;nl.transition={};try{e(!1),t()}finally{me=s,nl.transition=r}}function au(){return vt().memoizedState}function sf(e,t,s){var r=mn(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},lu(e))iu(t,s);else if(s=Ud(e,t,s,r),s!==null){var a=Ye();kt(s,e,r,a),ou(s,t,r)}}function rf(e,t,s){var r=mn(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(lu(e))iu(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,s);if(a.hasEagerState=!0,a.eagerState=o,_t(o,i)){var c=t.interleaved;c===null?(a.next=a,Ii(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Ud(e,t,a,r),s!==null&&(a=Ye(),kt(s,e,r,a),ou(s,t,r))}}function lu(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function iu(e,t){As=ua=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ou(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,vi(e,s)}}var ma={readContext:gt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},af={readContext:gt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Xo,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ur(4194308,4,eu.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ur(4,2,e,t)},useMemo:function(e,t){var s=$t();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=$t();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sf.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Ko,useDebugValue:Ui,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Ko(!1),t=e[0];return e=nf.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Ce,a=$t();if(Ne){if(s===void 0)throw Error(M(407));s=s()}else{if(s=t(),Ae===null)throw Error(M(349));Dn&30||Gd(r,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,Xo(Qd.bind(null,r,l,e),[e]),r.flags|=2048,sr(9,qd.bind(null,r,l,s,t),void 0,null),s},useId:function(){var e=$t(),t=Ae.identifierPrefix;if(Ne){var s=Bt,r=Ut;s=(r&~(1<<32-Et(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=tr++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=tf++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lf={readContext:gt,useCallback:nu,useContext:gt,useEffect:Oi,useImperativeHandle:tu,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:su,useReducer:sl,useRef:Xd,useState:function(){return sl(nr)},useDebugValue:Ui,useDeferredValue:function(e){var t=vt();return ru(t,$e.memoizedState,e)},useTransition:function(){var e=sl(nr)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Wd,useId:au,unstable_isNewReconciler:!1},of={readContext:gt,useCallback:nu,useContext:gt,useEffect:Oi,useImperativeHandle:tu,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:su,useReducer:rl,useRef:Xd,useState:function(){return rl(nr)},useDebugValue:Ui,useDeferredValue:function(e){var t=vt();return $e===null?t.memoizedState=e:ru(t,$e.memoizedState,e)},useTransition:function(){var e=rl(nr)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Wd,useId:au,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Bl(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Ee({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ka={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ye(),a=mn(e),l=Vt(r,a);l.payload=t,s!=null&&(l.callback=s),t=dn(e,l,a),t!==null&&(kt(t,e,a,r),Mr(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ye(),a=mn(e),l=Vt(r,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=dn(e,l,a),t!==null&&(kt(t,e,a,r),Mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ye(),r=mn(e),a=Vt(s,r);a.tag=2,t!=null&&(a.callback=t),t=dn(e,a,r),t!==null&&(kt(t,e,r,s),Mr(t,e,r))}};function Jo(e,t,s,r,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!Ys(s,r)||!Ys(a,l):!0}function cu(e,t,s){var r=!1,a=pn,l=t.contextType;return typeof l=="object"&&l!==null?l=gt(l):(a=nt(t)?_n:qe.current,r=t.contextTypes,l=(r=r!=null)?ls(e,a):pn),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ka,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Zo(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function Vl(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Ti(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=gt(l):(l=nt(t)?_n:qe.current,a.context=ls(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Bl(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ka.enqueueReplaceState(a,a.state,null),ca(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var s="",r=t;do s+=Lm(r),r=r.return;while(r);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function al(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Hl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var cf=typeof WeakMap=="function"?WeakMap:Map;function du(e,t,s){s=Vt(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){fa||(fa=!0,ei=r),Hl(e,t)},s}function uu(e,t,s){s=Vt(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){Hl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){Hl(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function ec(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new cf;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=wf.bind(null,e,t,s),t.then(e,e))}function tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nc(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Vt(-1,1),t.tag=2,dn(s,t,1))),s.lanes|=1),e)}var df=Kt.ReactCurrentOwner,et=!1;function Qe(e,t,s,r){t.child=e===null?Od(t,null,s,r):os(t,e.child,s,r)}function sc(e,t,s,r,a){s=s.render;var l=t.ref;return ss(t,a),r=Ai(e,t,s,r,l,a),s=Mi(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qt(e,t,a)):(Ne&&s&&Ei(t),t.flags|=1,Qe(e,t,r,a),t.child)}function rc(e,t,s,r,a){if(e===null){var l=s.type;return typeof l=="function"&&!Yi(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,mu(e,t,l,r,a)):(e=Wr(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:Ys,s(i,r)&&e.ref===t.ref)return Qt(e,t,a)}return t.flags|=1,e=hn(l,r),e.ref=t.ref,e.return=t,t.child=e}function mu(e,t,s,r,a){if(e!==null){var l=e.memoizedProps;if(Ys(l,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,Qt(e,t,a)}return Wl(e,t,s,r,a)}function hu(e,t,s){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Jn,lt),lt|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Jn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:s,xe(Jn,lt),lt|=r}else l!==null?(r=l.baseLanes|s,t.memoizedState=null):r=s,xe(Jn,lt),lt|=r;return Qe(e,t,a,s),t.child}function fu(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,s,r,a){var l=nt(s)?_n:qe.current;return l=ls(t,l),ss(t,a),s=Ai(e,t,s,r,l,a),r=Mi(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qt(e,t,a)):(Ne&&r&&Ei(t),t.flags|=1,Qe(e,t,s,a),t.child)}function ac(e,t,s,r,a){if(nt(s)){var l=!0;ra(t)}else l=!1;if(ss(t,a),t.stateNode===null)Br(e,t),cu(t,s,r),Vl(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=gt(d):(d=nt(s)?_n:qe.current,d=ls(t,d));var p=s.getDerivedStateFromProps,g=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==d)&&Zo(t,i,r,d),en=!1;var u=t.memoizedState;i.state=u,ca(t,r,i,a),c=t.memoizedState,o!==r||u!==c||tt.current||en?(typeof p=="function"&&(Bl(t,s,p,r),c=t.memoizedState),(o=en||Jo(t,s,o,r,u,c,d))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Bd(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Nt(t.type,o),i.props=d,g=t.pendingProps,u=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=nt(s)?_n:qe.current,c=ls(t,c));var x=s.getDerivedStateFromProps;(p=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||u!==c)&&Zo(t,i,r,c),en=!1,u=t.memoizedState,i.state=u,ca(t,r,i,a);var v=t.memoizedState;o!==g||u!==v||tt.current||en?(typeof x=="function"&&(Bl(t,s,x,r),v=t.memoizedState),(d=en||Jo(t,s,d,r,u,v,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Gl(e,t,s,r,l,a)}function Gl(e,t,s,r,a,l){fu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&Ho(t,s,!1),Qt(e,t,l);r=t.stateNode,df.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=os(t,e.child,null,l),t.child=os(t,null,o,l)):Qe(e,t,o,l),t.memoizedState=r.state,a&&Ho(t,s,!0),t.child}function pu(e){var t=e.stateNode;t.pendingContext?Vo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vo(e,t.context,!1),$i(e,t.containerInfo)}function lc(e,t,s,r,a){return is(),_i(a),t.flags|=256,Qe(e,t,s,r),t.child}var ql={dehydrated:null,treeContext:null,retryLane:0};function Ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,s){var r=t.pendingProps,a=Se.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),xe(Se,a&1),e===null)return Ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Da(i,r,0,null),e=kn(e,r,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ql(s),t.memoizedState=ql,e):Bi(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return uf(e,t,i,r,o,a,s);if(l){l=r.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=hn(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=hn(o,l):(l=kn(l,i,s,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Ql(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~s,t.memoizedState=ql,r}return l=e.child,e=l.sibling,r=hn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Bi(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _r(e,t,s,r){return r!==null&&_i(r),os(t,e.child,null,s),e=Bi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uf(e,t,s,r,a,l,i){if(s)return t.flags&256?(t.flags&=-257,r=al(Error(M(422))),_r(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Da({mode:"visible",children:r.children},a,0,null),l=kn(l,a,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&os(t,e.child,null,i),t.child.memoizedState=Ql(i),t.memoizedState=ql,l);if(!(t.mode&1))return _r(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(M(419)),r=al(l,r,void 0),_r(e,t,i,r)}if(o=(i&e.childLanes)!==0,et||o){if(r=Ae,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,qt(e,a),kt(r,e,a,-1))}return Qi(),r=al(Error(M(421))),_r(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Sf.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,it=cn(a.nextSibling),ot=t,Ne=!0,St=null,e!==null&&(ht[ft++]=Ut,ht[ft++]=Bt,ht[ft++]=Pn,Ut=e.id,Bt=e.overflow,Pn=t),t=Bi(t,r.children),t.flags|=4096,t)}function ic(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ul(e.return,t,s)}function ll(e,t,s,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=s,l.tailMode=a)}function gu(e,t,s){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(Qe(e,t,r.children,s),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ic(e,s,t);else if(e.tag===19)ic(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&da(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),ll(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&da(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}ll(t,!0,s,null,l);break;case"together":ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Br(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,s=hn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=hn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function mf(e,t,s){switch(t.tag){case 3:pu(t),is();break;case 5:Vd(t);break;case 1:nt(t.type)&&ra(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;xe(ia,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Se,Se.current&1),t.flags|=128,null):s&t.child.childLanes?xu(e,t,s):(xe(Se,Se.current&1),e=Qt(e,t,s),e!==null?e.sibling:null);xe(Se,Se.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return gu(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,hu(e,t,s)}return Qt(e,t,s)}var vu,Yl,ju,yu;vu=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Yl=function(){};ju=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Cn(zt.current);var l=null;switch(s){case"input":a=gl(e,a),r=gl(e,r),l=[];break;case"select":a=Ee({},a,{value:void 0}),r=Ee({},r,{value:void 0}),l=[];break;case"textarea":a=yl(e,a),r=yl(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=na)}Nl(s,r);var i;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bs.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(l||(l=[]),l.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};yu=function(e,t,s,r){s!==r&&(t.flags|=4)};function Cs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function hf(e,t,s){var r=t.pendingProps;switch(ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return nt(t.type)&&sa(),We(t),null;case 3:return r=t.stateNode,cs(),je(tt),je(qe),Fi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Er(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(si(St),St=null))),Yl(e,t),We(t),null;case 5:Li(t);var a=Cn(er.current);if(s=t.type,e!==null&&t.stateNode!=null)ju(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return We(t),null}if(e=Cn(zt.current),Er(t)){r=t.stateNode,s=t.type;var l=t.memoizedProps;switch(r[Lt]=t,r[Js]=l,e=(t.mode&1)!==0,s){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(a=0;a<Is.length;a++)ve(Is[a],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":xo(r,l),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ve("invalid",r);break;case"textarea":vo(r,l),ve("invalid",r)}Nl(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&Cr(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Cr(r.textContent,o,e),a=["children",""+o]):Bs.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ve("scroll",r)}switch(s){case"input":gr(r),go(r,l,!0);break;case"textarea":gr(r),jo(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=na)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Lt]=t,e[Js]=r,vu(e,t,!1,!1),t.stateNode=e;e:{switch(i=wl(s,r),s){case"dialog":ve("cancel",e),ve("close",e),a=r;break;case"iframe":case"object":case"embed":ve("load",e),a=r;break;case"video":case"audio":for(a=0;a<Is.length;a++)ve(Is[a],e);a=r;break;case"source":ve("error",e),a=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),a=r;break;case"details":ve("toggle",e),a=r;break;case"input":xo(e,r),a=gl(e,r),ve("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Ee({},r,{value:void 0}),ve("invalid",e);break;case"textarea":vo(e,r),a=yl(e,r),ve("invalid",e);break;default:a=r}Nl(s,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Xc(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yc(e,c)):l==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Vs(e,c):typeof c=="number"&&Vs(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Bs.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ve("scroll",e):c!=null&&mi(e,l,c,i))}switch(s){case"input":gr(e),go(e,r,!1);break;case"textarea":gr(e),jo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Zn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=na)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)yu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(s=Cn(er.current),Cn(zt.current),Er(t)){if(r=t.stateNode,s=t.memoizedProps,r[Lt]=t,(l=r.nodeValue!==s)&&(e=ot,e!==null))switch(e.tag){case 3:Cr(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cr(r.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return We(t),null;case 13:if(je(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&it!==null&&t.mode&1&&!(t.flags&128))Ad(),is(),t.flags|=98560,l=!1;else if(l=Er(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(M(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[Lt]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),l=!1}else St!==null&&(si(St),St=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Le===0&&(Le=3):Qi())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return cs(),Yl(e,t),e===null&&Ks(t.stateNode.containerInfo),We(t),null;case 10:return Ri(t.type._context),We(t),null;case 17:return nt(t.type)&&sa(),We(t),null;case 19:if(je(Se),l=t.memoizedState,l===null)return We(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Cs(l,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=da(e),i!==null){for(t.flags|=128,Cs(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)l=s,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return xe(Se,Se.current&1|2),t.child}e=e.sibling}l.tail!==null&&Re()>us&&(t.flags|=128,r=!0,Cs(l,!1),t.lanes=4194304)}else{if(!r)if(e=da(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Cs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Ne)return We(t),null}else 2*Re()-l.renderingStartTime>us&&s!==1073741824&&(t.flags|=128,r=!0,Cs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(s=l.last,s!==null?s.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Re(),t.sibling=null,s=Se.current,xe(Se,r?s&1|2:s&1),t):(We(t),null);case 22:case 23:return qi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function ff(e,t){switch(ki(t),t.tag){case 1:return nt(t.type)&&sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cs(),je(tt),je(qe),Fi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Li(t),null;case 13:if(je(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Se),null;case 4:return cs(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return qi(),null;case 24:return null;default:return null}}var Pr=!1,Ge=!1,pf=typeof WeakSet=="function"?WeakSet:Set,W=null;function Xn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){_e(e,t,r)}else s.current=null}function Kl(e,t,s){try{s()}catch(r){_e(e,t,r)}}var oc=!1;function xf(e,t){if(Tl=Zr,e=Cd(),Ci(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,o=-1,c=-1,d=0,p=0,g=e,u=null;t:for(;;){for(var x;g!==s||a!==0&&g.nodeType!==3||(o=i+a),g!==l||r!==0&&g.nodeType!==3||(c=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(x=g.firstChild)!==null;)u=g,g=x;for(;;){if(g===e)break t;if(u===s&&++d===a&&(o=i),u===l&&++p===r&&(c=i),(x=g.nextSibling)!==null)break;g=u,u=g.parentNode}g=x}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for($l={focusedElem:e,selectionRange:s},Zr=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:Nt(t.type,y),b);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){_e(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=oc,oc=!1,v}function Ms(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Kl(t,s,l)}a=a.next}while(a!==r)}}function _a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Xl(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function bu(e){var t=e.alternate;t!==null&&(e.alternate=null,bu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Js],delete t[zl],delete t[Xh],delete t[Jh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nu(e){return e.tag===5||e.tag===3||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=na));else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,s),e=e.sibling;e!==null;)Jl(e,t,s),e=e.sibling}function Zl(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zl(e,t,s),e=e.sibling;e!==null;)Zl(e,t,s),e=e.sibling}var Ue=null,wt=!1;function Jt(e,t,s){for(s=s.child;s!==null;)wu(e,t,s),s=s.sibling}function wu(e,t,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ya,s)}catch{}switch(s.tag){case 5:Ge||Xn(s,t);case 6:var r=Ue,a=wt;Ue=null,Jt(e,t,s),Ue=r,wt=a,Ue!==null&&(wt?(e=Ue,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ue.removeChild(s.stateNode));break;case 18:Ue!==null&&(wt?(e=Ue,s=s.stateNode,e.nodeType===8?Za(e.parentNode,s):e.nodeType===1&&Za(e,s),qs(e)):Za(Ue,s.stateNode));break;case 4:r=Ue,a=wt,Ue=s.stateNode.containerInfo,wt=!0,Jt(e,t,s),Ue=r,wt=a;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Kl(s,t,i),a=a.next}while(a!==r)}Jt(e,t,s);break;case 1:if(!Ge&&(Xn(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){_e(s,t,o)}Jt(e,t,s);break;case 21:Jt(e,t,s);break;case 22:s.mode&1?(Ge=(r=Ge)||s.memoizedState!==null,Jt(e,t,s),Ge=r):Jt(e,t,s);break;default:Jt(e,t,s)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new pf),t.forEach(function(r){var a=Cf.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function bt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ue=o.stateNode,wt=!1;break e;case 3:Ue=o.stateNode.containerInfo,wt=!0;break e;case 4:Ue=o.stateNode.containerInfo,wt=!0;break e}o=o.return}if(Ue===null)throw Error(M(160));wu(l,i,a),Ue=null,wt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){_e(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Su(t,e),t=t.sibling}function Su(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Tt(e),r&4){try{Ms(3,e,e.return),_a(3,e)}catch(y){_e(e,e.return,y)}try{Ms(5,e,e.return)}catch(y){_e(e,e.return,y)}}break;case 1:bt(t,e),Tt(e),r&512&&s!==null&&Xn(s,s.return);break;case 5:if(bt(t,e),Tt(e),r&512&&s!==null&&Xn(s,s.return),e.flags&32){var a=e.stateNode;try{Vs(a,"")}catch(y){_e(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=s!==null?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Gc(a,l),wl(o,i);var d=wl(o,l);for(i=0;i<c.length;i+=2){var p=c[i],g=c[i+1];p==="style"?Xc(a,g):p==="dangerouslySetInnerHTML"?Yc(a,g):p==="children"?Vs(a,g):mi(a,p,g,d)}switch(o){case"input":vl(a,l);break;case"textarea":qc(a,l);break;case"select":var u=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Zn(a,!!l.multiple,x,!1):u!==!!l.multiple&&(l.defaultValue!=null?Zn(a,!!l.multiple,l.defaultValue,!0):Zn(a,!!l.multiple,l.multiple?[]:"",!1))}a[Js]=l}catch(y){_e(e,e.return,y)}}break;case 6:if(bt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(M(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(y){_e(e,e.return,y)}}break;case 3:if(bt(t,e),Tt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(y){_e(e,e.return,y)}break;case 4:bt(t,e),Tt(e);break;case 13:bt(t,e),Tt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Wi=Re())),r&4&&dc(e);break;case 22:if(p=s!==null&&s.memoizedState!==null,e.mode&1?(Ge=(d=Ge)||p,bt(t,e),Ge=d):bt(t,e),Tt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(W=e,p=e.child;p!==null;){for(g=W=p;W!==null;){switch(u=W,x=u.child,u.tag){case 0:case 11:case 14:case 15:Ms(4,u,u.return);break;case 1:Xn(u,u.return);var v=u.stateNode;if(typeof v.componentWillUnmount=="function"){r=u,s=u.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){_e(r,s,y)}}break;case 5:Xn(u,u.return);break;case 22:if(u.memoizedState!==null){mc(g);continue}}x!==null?(x.return=u,W=x):mc(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{a=g.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=g.stateNode,c=g.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Kc("display",i))}catch(y){_e(e,e.return,y)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(y){_e(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:bt(t,e),Tt(e),r&4&&dc(e);break;case 21:break;default:bt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Nu(s)){var r=s;break e}s=s.return}throw Error(M(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Vs(a,""),r.flags&=-33);var l=cc(e);Zl(e,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,o=cc(e);Jl(e,o,i);break;default:throw Error(M(161))}}catch(c){_e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gf(e,t,s){W=e,Cu(e)}function Cu(e,t,s){for(var r=(e.mode&1)!==0;W!==null;){var a=W,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Pr;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ge;o=Pr;var d=Ge;if(Pr=i,(Ge=c)&&!d)for(W=a;W!==null;)i=W,c=i.child,i.tag===22&&i.memoizedState!==null?hc(a):c!==null?(c.return=i,W=c):hc(a);for(;l!==null;)W=l,Cu(l),l=l.sibling;W=a,Pr=o,Ge=d}uc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,W=l):uc(e)}}function uc(e){for(;W!==null;){var t=W;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||_a(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Nt(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Yo(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Yo(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&qs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ge||t.flags&512&&Xl(t)}catch(u){_e(t,t.return,u)}}if(t===e){W=null;break}if(s=t.sibling,s!==null){s.return=t.return,W=s;break}W=t.return}}function mc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var s=t.sibling;if(s!==null){s.return=t.return,W=s;break}W=t.return}}function hc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{_a(4,t)}catch(c){_e(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){_e(t,a,c)}}var l=t.return;try{Xl(t)}catch(c){_e(t,l,c)}break;case 5:var i=t.return;try{Xl(t)}catch(c){_e(t,i,c)}}}catch(c){_e(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var vf=Math.ceil,ha=Kt.ReactCurrentDispatcher,Vi=Kt.ReactCurrentOwner,xt=Kt.ReactCurrentBatchConfig,ce=0,Ae=null,Ie=null,Be=0,lt=0,Jn=gn(0),Le=0,rr=null,Rn=0,Pa=0,Hi=0,Os=null,Ze=null,Wi=0,us=1/0,Mt=null,fa=!1,ei=null,un=null,Dr=!1,rn=null,pa=0,Us=0,ti=null,Vr=-1,Hr=0;function Ye(){return ce&6?Re():Vr!==-1?Vr:Vr=Re()}function mn(e){return e.mode&1?ce&2&&Be!==0?Be&-Be:ef.transition!==null?(Hr===0&&(Hr=cd()),Hr):(e=me,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function kt(e,t,s,r){if(50<Us)throw Us=0,ti=null,Error(M(185));ir(e,s,r),(!(ce&2)||e!==Ae)&&(e===Ae&&(!(ce&2)&&(Pa|=s),Le===4&&nn(e,Be)),st(e,r),s===1&&ce===0&&!(t.mode&1)&&(us=Re()+500,Ca&&vn()))}function st(e,t){var s=e.callbackNode;eh(e,t);var r=Jr(e,e===Ae?Be:0);if(r===0)s!==null&&No(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&No(s),t===1)e.tag===0?Zh(fc.bind(null,e)):Ld(fc.bind(null,e)),Yh(function(){!(ce&6)&&vn()}),s=null;else{switch(dd(r)){case 1:s=gi;break;case 4:s=id;break;case 16:s=Xr;break;case 536870912:s=od;break;default:s=Xr}s=Tu(s,Eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Eu(e,t){if(Vr=-1,Hr=0,ce&6)throw Error(M(327));var s=e.callbackNode;if(rs()&&e.callbackNode!==s)return null;var r=Jr(e,e===Ae?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xa(e,r);else{t=r;var a=ce;ce|=2;var l=_u();(Ae!==e||Be!==t)&&(Mt=null,us=Re()+500,En(e,t));do try{bf();break}catch(o){ku(e,o)}while(!0);Di(),ha.current=l,ce=a,Ie!==null?t=0:(Ae=null,Be=0,t=Le)}if(t!==0){if(t===2&&(a=_l(e),a!==0&&(r=a,t=ni(e,a))),t===1)throw s=rr,En(e,0),nn(e,r),st(e,Re()),s;if(t===6)nn(e,r);else{if(a=e.current.alternate,!(r&30)&&!jf(a)&&(t=xa(e,r),t===2&&(l=_l(e),l!==0&&(r=l,t=ni(e,l))),t===1))throw s=rr,En(e,0),nn(e,r),st(e,Re()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:bn(e,Ze,Mt);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=Wi+500-Re(),10<t)){if(Jr(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Fl(bn.bind(null,e,Ze,Mt),t);break}bn(e,Ze,Mt);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Et(r);l=1<<i,i=t[i],i>a&&(a=i),r&=~l}if(r=a,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vf(r/1960))-r,10<r){e.timeoutHandle=Fl(bn.bind(null,e,Ze,Mt),r);break}bn(e,Ze,Mt);break;case 5:bn(e,Ze,Mt);break;default:throw Error(M(329))}}}return st(e,Re()),e.callbackNode===s?Eu.bind(null,e):null}function ni(e,t){var s=Os;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=xa(e,t),e!==2&&(t=Ze,Ze=s,t!==null&&si(t)),e}function si(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function jf(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],l=a.getSnapshot;a=a.value;try{if(!_t(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Hi,t&=~Pa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Et(t),r=1<<s;e[s]=-1,t&=~r}}function fc(e){if(ce&6)throw Error(M(327));rs();var t=Jr(e,0);if(!(t&1))return st(e,Re()),null;var s=xa(e,t);if(e.tag!==0&&s===2){var r=_l(e);r!==0&&(t=r,s=ni(e,r))}if(s===1)throw s=rr,En(e,0),nn(e,t),st(e,Re()),s;if(s===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Ze,Mt),st(e,Re()),null}function Gi(e,t){var s=ce;ce|=1;try{return e(t)}finally{ce=s,ce===0&&(us=Re()+500,Ca&&vn())}}function In(e){rn!==null&&rn.tag===0&&!(ce&6)&&rs();var t=ce;ce|=1;var s=xt.transition,r=me;try{if(xt.transition=null,me=1,e)return e()}finally{me=r,xt.transition=s,ce=t,!(ce&6)&&vn()}}function qi(){lt=Jn.current,je(Jn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Qh(s)),Ie!==null)for(s=Ie.return;s!==null;){var r=s;switch(ki(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sa();break;case 3:cs(),je(tt),je(qe),Fi();break;case 5:Li(r);break;case 4:cs();break;case 13:je(Se);break;case 19:je(Se);break;case 10:Ri(r.type._context);break;case 22:case 23:qi()}s=s.return}if(Ae=e,Ie=e=hn(e.current,null),Be=lt=t,Le=0,rr=null,Hi=Pa=Rn=0,Ze=Os=null,Sn!==null){for(t=0;t<Sn.length;t++)if(s=Sn[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}s.pending=r}Sn=null}return e}function ku(e,t){do{var s=Ie;try{if(Di(),Or.current=ma,ua){for(var r=Ce.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ua=!1}if(Dn=0,ze=$e=Ce=null,As=!1,tr=0,Vi.current=null,s===null||s.return===null){Le=1,rr=t,Ie=null;break}e:{var l=e,i=s.return,o=s,c=t;if(t=Be,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=o,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var u=p.alternate;u?(p.updateQueue=u.updateQueue,p.memoizedState=u.memoizedState,p.lanes=u.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=tc(i);if(x!==null){x.flags&=-257,nc(x,i,o,l,t),x.mode&1&&ec(l,d,t),t=x,c=d;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){ec(l,d,t),Qi();break e}c=Error(M(426))}}else if(Ne&&o.mode&1){var b=tc(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),nc(b,i,o,l,t),_i(ds(c,o));break e}}l=c=ds(c,o),Le!==4&&(Le=2),Os===null?Os=[l]:Os.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=du(l,c,t);Qo(l,h);break e;case 1:o=c;var f=l.type,j=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(un===null||!un.has(j)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=uu(l,o,t);Qo(l,w);break e}}l=l.return}while(l!==null)}Du(s)}catch(N){t=N,Ie===s&&s!==null&&(Ie=s=s.return);continue}break}while(!0)}function _u(){var e=ha.current;return ha.current=ma,e===null?ma:e}function Qi(){(Le===0||Le===3||Le===2)&&(Le=4),Ae===null||!(Rn&268435455)&&!(Pa&268435455)||nn(Ae,Be)}function xa(e,t){var s=ce;ce|=2;var r=_u();(Ae!==e||Be!==t)&&(Mt=null,En(e,t));do try{yf();break}catch(a){ku(e,a)}while(!0);if(Di(),ce=s,ha.current=r,Ie!==null)throw Error(M(261));return Ae=null,Be=0,Le}function yf(){for(;Ie!==null;)Pu(Ie)}function bf(){for(;Ie!==null&&!Wm();)Pu(Ie)}function Pu(e){var t=Iu(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Du(e):Ie=t,Vi.current=null}function Du(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=ff(s,t),s!==null){s.flags&=32767,Ie=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ie=null;return}}else if(s=hf(s,t,lt),s!==null){Ie=s;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Le===0&&(Le=5)}function bn(e,t,s){var r=me,a=xt.transition;try{xt.transition=null,me=1,Nf(e,t,s,r)}finally{xt.transition=a,me=r}return null}function Nf(e,t,s,r){do rs();while(rn!==null);if(ce&6)throw Error(M(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(th(e,l),e===Ae&&(Ie=Ae=null,Be=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Dr||(Dr=!0,Tu(Xr,function(){return rs(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=xt.transition,xt.transition=null;var i=me;me=1;var o=ce;ce|=4,Vi.current=null,xf(e,s),Su(s,e),Uh($l),Zr=!!Tl,$l=Tl=null,e.current=s,gf(s),Gm(),ce=o,me=i,xt.transition=l}else e.current=s;if(Dr&&(Dr=!1,rn=e,pa=a),l=e.pendingLanes,l===0&&(un=null),Ym(s.stateNode),st(e,Re()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(fa)throw fa=!1,e=ei,ei=null,e;return pa&1&&e.tag!==0&&rs(),l=e.pendingLanes,l&1?e===ti?Us++:(Us=0,ti=e):Us=0,vn(),null}function rs(){if(rn!==null){var e=dd(pa),t=xt.transition,s=me;try{if(xt.transition=null,me=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,pa=0,ce&6)throw Error(M(331));var a=ce;for(ce|=4,W=e.current;W!==null;){var l=W,i=l.child;if(W.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(W=d;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:Ms(8,p,l)}var g=p.child;if(g!==null)g.return=p,W=g;else for(;W!==null;){p=W;var u=p.sibling,x=p.return;if(bu(p),p===d){W=null;break}if(u!==null){u.return=x,W=u;break}W=x}}}var v=l.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}W=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,W=i;else e:for(;W!==null;){if(l=W,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ms(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,W=h;break e}W=l.return}}var f=e.current;for(W=f;W!==null;){i=W;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,W=j;else e:for(i=f;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_a(9,o)}}catch(N){_e(o,o.return,N)}if(o===i){W=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,W=w;break e}W=o.return}}if(ce=a,vn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ya,e)}catch{}r=!0}return r}finally{me=s,xt.transition=t}}return!1}function pc(e,t,s){t=ds(s,t),t=du(e,t,1),e=dn(e,t,1),t=Ye(),e!==null&&(ir(e,1,t),st(e,t))}function _e(e,t,s){if(e.tag===3)pc(e,e,s);else for(;t!==null;){if(t.tag===3){pc(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=ds(s,e),e=uu(t,e,1),t=dn(t,e,1),e=Ye(),t!==null&&(ir(t,1,e),st(t,e));break}}t=t.return}}function wf(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&s,Ae===e&&(Be&s)===s&&(Le===4||Le===3&&(Be&130023424)===Be&&500>Re()-Wi?En(e,0):Hi|=s),st(e,t)}function Ru(e,t){t===0&&(e.mode&1?(t=yr,yr<<=1,!(yr&130023424)&&(yr=4194304)):t=1);var s=Ye();e=qt(e,t),e!==null&&(ir(e,t,s),st(e,s))}function Sf(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Ru(e,s)}function Cf(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Ru(e,s)}var Iu;Iu=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return et=!1,mf(e,t,s);et=!!(e.flags&131072)}else et=!1,Ne&&t.flags&1048576&&Fd(t,la,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Br(e,t),e=t.pendingProps;var a=ls(t,qe.current);ss(t,s),a=Ai(null,t,r,e,a,s);var l=Mi();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(l=!0,ra(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ti(t),a.updater=ka,t.stateNode=a,a._reactInternals=t,Vl(t,r,e,s),t=Gl(null,t,r,!0,l,s)):(t.tag=0,Ne&&l&&Ei(t),Qe(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Br(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=kf(r),e=Nt(r,e),a){case 0:t=Wl(null,t,r,e,s);break e;case 1:t=ac(null,t,r,e,s);break e;case 11:t=sc(null,t,r,e,s);break e;case 14:t=rc(null,t,r,Nt(r.type,e),s);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Nt(r,a),Wl(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Nt(r,a),ac(e,t,r,a,s);case 3:e:{if(pu(t),e===null)throw Error(M(387));r=t.pendingProps,l=t.memoizedState,a=l.element,Bd(e,t),ca(t,r,null,s);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=ds(Error(M(423)),t),t=lc(e,t,r,s,a);break e}else if(r!==a){a=ds(Error(M(424)),t),t=lc(e,t,r,s,a);break e}else for(it=cn(t.stateNode.containerInfo.firstChild),ot=t,Ne=!0,St=null,s=Od(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(is(),r===a){t=Qt(e,t,s);break e}Qe(e,t,r,s)}t=t.child}return t;case 5:return Vd(t),e===null&&Ol(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Ll(r,a)?i=null:l!==null&&Ll(r,l)&&(t.flags|=32),fu(e,t),Qe(e,t,i,s),t.child;case 6:return e===null&&Ol(t),null;case 13:return xu(e,t,s);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=os(t,null,r,s):Qe(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Nt(r,a),sc(e,t,r,a,s);case 7:return Qe(e,t,t.pendingProps,s),t.child;case 8:return Qe(e,t,t.pendingProps.children,s),t.child;case 12:return Qe(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,xe(ia,r._currentValue),r._currentValue=i,l!==null)if(_t(l.value,i)){if(l.children===a.children&&!tt.current){t=Qt(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Vt(-1,s&-s),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),Ul(l.return,s,t),o.lanes|=s;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(M(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),Ul(i,s,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Qe(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ss(t,s),a=gt(a),r=r(a),t.flags|=1,Qe(e,t,r,s),t.child;case 14:return r=t.type,a=Nt(r,t.pendingProps),a=Nt(r.type,a),rc(e,t,r,a,s);case 15:return mu(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Nt(r,a),Br(e,t),t.tag=1,nt(r)?(e=!0,ra(t)):e=!1,ss(t,s),cu(t,r,a),Vl(t,r,a,s),Gl(null,t,r,!0,e,s);case 19:return gu(e,t,s);case 22:return hu(e,t,s)}throw Error(M(156,t.tag))};function Tu(e,t){return ld(e,t)}function Ef(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,s,r){return new Ef(e,t,s,r)}function Yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kf(e){if(typeof e=="function")return Yi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fi)return 11;if(e===pi)return 14}return 2}function hn(e,t){var s=e.alternate;return s===null?(s=pt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Wr(e,t,s,r,a,l){var i=2;if(r=e,typeof e=="function")Yi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Bn:return kn(s.children,a,l,t);case hi:i=8,a|=8;break;case hl:return e=pt(12,s,t,a|2),e.elementType=hl,e.lanes=l,e;case fl:return e=pt(13,s,t,a),e.elementType=fl,e.lanes=l,e;case pl:return e=pt(19,s,t,a),e.elementType=pl,e.lanes=l,e;case Vc:return Da(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uc:i=10;break e;case Bc:i=9;break e;case fi:i=11;break e;case pi:i=14;break e;case Zt:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=pt(i,s,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function kn(e,t,s,r){return e=pt(7,e,r,t),e.lanes=s,e}function Da(e,t,s,r){return e=pt(22,e,r,t),e.elementType=Vc,e.lanes=s,e.stateNode={isHidden:!1},e}function il(e,t,s){return e=pt(6,e,null,t),e.lanes=s,e}function ol(e,t,s){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _f(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ba(0),this.expirationTimes=Ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ki(e,t,s,r,a,l,i,o,c){return e=new _f(e,t,s,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=pt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ti(l),e}function Pf(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function $u(e){if(!e)return pn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var s=e.type;if(nt(s))return $d(e,s,t)}return t}function Lu(e,t,s,r,a,l,i,o,c){return e=Ki(s,r,!0,e,a,l,i,o,c),e.context=$u(null),s=e.current,r=Ye(),a=mn(s),l=Vt(r,a),l.callback=t??null,dn(s,l,a),e.current.lanes=a,ir(e,a,r),st(e,r),e}function Ra(e,t,s,r){var a=t.current,l=Ye(),i=mn(a);return s=$u(s),t.context===null?t.context=s:t.pendingContext=s,t=Vt(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(a,t,i),e!==null&&(kt(e,a,i,l),Mr(e,a,i)),i}function ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Xi(e,t){xc(e,t),(e=e.alternate)&&xc(e,t)}function Df(){return null}var Fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ji(e){this._internalRoot=e}Ia.prototype.render=Ji.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ra(e,t,null,null)};Ia.prototype.unmount=Ji.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){Ra(null,e,null,null)}),t[Gt]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=hd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<tn.length&&t!==0&&t<tn[s].priority;s++);tn.splice(s,0,e),s===0&&pd(e)}};function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gc(){}function Rf(e,t,s,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var d=ga(i);l.call(d)}}var i=Lu(t,r,e,0,null,!1,!1,"",gc);return e._reactRootContainer=i,e[Gt]=i.current,Ks(e.nodeType===8?e.parentNode:e),In(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var d=ga(c);o.call(d)}}var c=Ki(e,0,!1,null,null,!1,!1,"",gc);return e._reactRootContainer=c,e[Gt]=c.current,Ks(e.nodeType===8?e.parentNode:e),In(function(){Ra(t,c,s,r)}),c}function $a(e,t,s,r,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=ga(i);o.call(c)}}Ra(t,i,e,a)}else i=Rf(s,t,e,a,r);return ga(i)}ud=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Rs(t.pendingLanes);s!==0&&(vi(t,s|1),st(t,Re()),!(ce&6)&&(us=Re()+500,vn()))}break;case 13:In(function(){var r=qt(e,1);if(r!==null){var a=Ye();kt(r,e,1,a)}}),Xi(e,1)}};ji=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var s=Ye();kt(t,e,134217728,s)}Xi(e,134217728)}};md=function(e){if(e.tag===13){var t=mn(e),s=qt(e,t);if(s!==null){var r=Ye();kt(s,e,t,r)}Xi(e,t)}};hd=function(){return me};fd=function(e,t){var s=me;try{return me=e,t()}finally{me=s}};Cl=function(e,t,s){switch(t){case"input":if(vl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Sa(r);if(!a)throw Error(M(90));Wc(r),vl(r,a)}}}break;case"textarea":qc(e,s);break;case"select":t=s.value,t!=null&&Zn(e,!!s.multiple,t,!1)}};ed=Gi;td=In;var If={usingClientEntryPoint:!1,Events:[cr,Gn,Sa,Jc,Zc,Gi]},Es={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tf={bundleType:Es.bundleType,version:Es.version,rendererPackageName:Es.rendererPackageName,rendererConfig:Es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rd(e),e===null?null:e.stateNode},findFiberByHostInstance:Es.findFiberByHostInstance||Df,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{ya=Rr.inject(Tf),Ft=Rr}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=If;dt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zi(t))throw Error(M(200));return Pf(e,t,null,s)};dt.createRoot=function(e,t){if(!Zi(e))throw Error(M(299));var s=!1,r="",a=Fu;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ki(e,1,!1,null,null,s,!1,r,a),e[Gt]=t.current,Ks(e.nodeType===8?e.parentNode:e),new Ji(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=rd(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return In(e)};dt.hydrate=function(e,t,s){if(!Ta(t))throw Error(M(200));return $a(null,e,t,!0,s)};dt.hydrateRoot=function(e,t,s){if(!Zi(e))throw Error(M(405));var r=s!=null&&s.hydratedSources||null,a=!1,l="",i=Fu;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Lu(t,null,e,1,s??null,a,!1,l,i),e[Gt]=t.current,Ks(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Ia(t)};dt.render=function(e,t,s){if(!Ta(t))throw Error(M(200));return $a(null,e,t,!1,s)};dt.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(M(40));return e._reactRootContainer?(In(function(){$a(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};dt.unstable_batchedUpdates=Gi;dt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Ta(s))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return $a(e,t,s,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function zu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zu)}catch(e){console.error(e)}}zu(),zc.exports=dt;var $f=zc.exports,Au,vc=$f;Au=vc.createRoot,vc.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jc="popstate";function Lf(e={}){function t(r,a){let{pathname:l,search:i,hash:o}=r.location;return ri("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:ar(a)}return zf(t,s,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ff(){return Math.random().toString(36).substring(2,10)}function yc(e,t){return{usr:e.state,key:e.key,idx:t}}function ri(e,t,s=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ps(t):t,state:s,key:t&&t.key||r||Ff()}}function ar({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ps(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function zf(e,t,s,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,o="POP",c=null,d=p();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function p(){return(i.state||{idx:null}).idx}function g(){o="POP";let b=p(),h=b==null?null:b-d;d=b,c&&c({action:o,location:y.location,delta:h})}function u(b,h){o="PUSH";let f=ri(y.location,b,h);d=p()+1;let j=yc(f,d),w=y.createHref(f);try{i.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}l&&c&&c({action:o,location:y.location,delta:1})}function x(b,h){o="REPLACE";let f=ri(y.location,b,h);d=p();let j=yc(f,d),w=y.createHref(f);i.replaceState(j,"",w),l&&c&&c({action:o,location:y.location,delta:0})}function v(b){return Af(b)}let y={get action(){return o},get location(){return e(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(jc,g),c=b,()=>{a.removeEventListener(jc,g),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let h=v(b);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:u,replace:x,go(b){return i.go(b)}};return y}function Af(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),we(s,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ar(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Mu(e,t,s="/"){return Mf(e,t,s,!1)}function Mf(e,t,s,r){let a=typeof t=="string"?ps(t):t,l=Yt(a.pathname||"/",s);if(l==null)return null;let i=Ou(e);Of(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=Xf(l);o=Yf(i[c],d,r)}return o}function Ou(e,t=[],s=[],r="",a=!1){let l=(i,o,c=a,d)=>{let p={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;we(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ht([r,p.relativePath]),u=s.concat(p);i.children&&i.children.length>0&&(we(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ou(i.children,t,u,g,c)),!(i.path==null&&!i.index)&&t.push({path:g,score:qf(g,i.index),routesMeta:u})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))l(i,o);else for(let d of Uu(i.path))l(i,o,!0,d)}),t}function Uu(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let i=Uu(r.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Of(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Qf(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var Uf=/^:[\w-]+$/,Bf=3,Vf=2,Hf=1,Wf=10,Gf=-2,bc=e=>e==="*";function qf(e,t){let s=e.split("/"),r=s.length;return s.some(bc)&&(r+=Gf),t&&(r+=Vf),s.filter(a=>!bc(a)).reduce((a,l)=>a+(Uf.test(l)?Bf:l===""?Hf:Wf),r)}function Qf(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Yf(e,t,s=!1){let{routesMeta:r}=e,a={},l="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=va({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),u=c.route;if(!g&&d&&s&&!r[r.length-1].route.index&&(g=va({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),i.push({params:a,pathname:Ht([l,g.pathname]),pathnameBase:tp(Ht([l,g.pathnameBase])),route:u}),g.pathnameBase!=="/"&&(l=Ht([l,g.pathnameBase]))}return i}function va(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=Kf(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:g},u)=>{if(p==="*"){let v=o[u]||"";i=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[u];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function Kf(e,t=!1,s=!0){Pt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Xf(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Yt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function Jf(e,t="/"){let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?ps(e):e;return{pathname:s?s.startsWith("/")?s:Zf(s,t):t,search:np(r),hash:sp(a)}}function Zf(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function cl(e,t,s,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ep(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function eo(e){let t=ep(e);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function to(e,t,s,r=!1){let a;typeof e=="string"?a=ps(e):(a={...e},we(!a.pathname||!a.pathname.includes("?"),cl("?","pathname","search",a)),we(!a.pathname||!a.pathname.includes("#"),cl("#","pathname","hash",a)),we(!a.search||!a.search.includes("#"),cl("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=s;else{let g=t.length-1;if(!r&&i.startsWith("..")){let u=i.split("/");for(;u[0]==="..";)u.shift(),g-=1;a.pathname=u.join("/")}o=g>=0?t[g]:"/"}let c=Jf(a,o),d=i&&i!=="/"&&i.endsWith("/"),p=(l||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var Ht=e=>e.join("/").replace(/\/\/+/g,"/"),tp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),np=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bu=["POST","PUT","PATCH","DELETE"];new Set(Bu);var ap=["GET",...Bu];new Set(ap);var xs=m.createContext(null);xs.displayName="DataRouter";var La=m.createContext(null);La.displayName="DataRouterState";m.createContext(!1);var Vu=m.createContext({isTransitioning:!1});Vu.displayName="ViewTransition";var lp=m.createContext(new Map);lp.displayName="Fetchers";var ip=m.createContext(null);ip.displayName="Await";var Dt=m.createContext(null);Dt.displayName="Navigation";var ur=m.createContext(null);ur.displayName="Location";var Rt=m.createContext({outlet:null,matches:[],isDataRoute:!1});Rt.displayName="Route";var no=m.createContext(null);no.displayName="RouteError";function op(e,{relative:t}={}){we(gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=m.useContext(Dt),{hash:a,pathname:l,search:i}=hr(e,{relative:t}),o=l;return s!=="/"&&(o=l==="/"?s:Ht([s,l])),r.createHref({pathname:o,search:i,hash:a})}function gs(){return m.useContext(ur)!=null}function jn(){return we(gs(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(ur).location}var Hu="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wu(e){m.useContext(Dt).static||m.useLayoutEffect(e)}function mr(){let{isDataRoute:e}=m.useContext(Rt);return e?bp():cp()}function cp(){we(gs(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(xs),{basename:t,navigator:s}=m.useContext(Dt),{matches:r}=m.useContext(Rt),{pathname:a}=jn(),l=JSON.stringify(eo(r)),i=m.useRef(!1);return Wu(()=>{i.current=!0}),m.useCallback((c,d={})=>{if(Pt(i.current,Hu),!i.current)return;if(typeof c=="number"){s.go(c);return}let p=to(c,JSON.parse(l),a,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ht([t,p.pathname])),(d.replace?s.replace:s.push)(p,d.state,d)},[t,s,l,a,e])}m.createContext(null);function Gu(){let{matches:e}=m.useContext(Rt),t=e[e.length-1];return t?t.params:{}}function hr(e,{relative:t}={}){let{matches:s}=m.useContext(Rt),{pathname:r}=jn(),a=JSON.stringify(eo(s));return m.useMemo(()=>to(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function dp(e,t){return qu(e,t)}function qu(e,t,s,r,a){var f;we(gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=m.useContext(Dt),{matches:i}=m.useContext(Rt),o=i[i.length-1],c=o?o.params:{},d=o?o.pathname:"/",p=o?o.pathnameBase:"/",g=o&&o.route;{let j=g&&g.path||"";Qu(d,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let u=jn(),x;if(t){let j=typeof t=="string"?ps(t):t;we(p==="/"||((f=j.pathname)==null?void 0:f.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=u;let v=x.pathname||"/",y=v;if(p!=="/"){let j=p.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=Mu(e,{pathname:y});Pt(g||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let h=pp(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Ht([p,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Ht([p,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),i,s,r,a);return t&&h?m.createElement(ur.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},h):h}function up(){let e=yp(),t=rp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:l},"ErrorBoundary")," or"," ",m.createElement("code",{style:l},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),s?m.createElement("pre",{style:a},s):null,i)}var mp=m.createElement(up,null),hp=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(Rt.Provider,{value:this.props.routeContext},m.createElement(no.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fp({routeContext:e,match:t,children:s}){let r=m.useContext(xs);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Rt.Provider,{value:e},s)}function pp(e,t=[],s=null,r=null,a=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,i=s==null?void 0:s.errors;if(i!=null){let d=l.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);we(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let o=!1,c=-1;if(s)for(let d=0;d<l.length;d++){let p=l[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:u}=s,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!u||u[p.route.id]===void 0);if(p.route.lazy||x){o=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((d,p,g)=>{let u,x=!1,v=null,y=null;s&&(u=i&&p.route.id?i[p.route.id]:void 0,v=p.route.errorElement||mp,o&&(c<0&&g===0?(Qu("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):c===g&&(x=!0,y=p.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,g+1)),h=()=>{let f;return u?f=v:x?f=y:p.route.Component?f=m.createElement(p.route.Component,null):p.route.element?f=p.route.element:f=d,m.createElement(fp,{match:p,routeContext:{outlet:d,matches:b,isDataRoute:s!=null},children:f})};return s&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?m.createElement(hp,{location:s.location,revalidation:s.revalidation,component:v,error:u,children:h(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):h()},null)}function so(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xp(e){let t=m.useContext(xs);return we(t,so(e)),t}function gp(e){let t=m.useContext(La);return we(t,so(e)),t}function vp(e){let t=m.useContext(Rt);return we(t,so(e)),t}function ro(e){let t=vp(e),s=t.matches[t.matches.length-1];return we(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function jp(){return ro("useRouteId")}function yp(){var r;let e=m.useContext(no),t=gp("useRouteError"),s=ro("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function bp(){let{router:e}=xp("useNavigate"),t=ro("useNavigate"),s=m.useRef(!1);return Wu(()=>{s.current=!0}),m.useCallback(async(a,l={})=>{Pt(s.current,Hu),s.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var Nc={};function Qu(e,t,s){!t&&!Nc[e]&&(Nc[e]=!0,Pt(!1,s))}m.memo(Np);function Np({routes:e,future:t,state:s,unstable_onError:r}){return qu(e,void 0,s,r,t)}function ks({to:e,replace:t,state:s,relative:r}){we(gs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=m.useContext(Dt);Pt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=m.useContext(Rt),{pathname:i}=jn(),o=mr(),c=to(e,eo(l),i,r==="path"),d=JSON.stringify(c);return m.useEffect(()=>{o(JSON.parse(d),{replace:t,state:s,relative:r})},[o,d,r,t,s]),null}function Nn(e){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wp({basename:e="/",children:t=null,location:s,navigationType:r="POP",navigator:a,static:l=!1}){we(!gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=m.useMemo(()=>({basename:i,navigator:a,static:l,future:{}}),[i,a,l]);typeof s=="string"&&(s=ps(s));let{pathname:c="/",search:d="",hash:p="",state:g=null,key:u="default"}=s,x=m.useMemo(()=>{let v=Yt(c,i);return v==null?null:{location:{pathname:v,search:d,hash:p,state:g,key:u},navigationType:r}},[i,c,d,p,g,u,r]);return Pt(x!=null,`<Router basename="${i}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:m.createElement(Dt.Provider,{value:o},m.createElement(ur.Provider,{children:t,value:x}))}function Sp({children:e,location:t}){return dp(ai(e),t)}function ai(e,t=[]){let s=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let l=[...t,a];if(r.type===m.Fragment){s.push.apply(s,ai(r.props.children,l));return}we(r.type===Nn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ai(r.props.children,l)),s.push(i)}),s}var Gr="get",qr="application/x-www-form-urlencoded";function Fa(e){return e!=null&&typeof e.tagName=="string"}function Cp(e){return Fa(e)&&e.tagName.toLowerCase()==="button"}function Ep(e){return Fa(e)&&e.tagName.toLowerCase()==="form"}function kp(e){return Fa(e)&&e.tagName.toLowerCase()==="input"}function _p(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pp(e,t){return e.button===0&&(!t||t==="_self")&&!_p(e)}var Ir=null;function Dp(){if(Ir===null)try{new FormData(document.createElement("form"),0),Ir=!1}catch{Ir=!0}return Ir}var Rp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dl(e){return e!=null&&!Rp.has(e)?(Pt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qr}"`),null):e}function Ip(e,t){let s,r,a,l,i;if(Ep(e)){let o=e.getAttribute("action");r=o?Yt(o,t):null,s=e.getAttribute("method")||Gr,a=dl(e.getAttribute("enctype"))||qr,l=new FormData(e)}else if(Cp(e)||kp(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(r=c?Yt(c,t):null,s=e.getAttribute("formmethod")||o.getAttribute("method")||Gr,a=dl(e.getAttribute("formenctype"))||dl(o.getAttribute("enctype"))||qr,l=new FormData(o,e),!Dp()){let{name:d,type:p,value:g}=e;if(p==="image"){let u=d?`${d}.`:"";l.append(`${u}x`,"0"),l.append(`${u}y`,"0")}else d&&l.append(d,g)}}else{if(Fa(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Gr,r=null,a=qr,i=e}return l&&a==="text/plain"&&(i=l,l=void 0),{action:r,method:s.toLowerCase(),encType:a,formData:l,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ao(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tp(e,t,s){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&Yt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function $p(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lp(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Fp(e,t,s){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let i=await $p(l,s);return i.links?i.links():[]}return[]}));return Op(r.flat(1).filter(Lp).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wc(e,t,s,r,a,l){let i=(c,d)=>s[d]?c.route.id!==s[d].route.id:!0,o=(c,d)=>{var p;return s[d].pathname!==c.pathname||((p=s[d].route.path)==null?void 0:p.endsWith("*"))&&s[d].params["*"]!==c.params["*"]};return l==="assets"?t.filter((c,d)=>i(c,d)||o(c,d)):l==="data"?t.filter((c,d)=>{var g;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(i(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let u=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function zp(e,t,{includeHydrateFallback:s}={}){return Ap(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Ap(e){return[...new Set(e)]}function Mp(e){let t={},s=Object.keys(e).sort();for(let r of s)t[r]=e[r];return t}function Op(e,t){let s=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(Mp(a));return s.has(l)||(s.add(l),r.push({key:l,link:a})),r},[])}function Yu(){let e=m.useContext(xs);return ao(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Up(){let e=m.useContext(La);return ao(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lo=m.createContext(void 0);lo.displayName="FrameworkContext";function Ku(){let e=m.useContext(lo);return ao(e,"You must render this element inside a <HydratedRouter> element"),e}function Bp(e,t){let s=m.useContext(lo),[r,a]=m.useState(!1),[l,i]=m.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=t,u=m.useRef(null);m.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let y=h=>{h.forEach(f=>{i(f.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return u.current&&b.observe(u.current),()=>{b.disconnect()}}},[e]),m.useEffect(()=>{if(r){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[r]);let x=()=>{a(!0)},v=()=>{a(!1),i(!1)};return s?e!=="intent"?[l,u,{}]:[l,u,{onFocus:_s(o,x),onBlur:_s(c,v),onMouseEnter:_s(d,x),onMouseLeave:_s(p,v),onTouchStart:_s(g,x)}]:[!1,u,{}]}function _s(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function Vp({page:e,...t}){let{router:s}=Yu(),r=m.useMemo(()=>Mu(s.routes,e,s.basename),[s.routes,e,s.basename]);return r?m.createElement(Wp,{page:e,matches:r,...t}):null}function Hp(e){let{manifest:t,routeModules:s}=Ku(),[r,a]=m.useState([]);return m.useEffect(()=>{let l=!1;return Fp(e,t,s).then(i=>{l||a(i)}),()=>{l=!0}},[e,t,s]),r}function Wp({page:e,matches:t,...s}){let r=jn(),{manifest:a,routeModules:l}=Ku(),{basename:i}=Yu(),{loaderData:o,matches:c}=Up(),d=m.useMemo(()=>wc(e,t,c,a,r,"data"),[e,t,c,a,r]),p=m.useMemo(()=>wc(e,t,c,a,r,"assets"),[e,t,c,a,r]),g=m.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(t.forEach(h=>{var j;let f=a.routes[h.route.id];!f||!f.hasLoader||(!d.some(w=>w.route.id===h.route.id)&&h.route.id in o&&((j=l[h.route.id])!=null&&j.shouldRevalidate)||f.hasClientLoader?y=!0:v.add(h.route.id))}),v.size===0)return[];let b=Tp(e,i,"data");return y&&v.size>0&&b.searchParams.set("_routes",t.filter(h=>v.has(h.route.id)).map(h=>h.route.id).join(",")),[b.pathname+b.search]},[i,o,r,a,d,t,e,l]),u=m.useMemo(()=>zp(p,a),[p,a]),x=Hp(p);return m.createElement(m.Fragment,null,g.map(v=>m.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...s})),u.map(v=>m.createElement("link",{key:v,rel:"modulepreload",href:v,...s})),x.map(({key:v,link:y})=>m.createElement("link",{key:v,nonce:s.nonce,...y})))}function Gp(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var Xu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xu&&(window.__reactRouterVersion="7.9.5")}catch{}function qp({basename:e,children:t,window:s}){let r=m.useRef();r.current==null&&(r.current=Lf({window:s,v5Compat:!0}));let a=r.current,[l,i]=m.useState({action:a.action,location:a.location}),o=m.useCallback(c=>{m.startTransition(()=>i(c))},[i]);return m.useLayoutEffect(()=>a.listen(o),[a,o]),m.createElement(wp,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var Ju=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,io=m.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:p,viewTransition:g,...u},x){let{basename:v}=m.useContext(Dt),y=typeof d=="string"&&Ju.test(d),b,h=!1;if(typeof d=="string"&&y&&(b=d,Xu))try{let V=new URL(window.location.href),A=d.startsWith("//")?new URL(V.protocol+d):new URL(d),te=Yt(A.pathname,v);A.origin===V.origin&&te!=null?d=te+A.search+A.hash:h=!0}catch{Pt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let f=op(d,{relative:a}),[j,w,N]=Bp(r,u),I=Xp(d,{replace:i,state:o,target:c,preventScrollReset:p,relative:a,viewTransition:g});function F(V){t&&t(V),V.defaultPrevented||I(V)}let _=m.createElement("a",{...u,...N,href:b||f,onClick:h||l?t:F,ref:Gp(x,w),target:c,"data-discover":!y&&s==="render"?"true":void 0});return j&&!y?m.createElement(m.Fragment,null,_,m.createElement(Vp,{page:f})):_});io.displayName="Link";var Qp=m.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:a=!1,style:l,to:i,viewTransition:o,children:c,...d},p){let g=hr(i,{relative:d.relative}),u=jn(),x=m.useContext(La),{navigator:v,basename:y}=m.useContext(Dt),b=x!=null&&nx(g)&&o===!0,h=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,f=u.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(f=f.toLowerCase(),j=j?j.toLowerCase():null,h=h.toLowerCase()),j&&y&&(j=Yt(j,y)||j);const w=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let N=f===h||!a&&f.startsWith(h)&&f.charAt(w)==="/",I=j!=null&&(j===h||!a&&j.startsWith(h)&&j.charAt(h.length)==="/"),F={isActive:N,isPending:I,isTransitioning:b},_=N?t:void 0,V;typeof r=="function"?V=r(F):V=[r,N?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(F):l;return m.createElement(io,{...d,"aria-current":_,className:V,ref:p,style:A,to:i,viewTransition:o},typeof c=="function"?c(F):c)});Qp.displayName="NavLink";var Yp=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:a,state:l,method:i=Gr,action:o,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:g,...u},x)=>{let v=ex(),y=tx(o,{relative:d}),b=i.toLowerCase()==="get"?"get":"post",h=typeof o=="string"&&Ju.test(o),f=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let w=j.nativeEvent.submitter,N=(w==null?void 0:w.getAttribute("formmethod"))||i;v(w||j.currentTarget,{fetcherKey:t,method:N,navigate:s,replace:a,state:l,relative:d,preventScrollReset:p,viewTransition:g})};return m.createElement("form",{ref:x,method:b,action:y,onSubmit:r?c:f,...u,"data-discover":!h&&e==="render"?"true":void 0})});Yp.displayName="Form";function Kp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zu(e){let t=m.useContext(xs);return we(t,Kp(e)),t}function Xp(e,{target:t,replace:s,state:r,preventScrollReset:a,relative:l,viewTransition:i}={}){let o=mr(),c=jn(),d=hr(e,{relative:l});return m.useCallback(p=>{if(Pp(p,t)){p.preventDefault();let g=s!==void 0?s:ar(c)===ar(d);o(e,{replace:g,state:r,preventScrollReset:a,relative:l,viewTransition:i})}},[c,o,d,s,r,t,e,a,l,i])}var Jp=0,Zp=()=>`__${String(++Jp)}__`;function ex(){let{router:e}=Zu("useSubmit"),{basename:t}=m.useContext(Dt),s=jp();return m.useCallback(async(r,a={})=>{let{action:l,method:i,encType:o,formData:c,body:d}=Ip(r,t);if(a.navigate===!1){let p=a.fetcherKey||Zp();await e.fetch(p,s,a.action||l,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,s])}function tx(e,{relative:t}={}){let{basename:s}=m.useContext(Dt),r=m.useContext(Rt);we(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...hr(e||".",{relative:t})},i=jn();if(e==null){l.search=i.search;let o=new URLSearchParams(l.search),c=o.getAll("index");if(c.some(p=>p==="")){o.delete("index"),c.filter(g=>g).forEach(g=>o.append("index",g));let p=o.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:Ht([s,l.pathname])),ar(l)}function nx(e,{relative:t}={}){let s=m.useContext(Vu);we(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Zu("useViewTransitionState"),a=hr(e,{relative:t});if(!s.isTransitioning)return!1;let l=Yt(s.currentLocation.pathname,r)||s.currentLocation.pathname,i=Yt(s.nextLocation.pathname,r)||s.nextLocation.pathname;return va(a.pathname,i)!=null||va(a.pathname,l)!=null}function sx({title:e,onSubmit:t,isRegister:s=!1}){const[r,a]=m.useState(""),[l,i]=m.useState(""),[o,c]=m.useState(""),[d,p]=m.useState(""),[g,u]=m.useState("");async function x(v){v.preventDefault(),u("");try{await t(s?{username:r,email:l,password:d}:{identifier:o,password:d})}catch(y){u(y.message)}}return n.jsxs("form",{onSubmit:x,children:[n.jsx("h2",{className:"text-center mb-4",children:e}),s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{htmlFor:"usernameInput",className:"form-label",children:"Nombre de usuario"}),n.jsx("input",{id:"usernameInput",placeholder:"tu nombre de usuario",type:"text",className:"form-control",value:r,onChange:v=>a(v.target.value),required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{htmlFor:"emailInput",className:"form-label",children:"Correo electrnico"}),n.jsx("input",{id:"emailInput",placeholder:"ejemplo@correo.com",type:"email",className:"form-control",value:l,onChange:v=>i(v.target.value),required:!0})]})]}):n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{htmlFor:"identifierInput",className:"form-label",children:"Email o Nombre de usuario"}),n.jsx("input",{id:"identifierInput",placeholder:"tu usuario o correo electronico",type:"text",className:"form-control",value:o,onChange:v=>c(v.target.value),required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{htmlFor:"passwordInput",className:"form-label",children:"Contrasea"}),n.jsx("input",{id:"passwordInput",placeholder:"Contrasea",type:"password",className:"form-control",value:d,onChange:v=>p(v.target.value),required:!0})]}),g&&n.jsx("div",{className:"alert alert-danger p-2 text-center",children:g}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom w-100 mt-3",children:e})]})}const em="http://localhost:8000";async function Ct(e,{method:t="GET",body:s,token:r,useAuth:a=!0}={}){const l=typeof window<"u"?localStorage.getItem("access_token")||localStorage.getItem("token"):null,i=r??(a?l:null),o={...i?{Authorization:`Bearer ${i}`}:{}};let c=s;s&&!(s instanceof FormData)&&(o["Content-Type"]="application/json",c=JSON.stringify(s));const d=e.startsWith("http")?e:`${em}${e}`,p=await fetch(d,{method:t,headers:o,body:c}),g=await p.text();let u;try{u=g?JSON.parse(g):{}}catch{u={detail:g}}if(!p.ok){const x=new Error(u.detail||"Ocurri un error");throw x.status=p.status,x.detail=u.detail,x}return u}function rx({setToken:e}){async function t({identifier:s,password:r}){const{access_token:a}=await Ct("/api/auth/login",{method:"POST",body:{identifier:s,password:r}});e(a)}return n.jsx(sx,{title:"Iniciar sesin",onSubmit:t})}const Tr=["Cul es el nombre de tu primera mascota?","Cul es el apellido de tu madre?","En qu ciudad naciste?","Cul es el nombre de tu escuela primaria?","Cul es tu comida favorita?"];function ax({setView:e}){const[t,s]=m.useState({username:"",email:"",password:"",confirm_password:"",security_question_1:Tr[0],security_answer_1:"",security_question_2:Tr[1],security_answer_2:"",invitation_code:""}),[r,a]=m.useState(""),[l,i]=m.useState(!1),[o,c]=m.useState(null);m.useEffect(()=>{const v=new URLSearchParams(window.location.search).get("invitation_code");v&&(s(y=>({...y,invitation_code:v})),c({code:v,message:"Te han invitado a unirte a Plan&Go! Completa el registro para obtener tu cuenta."}))},[]);function d(x){const{name:v,value:y}=x.target;s(b=>({...b,[v]:y}))}async function p(x){x.preventDefault(),a("");const{password:v,confirm_password:y,...b}=t;if(v!==y){a("Las contraseas no coinciden.");return}if(v.length<8){a("La contrasea debe tener al menos 8 caracteres.");return}if(b.security_question_1===b.security_question_2){a("Las preguntas de seguridad deben ser diferentes.");return}if(!b.security_answer_1||!b.security_answer_2){a("Debes responder ambas preguntas de seguridad.");return}try{await Ct("/api/auth/register",{method:"POST",body:{...b,password:v}}),i(!0)}catch(h){a(h.detail||"Error en el registro.")}}const g=Tr.filter(x=>x!==t.security_question_1),u=Tr.filter(x=>x!==t.security_question_2);return l?n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"mb-3",children:" Registro exitoso!"}),n.jsx("p",{children:"Tu cuenta se ha creado correctamente. Ahora puedes iniciar sesin."}),n.jsx("button",{onClick:()=>e("login"),className:"btn btn-primary w-100 mt-2",children:"Ir a Iniciar Sesin"})]}):n.jsxs("form",{onSubmit:p,children:[n.jsx("h3",{className:"mb-4",children:"Crear cuenta"}),o&&n.jsx("div",{className:"alert alert-success",role:"alert",children:n.jsxs("div",{className:"d-flex align-items-center",children:[n.jsx("span",{className:"fs-4 me-2",children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Invitacin especial!"}),n.jsx("p",{className:"mb-0 mt-1",children:o.message}),n.jsxs("small",{className:"text-muted",children:["Cdigo: ",o.code]})]})]})}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Email"}),n.jsx("input",{type:"email",name:"email",className:"form-control",onChange:d,required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Nombre de usuario"}),n.jsx("input",{type:"text",name:"username",className:"form-control",onChange:d,required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Contrasea (mn. 8 caracteres)"}),n.jsx("input",{type:"password",name:"password",className:"form-control",onChange:d,required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Confirmar Contrasea"}),n.jsx("input",{type:"password",name:"confirm_password",className:"form-control",onChange:d,required:!0})]}),n.jsx("hr",{className:"my-4"}),n.jsx("h5",{className:"mb-3",children:"Preguntas de Seguridad"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Pregunta 1"}),n.jsx("select",{name:"security_question_1",className:"form-select",value:t.security_question_1,onChange:d,children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Respuesta 1"}),n.jsx("input",{type:"text",name:"security_answer_1",className:"form-control",onChange:d,required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Pregunta 2"}),n.jsx("select",{name:"security_question_2",className:"form-select",value:t.security_question_2,onChange:d,children:g.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Respuesta 2"}),n.jsx("input",{type:"text",name:"security_answer_2",className:"form-control",onChange:d,required:!0})]}),r&&n.jsx("div",{className:"alert alert-danger",children:r}),n.jsx("button",{type:"submit",className:"btn btn-primary w-100 mt-3",children:"Registrarse"})]})}function lx({setView:e}){const[t,s]=m.useState("enter-email"),[r,a]=m.useState(""),[l,i]=m.useState(null),[o,c]=m.useState({security_answer_1:"",security_answer_2:""}),[d,p]=m.useState(""),[g,u]=m.useState({new_password:"",confirm_password:""}),[x,v]=m.useState(""),[y,b]=m.useState("");async function h(w){w.preventDefault(),v("");try{const N=await Ct("/api/auth/forgot-password/get-questions",{method:"POST",body:{identifier:r}});i(N),s("answer-questions")}catch(N){v(N.detail||"Usuario no encontrado o sin preguntas configuradas.")}}async function f(w){w.preventDefault(),v("");try{const N=await Ct("/api/auth/forgot-password/verify-answers",{method:"POST",body:{...o,identifier:r}});p(N.access_token),s("set-password")}catch(N){v(N.detail||"Respuestas incorrectas.")}}async function j(w){if(w.preventDefault(),v(""),g.new_password.length<8||g.new_password!==g.confirm_password){v("Las contraseas no coinciden o son muy cortas.");return}try{const N=await Ct("/api/auth/forgot-password/set-new-password",{method:"POST",token:d,body:{new_password:g.new_password}});b(N.message),s("success")}catch(N){v(N.detail||"Error al cambiar la contrasea. El permiso puede haber expirado.")}}return t==="success"?n.jsxs("div",{children:[n.jsx("div",{className:"alert alert-success",children:y}),n.jsx("button",{onClick:()=>e("login"),className:"btn btn-outline-custom w-100",children:"Volver a Iniciar Sesin"})]}):t==="set-password"?n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4",children:"Crear Nueva Contrasea"}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Nueva Contrasea"}),n.jsx("input",{type:"password",name:"new_password",className:"form-control",onChange:w=>u(N=>({...N,new_password:w.target.value})),required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{children:"Confirmar Contrasea"}),n.jsx("input",{type:"password",name:"confirm_password",className:"form-control",onChange:w=>u(N=>({...N,confirm_password:w.target.value})),required:!0})]}),x&&n.jsx("div",{className:"alert alert-danger",children:x}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom w-100",children:"Guardar Contrasea"})]})]}):t==="answer-questions"?n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4",children:"Responder Preguntas"}),n.jsxs("p",{children:["Hola, ",n.jsx("strong",{children:l.username}),". Responde tus preguntas de seguridad."]}),n.jsxs("form",{onSubmit:f,children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label text-muted",children:l.security_question_1}),n.jsx("input",{type:"text",name:"security_answer_1",className:"form-control",onChange:w=>c(N=>({...N,security_answer_1:w.target.value})),required:!0,value:o.security_answer_1,autoComplete:"off"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label text-muted",children:l.security_question_2}),n.jsx("input",{type:"text",name:"security_answer_2",className:"form-control",onChange:w=>c(N=>({...N,security_answer_2:w.target.value})),required:!0,value:o.security_answer_2,autoComplete:"off"})]}),x&&n.jsx("div",{className:"alert alert-danger",children:x}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom w-100",children:"Verificar Respuestas"}),n.jsx("div",{className:"text-center mt-3",children:n.jsx("button",{onClick:()=>e("login"),className:"btn btn-link",children:"Volver a Iniciar Sesin"})})]})]}):n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4",children:"Recuperar Contrasea"}),n.jsx("p",{className:"text-muted",children:"Ingresa tu email o nombre de usuario para empezar."}),n.jsxs("form",{onSubmit:h,children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{htmlFor:"identifier",className:"form-label",children:"Email o Nombre de Usuario"}),n.jsx("input",{type:"text",className:"form-control",id:"identifier",value:r,onChange:w=>a(w.target.value),required:!0})]}),x&&n.jsx("div",{className:"alert alert-danger",children:x}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom w-100",children:"Buscar Preguntas"})]}),n.jsx("div",{className:"text-center mt-3",children:n.jsx("button",{onClick:()=>e("login"),className:"btn btn-link",children:"Volver a Iniciar Sesin"})})]})}const ix=[{title:"Mis Favoritos",description:"Accede a los lugares, actividades y posts que guardaste.",path:"favorites"},{title:"Mis Itinerarios Guardados",description:"Revisa y edita tus planes de viaje y rutas personalizadas.",path:"my-itineraries"},{title:"Mis Gastos",description:"Gestion y visualiz el presupuesto y los costos de tus viajes.",path:"expenses"},{title:"Buscar Otros Viajeros",description:"Encontr usuarios con intereses y destinos similares a los tuyos.",path:"search-travelers"}],ox=({onNavigate:e})=>{const t=s=>{e&&e(s)};return n.jsxs("div",{className:"container-fluid py-4",children:[n.jsxs("div",{className:"mb-4 px-1",children:[n.jsxs("h1",{className:"h3 fw-bold d-flex align-items-center mb-1",children:[n.jsx("span",{className:"me-2",children:""}),"Experiencia Viajera"]}),n.jsx("p",{className:"text-muted mb-0",children:"Todo lo que necesits para gestionar tus viajes y conectar con la comunidad."})]}),n.jsx("div",{className:"row g-3",children:ix.map((s,r)=>n.jsx("div",{className:"col-12 col-md-6",children:n.jsxs("div",{className:"card exp-card rounded-4 border-0 shadow-sm h-100 p-3",role:"button",onClick:()=>t(s.path),children:[n.jsx("h5",{className:"fw-semibold mb-1",children:s.title}),n.jsx("p",{className:"text-muted small mb-0",children:s.description})]})},r))}),n.jsx("div",{className:"text-center text-muted small mt-4",children:"Plan&Go te acompaa en cada paso de tu aventura!"})]})},cx="http://localhost:8000";async function Z(e,{method:t="GET",token:s,body:r,isForm:a=!1}={}){const l={};s&&(l.Authorization=`Bearer ${s}`),a||(l["Content-Type"]="application/json");const i=e.startsWith("http")?e:`${cx}${e}`,o=await fetch(i,{method:t,headers:l,body:a?r:r?JSON.stringify(r):void 0});if(!o.ok){const c=await o.json().catch(()=>({}));if(console.error("Error del servidor:",c),c.detail&&Array.isArray(c.detail)){const d=c.detail.map(p=>{var g;return`${(g=p.loc)==null?void 0:g.join(".")} - ${p.msg}`}).join(", ");throw new Error(d)}throw new Error(c.detail||c.message||`HTTP ${o.status}`)}return o.json().catch(()=>({}))}function Sc({me:e,onOpenMyProfile:t}){const s=typeof window<"u"&&localStorage.getItem("token")||"",[r,a]=m.useState(""),[l,i]=m.useState("todos"),[o,c]=m.useState("todos"),[d,p]=m.useState([]),[g,u]=m.useState(!1),[x,v]=m.useState(""),[y,b]=m.useState([]),[h,f]=m.useState([]),j=N=>(N||"").toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");m.useEffect(()=>{if(!s)return;let N=!1;async function I(){u(!0),v("");try{const F=new URLSearchParams;r&&F.set("q",r),l!=="todos"&&F.set("destination_interest",l),o!=="todos"&&F.append("styles",o);const _=F.toString(),V=`/api/users/travelers${_?`?${_}`:""}`,A=await Z(V,{token:s}),Y=(Array.isArray(A)?A:[]).map(Q=>{const L=Q.name||Q.first_name||Q.username||"Viajero",D=Q.city||"";return{id:Q.id,username:Q.username,name:L,city:D||"Sin ubicacin",destinations:Q.destinations||[],style:Q.style||"",budget:Q.budget||"",about:Q.about||"Todava no complet la descripcin de su perfil.",tags:Q.tags||[],matchesWithYou:Q.matches_with_you??Q.match_percentage??null}}),re=new Set,le=new Set;Y.forEach(Q=>{(Q.destinations||[]).forEach(D=>{const B=(D||"").trim();B&&re.add(B)});const L=(Q.style||"").trim();L&&le.add(L)});const G=Array.from(re).sort((Q,L)=>Q.localeCompare(L)),U=Array.from(le).sort((Q,L)=>Q.localeCompare(L));N||(p(Y),b(G),f(U))}catch(F){N||(console.error("Error cargando viajeros",F),v(F.message||"Error cargando otros viajeros."))}finally{N||u(!1)}}return I(),()=>{N=!0}},[s,r,l,o]);const w=m.useMemo(()=>{const N=j(r),I=j(l),F=j(o);return d.filter(_=>{const V=`${_.username} ${_.name} ${_.destinations.join(" ")} ${_.tags.join(" ")}`,A=!N||j(V).includes(N),te=l==="todos"||(_.destinations||[]).some(re=>j(re)===I),Y=o==="todos"||j(_.style)===F;return A&&te&&Y})},[r,l,o,d]);return n.jsxs("div",{className:"container-fluid py-4",children:[n.jsx("div",{className:"mb-4 px-1",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"h3 fw-bold d-flex align-items-center mb-1",children:[n.jsx("span",{className:"me-2",children:""}),"Buscar otros viajeros"]}),n.jsx("p",{className:"text-muted mb-0",children:"Encontr personas con intereses y estilos de viaje parecidos a los tuyos para compartir experiencias, tips o itinerarios."}),(e==null?void 0:e.username)&&n.jsxs("p",{className:"text-muted mt-1 mb-0 small",children:["Ests buscando como ",n.jsxs("strong",{children:["@",e.username]})]})]}),t&&n.jsx("button",{type:"button",className:"btn btn-outline-custom btn-sm rounded-pill ms-3",onClick:t,children:" Ver mi perfil viajero"})]})}),x&&n.jsx("div",{className:"alert alert-danger py-2",children:x||"Ocurri un error al cargar los viajeros."}),n.jsx("div",{className:"card shadow-sm mb-4 rounded-4 border-0",children:n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"row g-3 align-items-end",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label fw-semibold",children:"Buscar por nombre, usuario o palabra clave"}),n.jsxs("div",{className:"input-group",children:[n.jsx("span",{className:"input-group-text",children:""}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: Pars, mochilero, museos, caf...",value:r,onChange:N=>a(N.target.value)})]})]}),n.jsxs("div",{className:"col-md-3",children:[n.jsx("label",{className:"form-label fw-semibold",children:"Destino de inters"}),n.jsxs("select",{className:"form-select",value:l,onChange:N=>i(N.target.value),children:[n.jsx("option",{value:"todos",children:"Cualquier destino"}),y.map(N=>n.jsx("option",{value:N,children:N},N))]})]}),n.jsxs("div",{className:"col-md-3",children:[n.jsx("label",{className:"form-label fw-semibold",children:"Estilo de viaje"}),n.jsxs("select",{className:"form-select",value:o,onChange:N=>c(N.target.value),children:[n.jsx("option",{value:"todos",children:"Cualquiera"}),h.map(N=>n.jsx("option",{value:N,children:N},N))]})]})]}),n.jsx("div",{className:"d-flex justify-content-between align-items-center mt-3",children:n.jsx("small",{className:"text-muted",children:g?"Cargando viajeros":w.length===0?"No encontramos viajeros con esos filtros.":`Se encontraron ${w.length} viajero${w.length>1?"s":""}`})})]})}),n.jsxs("div",{className:"row g-3",children:[w.map(N=>n.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:n.jsx("div",{className:"card traveler-card h-100 border-0 shadow-sm rounded-4",children:n.jsxs("div",{className:"card-body d-flex flex-column",children:[n.jsxs("div",{className:"d-flex align-items-center mb-2",children:[n.jsx("div",{className:"traveler-avatar me-3 d-flex align-items-center justify-content-center",children:n.jsx("span",{className:"fw-bold text-white",children:N.name.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"fw-semibold",children:N.name}),n.jsxs("div",{className:"small text-muted",children:["@",N.username]}),n.jsxs("div",{className:"small text-muted",children:[" ",N.city]})]})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("div",{className:"small text-muted mb-1",children:"Destinos favoritos:"}),n.jsxs("div",{className:"d-flex flex-wrap gap-1 mb-2",children:[N.destinations.length===0&&n.jsx("span",{className:"badge bg-light text-secondary border",children:"Sin destinos cargados"}),N.destinations.map(I=>n.jsx("span",{className:"badge bg-light text-secondary border",children:I},I))]}),N.style&&n.jsxs("span",{className:"badge small me-2",style:{backgroundColor:"#3A92B5",opacity:.1,color:"#3A92B5"},children:[" ",N.style]}),N.budget&&n.jsxs("span",{className:"badge bg-success bg-opacity-10 text-success small",children:["Presupuesto ",N.budget]})]}),n.jsx("p",{className:"small text-muted flex-grow-1 mb-2",children:N.about}),n.jsxs("div",{className:"mb-2 d-flex flex-wrap gap-1",children:[N.tags.map(I=>n.jsxs("span",{className:"badge rounded-pill bg-secondary bg-opacity-10 text-muted",children:["#",I]},I)),N.tags.length===0&&n.jsx("span",{className:"small text-muted",children:"Sin intereses etiquetados."})]}),n.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[n.jsxs("div",{className:"d-flex align-items-center gap-1",children:[n.jsx("span",{className:"small text-muted",children:"Coincidencia"}),n.jsx("span",{className:"fw-semibold text-success",children:N.matchesWithYou!=null?`${N.matchesWithYou}%`:""})]}),n.jsx(io,{to:`/viajeros/${N.id}`,className:"btn btn-sm btn-outline-custom rounded-pill px-3",children:"Ver perfil"})]})]})})},N.id)),!g&&w.length===0&&n.jsx("div",{className:"col-12",children:n.jsx("div",{className:"alert alert-light border text-center",children:"Prob ajustando los filtros o buscando por otra palabra clave. "})})]})]})}function tm({value:e=0}){const t=Math.max(0,Math.min(100,Number(e)/5*100));return n.jsxs("span",{className:"position-relative","aria-label":`Rating ${e}/5`,children:[n.jsx("span",{className:"text-muted",style:{letterSpacing:1},children:""}),n.jsx("span",{className:"position-absolute top-0 start-0 overflow-hidden",style:{width:`${t}%`},children:n.jsx("span",{className:"text-warning",style:{letterSpacing:1},children:""})})]})}function At({avg:e=0,count:t=0}){return n.jsxs("span",{className:"badge bg-light text-dark border",children:[n.jsx(tm,{value:e}),n.jsxs("span",{className:"ms-1",children:[Number(e).toFixed(1),"  ",t," resea",t===1?"":"s"]})]})}function dx({status:e}){const s={approved:{text:" Aprobada",className:"bg-success"},pending:{text:" Pendiente",className:"bg-warning text-dark"},rejected:{text:" Rechazada",className:"bg-danger"},deleted:{text:" Eliminada",className:"bg-dark"}}[e]||{text:e,className:"bg-secondary"};return n.jsx("span",{className:`badge ${s.className}`,children:s.text})}function Fn({open:e,pub:t,onClose:s,onToggleFavorite:r,me:a,token:l}){var k;if(!e||!t)return null;const[i,o]=m.useState(t.is_favorite||!1);m.useEffect(()=>{o(t.is_favorite||!1)},[t==null?void 0:t.id,t==null?void 0:t.is_favorite]);const[c,d]=m.useState([]),[p,g]=m.useState(!1),[u,x]=m.useState(""),[v,y]=m.useState(5),[b,h]=m.useState(""),[f,j]=m.useState({}),w=l,N=(a==null?void 0:a.role)==="premium"||(a==null?void 0:a.username)==="admin",[I,F]=m.useState(!1),[_,V]=m.useState(null),[A,te]=m.useState(""),[Y,re]=m.useState("");m.useEffect(()=>{if(!e||!(t!=null&&t.id)){d([]),x("");return}let S=!1;return(async()=>{g(!0),x("");try{const O=await Z(`/api/publications/${t.id}/reviews`,{token:l});S||d(O)}catch(O){S||x(O.message)}finally{S||g(!1)}})(),()=>{S=!0}},[e,t==null?void 0:t.id,l]);async function le(S){if(S.preventDefault(),!!N){if(!l){alert("Inici sesin para publicar una resea.");return}try{await Z(`/api/publications/${t.id}/reviews`,{method:"POST",token:l,body:{rating:Number(v),comment:b||void 0}}),h(""),y(5);const O=await Z(`/api/publications/${t.id}/reviews`,{token:l});d(O)}catch(O){alert(`Error creando resea: ${O.message}`)}}}async function G(S){if(!N){alert("Solo los usuarios premium pueden dar me gusta a las reseas.");return}const O=c;d(J=>J.map(ne=>ne.id===S?{...ne,is_liked_by_me:!ne.is_liked_by_me,like_count:ne.is_liked_by_me?ne.like_count-1:ne.like_count+1}:ne));try{const J=await Z(`/api/publications/reviews/${S}/like`,{method:"POST",token:l});d(ne=>ne.map(ue=>ue.id===S?{...ue,is_liked_by_me:J.is_liked,like_count:J.like_count}:ue))}catch(J){alert("Error al dar me gusta: "+(J.message||"Error desconocido")),d(O)}}async function U(S,O){S.preventDefault();const J=f[O];if(!(!J||!J.trim())){if(!l){alert("Debes iniciar sesin para comentar.");return}try{const ne=await Z(`/api/publications/reviews/${O}/comments`,{method:"POST",token:l,body:{comment:J}});d(ue=>ue.map(pe=>pe.id===O?{...pe,comments:[...pe.comments||[],ne]}:pe)),j(ue=>({...ue,[O]:""}))}catch(ne){alert("Error al publicar el comentario: "+((ne==null?void 0:ne.message)||"Error"))}}}const Q=S=>{V(S),F(!0)},L=()=>{F(!1),V(null),te(""),re("")};async function D(S){if(S.preventDefault(),!_||!A){alert("Por favor, selecciona una razn para el reporte.");return}try{await Z(`/api/publications/${t.id}/reviews/${_.id}/report`,{method:"POST",token:l,body:{reason:A,comments:Y||void 0}}),alert("Reporte enviado con xito. Gracias por tu colaboracin.");const O=await Z(`/api/publications/${t.id}/reviews`,{token:l});d(O)}catch(O){alert("Error al enviar el reporte: "+((O==null?void 0:O.message)||"Error"))}L()}async function B(S){S&&S.stopPropagation&&S.stopPropagation();const O=i;o(!O);try{r&&await r(t.id)}catch(J){o(O),alert("Error actualizando favoritos: "+((J==null?void 0:J.message)||J))}}return n.jsxs("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1050},children:[n.jsxs("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:600,maxHeight:"90vh",width:"90%"},children:[n.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:t.place_name}),n.jsx("button",{className:"btn-close",onClick:s})]}),n.jsxs("div",{className:"p-3",style:{overflowY:"auto",maxHeight:"calc(90vh - 70px)"},children:[n.jsx("div",{className:"mb-3",children:((k=t.photos)==null?void 0:k.length)>0?n.jsxs("div",{id:`carousel-${t.id}`,className:"carousel slide","data-bs-ride":"carousel",children:[n.jsx("div",{className:"carousel-inner",children:t.photos.map((S,O)=>n.jsx("div",{className:`carousel-item ${O===0?"active":""}`,children:n.jsx("img",{src:S,className:"d-block w-100 rounded",alt:`Imagen ${O+1}`,style:{height:"300px",objectFit:"cover"}})},O))}),t.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#carousel-${t.id}`,"data-bs-slide":"prev",children:n.jsx("span",{className:"carousel-control-prev-icon"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#carousel-${t.id}`,"data-bs-slide":"next",children:n.jsx("span",{className:"carousel-control-next-icon"})})]})]}):n.jsx("div",{className:"text-muted text-center p-4",children:"Sin imgenes disponibles"})}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsx("div",{children:n.jsx(At,{avg:t.rating_avg,count:t.rating_count})}),n.jsx("button",{className:`btn ${i?"btn-danger":"btn-outline-danger"}`,onClick:B,title:i?"Quitar de favoritos":"Agregar a favoritos",children:i?" Favorito":" Agregar a favoritos"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"mb-2",style:{color:"#3A92B5"},children:" Ubicacin"}),n.jsxs("p",{className:"mb-2",children:[t.address?`${t.address}, `:"",t.city,t.province?`, ${t.province}`:"",t.country?`, ${t.country}`:""]})]}),t.description&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"mb-2",style:{color:"#3A92B5"},children:" Descripcin"}),n.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:t.description})]}),t.categories&&t.categories.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"text-primary mb-2",children:" Categoras"}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:t.categories.map(S=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:S},S))})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"text-primary mb-2",children:" Precio"}),t.cost_per_day?n.jsxs("p",{className:"mb-0",children:[n.jsxs("span",{className:"text-success fw-bold",children:["$",t.cost_per_day]})," por da"]}):n.jsx("p",{className:"mb-0",children:n.jsx("span",{className:"text-info fw-bold",children:"El precio sujeto al consumo en el lugar"})})]}),t.duration_min&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"text-primary mb-2",children:" Duracin"}),n.jsx("p",{className:"mb-0",children:t.duration_min<60?`${t.duration_min} minutos`:`${Math.round(t.duration_min/60)} horas`})]}),t.activities&&t.activities.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"text-primary mb-2",children:" Actividades"}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:t.activities.map((S,O)=>n.jsx("span",{className:"badge bg-info-subtle text-info border",children:S},O))})]}),t.climate&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"text-primary mb-2",children:" Clima"}),n.jsx("p",{className:"mb-0",children:t.climate})]}),t.continent&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h6",{className:"text-primary mb-2",children:" Continente"}),n.jsx("p",{className:"mb-0",children:t.continent})]}),n.jsx("hr",{}),n.jsx("h6",{className:"text-primary mt-3 mb-2",children:" Reseas"}),n.jsxs("div",{style:{maxHeight:250,overflow:"auto"},children:[p&&n.jsx("div",{className:"text-muted",children:"Cargando"}),u&&n.jsx("div",{className:"alert alert-danger",children:u}),!p&&!u&&c.length===0&&n.jsx("div",{className:"text-muted",children:"Sin reseas todava."}),n.jsx("ul",{className:"list-unstyled mb-0",children:c.map(S=>n.jsxs("li",{className:"border rounded-3 p-3 mb-2",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{className:"d-flex align-items-center gap-3",children:[n.jsxs("div",{className:"d-flex align-items-center gap-2",children:[n.jsx(tm,{value:S.rating}),S.status==="under_review"&&n.jsx("span",{className:"badge bg-warning text-dark",children:" Reportada"})]}),n.jsxs("button",{className:`btn btn-sm ${S.is_liked_by_me?"btn-danger":"btn-outline-danger"} ${N?"":"disabled"}`,onClick:()=>G(S.id),disabled:!N,title:N?S.is_liked_by_me?"Quitar me gusta":"Dar me gusta":"Solo usuarios premium pueden dar me gusta",style:{padding:"0.1rem 0.4rem"},children:[S.is_liked_by_me?"":""," ",S.like_count]})]}),n.jsxs("div",{className:"d-flex align-items-center gap-2",children:[n.jsx("small",{className:"text-muted",children:new Date(S.created_at).toLocaleString()}),w&&n.jsx("button",{className:"btn btn-link btn-sm p-0 text-danger",title:"Reportar resea",onClick:()=>Q(S),style:{textDecoration:"none"},children:" Reportar"})]})]}),S.comment&&n.jsx("div",{className:"mt-1",children:S.comment}),n.jsxs("small",{className:"text-muted d-block mt-1",children:[" por ",S.author_username]}),n.jsxs("div",{className:"mt-3 ps-3",style:{borderLeft:"3px solid #eee"},children:[S.comments&&S.comments.length>0&&n.jsx("ul",{className:"list-unstyled mb-2",children:S.comments.map(O=>n.jsxs("li",{className:"mb-2",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsx("strong",{className:"small",children:O.author_username}),n.jsx("small",{className:"text-muted",style:{fontSize:"0.75em"},children:new Date(O.created_at).toLocaleString()})]}),n.jsx("p",{className:"mb-0 small",style:{whiteSpace:"pre-wrap"},children:O.comment})]},O.id))}),w&&n.jsxs("form",{onSubmit:O=>U(O,S.id),className:"d-flex gap-2",children:[n.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Escribe una respuesta...",value:f[S.id]||"",onChange:O=>j(J=>({...J,[S.id]:O.target.value}))}),n.jsx("button",{className:"btn btn-sm btn-celeste",type:"submit",disabled:!f[S.id]||!f[S.id].trim(),children:"Enviar"})]})]})]},S.id))})]}),N?n.jsx("form",{className:"p-3 border-top",onSubmit:le,children:n.jsxs("div",{className:"row g-2",children:[n.jsxs("div",{className:"col-12 col-md-2",children:[n.jsx("label",{className:"form-label mb-1",children:"Rating"}),n.jsx("select",{className:"form-select",value:v,onChange:S=>y(S.target.value),children:[5,4,3,2,1].map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{className:"col-12 col-md-8",children:[n.jsx("label",{className:"form-label mb-1",children:"Comentario (opcional)"}),n.jsx("input",{className:"form-control",value:b,onChange:S=>h(S.target.value),placeholder:"Contanos tu experiencia"})]}),n.jsx("div",{className:"col-12 col-md-2 d-flex align-items-end",children:n.jsx("button",{className:"btn btn-celeste w-100",type:"submit",children:"Publicar"})})]})}):n.jsx("div",{className:"p-3 border-top",children:n.jsxs("div",{className:"alert alert-secondary mb-0",children:["Solo los ",n.jsx("strong",{children:"usuarios premium"})," pueden publicar reseas."]})})]})]})]}),I&&_&&n.jsxs("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.6)",zIndex:1060},children:[" ",n.jsxs("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:500,width:"90%"},children:[n.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:"Reportar Resea"}),n.jsx("button",{className:"btn-close",onClick:L})]}),n.jsxs("form",{onSubmit:D,children:[n.jsxs("div",{className:"p-3",style:{maxHeight:"70vh",overflowY:"auto"},children:[n.jsxs("p",{children:["Ests reportando la resea de ",n.jsx("strong",{children:_.author_username}),":"]}),n.jsxs("blockquote",{className:"small fst-italic border-start ps-2 bg-light p-2 rounded",children:['"',_.comment||"(Sin comentario de texto)",'"']}),n.jsx("label",{className:"form-label mt-3 mb-1",children:"Razn del reporte (requerido):"}),n.jsxs("div",{className:"form-check",children:[n.jsx("input",{className:"form-check-input",type:"radio",name:"reportReason",id:"reason1",value:"Spam",onChange:S=>te(S.target.value),checked:A==="Es spam o publicidad"}),n.jsx("label",{className:"form-check-label",htmlFor:"reason1",children:"Es spam o publicidad"})]}),n.jsxs("div",{className:"form-check",children:[n.jsx("input",{className:"form-check-input",type:"radio",name:"reportReason",id:"reason2",value:"Inapropiado",onChange:S=>te(S.target.value),checked:A==="Contenido inapropiado u ofensivo"}),n.jsx("label",{className:"form-check-label",htmlFor:"reason2",children:"Contenido inapropiado u ofensivo"})]}),n.jsxs("div",{className:"form-check",children:[n.jsx("input",{className:"form-check-input",type:"radio",name:"reportReason",id:"reason3",value:"Odio",onChange:S=>te(S.target.value),checked:A==="Discurso de odio o discriminacin"}),n.jsx("label",{className:"form-check-label",htmlFor:"reason3",children:"Discurso de odio o discriminacin"})]}),n.jsxs("div",{className:"form-check",children:[n.jsx("input",{className:"form-check-input",type:"radio",name:"reportReason",id:"reason4",value:"Irrelevante",onChange:S=>te(S.target.value),checked:A==="No es relevante para la publicacin"}),n.jsx("label",{className:"form-check-label",htmlFor:"reason4",children:"No es relevante para la publicacin"})]}),n.jsxs("div",{className:"form-check",children:[n.jsx("input",{className:"form-check-input",type:"radio",name:"reportReason",id:"reason5",value:"Otro",onChange:S=>te(S.target.value),checked:A==="Otra razn"}),n.jsx("label",{className:"form-check-label",htmlFor:"reason5",children:"Otra razn"})]}),n.jsx("label",{className:"form-label mt-3",children:"Comentarios (opcional):"}),n.jsx("textarea",{className:"form-control",rows:"3",value:Y,onChange:S=>re(S.target.value),placeholder:"Danos ms detalles..."})]}),n.jsxs("div",{className:"p-3 border-top text-end",children:[n.jsx("button",{type:"button",className:"btn btn-secondary me-2",onClick:L,children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn btn-danger",disabled:!A,children:"Enviar Reporte"})]})]})]})]})]})}function ul({me:e}){const{userId:t}=Gu(),s=typeof window<"u"&&localStorage.getItem("token")||"",r=!t||e&&String(e.id)===String(t||""),[a,l]=m.useState(e||null),i=(a==null?void 0:a.first_name)||(a==null?void 0:a.username)||"Viajero",o=(a==null?void 0:a.username)||"usuario",c=(a==null?void 0:a.bio)||".",d=i.split(" ").filter(Boolean).map(k=>k[0]).join("").slice(0,1).toUpperCase(),[p,g]=m.useState([]),[u,x]=m.useState([]),[v,y]=m.useState([]),[b,h]=m.useState(!0),[f,j]=m.useState(""),[w,N]=m.useState(!1),[I,F]=m.useState(null),[_,V]=m.useState(null),[A,te]=m.useState(!1),[Y,re]=m.useState(null),[le,G]=m.useState(null);function U(k){F(k),N(!0)}async function Q(k){if(!r){re(k);try{await Z("/api/itineraries/save",{method:"POST",token:s,body:{original_itinerary_id:k}}),alert("Itinerario guardado exitosamente!")}catch(S){console.error("Error al guardar itinerario:",S),S.message.includes("Ya tienes este itinerario guardado")?alert("Ya tienes este itinerario guardado"):alert("Error al guardar el itinerario: "+S.message)}finally{re(null)}}}async function L(k){if(r){G(k);try{console.log(" Convirtiendo itinerario",k,"a personalizado...");const S=await Z(`/api/itineraries/${k}/convert-to-custom`,{method:"POST",token:s});console.log(" Conversin exitosa:",S),S.success?(alert(`Conversin exitosa! ${S.validation.total_days} das con ${S.validation.total_activities} actividades convertidas.`),localStorage.setItem("convertedItinerary",JSON.stringify({custom_structure:S.custom_structure,original_info:S.original_itinerary,conversion_metadata:S.conversion_metadata})),window.location.href="/itinerary-custom"):alert("Error en la conversin: "+(S.error||"Error desconocido"))}catch(S){console.error("Error al convertir itinerario:",S),alert("Error al convertir itinerario: "+S.message)}finally{G(null)}}}m.useEffect(()=>{if(!s)return;if(r){l(e||null);return}let k=!1;async function S(){try{j("");const O=await Z(`/api/users/${t}`,{token:s});k||l(O)}catch(O){k||(console.error("Error cargando usuario",O),j(O.message||"Error cargando el perfil de este viajero."))}}return S(),()=>{k=!0}},[t,s,r,e]),m.useEffect(()=>{if(!s){h(!1);return}const k=r?e==null?void 0:e.id:t;if(!k){h(!1);return}let S=!1;async function O(){h(!0),j("");try{const J=r?"/api/itineraries/my-itineraries":`/api/itineraries/by-user/${k}`,ne=await Z(J,{token:s}),ue=Array.isArray(ne)?ne:[],pe=r?"/api/publications/favorites":`/api/publications/favorites?user_id=${k}`,ke=await Z(pe,{token:s}),he=Array.isArray(ke)?ke:[],Pe=he.filter(ye=>(ye.favorite_status||"pending")==="pending"),jt=he.filter(ye=>(ye.favorite_status||"pending")==="done");S||(g(ue),x(Pe),y(jt))}catch(J){S||(console.error("Error cargando datos de perfil",J),j(J.message||"Error cargando datos del viajero."))}finally{S||h(!1)}}return O(),()=>{S=!0}},[s,r,t,e==null?void 0:e.id]);const D=k=>{if(!k)return"";const S=String(k).split("T")[0],[O,J,ne]=S.split("-");return new Date(O,J-1,ne).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})},B=!r;return n.jsxs("div",{className:"container-fluid py-4",children:[n.jsx("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:n.jsxs("div",{className:"card-body d-flex flex-column flex-md-row align-items-md-center",children:[n.jsx("div",{className:"d-flex align-items-center justify-content-center me-md-4 mb-3 mb-md-0",style:{width:"64px",height:"64px",borderRadius:"50%",overflow:"hidden",flexShrink:0,backgroundColor:a!=null&&a.profile_picture_url?"transparent":"#6c757d",color:a!=null&&a.profile_picture_url?"inherit":"#FFFFFF"},children:a!=null&&a.profile_picture_url?n.jsx("img",{src:a.profile_picture_url,alt:i,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):n.jsx("span",{className:"fw-bold",style:{fontSize:"1.4rem"},children:d})}),n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h1",{className:"h4 fw-bold mb-1",children:i}),n.jsxs("div",{className:"text-muted small mb-1",children:["@",o]}),n.jsx("p",{className:"mb-0 small text-muted",children:c})]})]})}),b&&n.jsx("div",{className:"alert alert-info",children:"Cargando perfil viajero"}),f&&n.jsx("div",{className:"alert alert-danger",children:f}),n.jsxs("div",{className:"card shadow-sm rounded-4 mb-4",style:{background:"rgba(255,255,255,0.60)",backdropFilter:"blur(5px)",border:"1px solid rgba(255,255,255,0.4)"},children:[n.jsx("div",{className:"card-header bg-light border-0 rounded-top-4",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsx("h2",{className:"h6 text-uppercase text-muted mb-0",children:"Itinerarios publicados"}),n.jsx("small",{className:"text-muted",children:"Itinerarios generados que otros viajeros podran consultar."})]})}),n.jsx("div",{className:"card-body",children:!b&&p.length===0?n.jsx("div",{className:"alert alert-light border mb-0",children:B?"Este viajero todava no tiene itinerarios publicados.":"Todava no tens itinerarios generados. Cuando crees itinerarios con IA, ms adelante vas a poder elegir cules mostrar en tu perfil pblico."}):n.jsx("div",{className:"row g-3",children:p.map(k=>n.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:n.jsx("div",{className:"card h-100 border-0 shadow-sm rounded-4",children:n.jsxs("div",{className:"card-body d-flex flex-column",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"fw-semibold",children:k.destination||k.city||"Itinerario"}),n.jsxs("div",{className:"small text-muted",children:[D(k.start_date)," "," ",D(k.end_date)]})]}),n.jsx("span",{className:"badge bg-light text-dark border small",children:k.trip_type||"Viaje"})]}),n.jsxs("div",{className:"small text-muted mb-2",children:[k.budget&&n.jsxs(n.Fragment,{children:[" Presupuesto estimado: US$",k.budget," "," "]}),k.cant_persons&&n.jsxs(n.Fragment,{children:[" ",k.cant_persons," persona",k.cant_persons>1?"s":""]})]}),n.jsxs("div",{className:"mt-auto d-flex justify-content-between align-items-center",children:[n.jsxs("span",{className:"small text-muted",children:["Estado:"," ",k.status==="completed"&&n.jsx("span",{className:"badge bg-success",children:"Completado"}),k.status==="pending"&&n.jsx("span",{className:"badge bg-warning text-dark",children:"Pendiente"}),k.status==="failed"&&n.jsx("span",{className:"badge bg-danger",children:"Error"})]}),n.jsxs("div",{className:"d-flex gap-2",children:[!r&&n.jsxs("button",{type:"button",className:"btn btn-sm btn-success",onClick:()=>Q(k.id),disabled:Y===k.id,title:"Guardar itinerario",children:[Y===k.id?"":""," Guardar"]}),r&&(k.status==="completed"||k.status==="completed_with_warnings")&&n.jsxs("button",{type:"button",className:"btn btn-sm btn-warning",onClick:()=>L(k.id),disabled:le===k.id,title:"Convertir a itinerario personalizado para editar",children:[le===k.id?"":""," Modificar itinerario"]}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-custom",onClick:()=>{V(k),te(!0)},children:"Ver detalle"})]})]})]})})},k.id))})})]}),n.jsxs("div",{className:"row g-4",children:[n.jsx("div",{className:"col-12 col-lg-6",children:n.jsxs("div",{className:"card shadow-sm rounded-4 h-100",style:{background:"rgba(255,255,255,0.60)",backdropFilter:"blur(5px)",border:"1px solid rgba(255,255,255,0.4)"},children:[n.jsxs("div",{className:"card-header bg-light border-0 rounded-top-4",children:[n.jsx("h2",{className:"h6 text-uppercase text-muted mb-0",children:"Lugares por visitar"}),n.jsxs("small",{className:"text-muted",children:["Lugares que ",B?"este viajero marc":"marcaste"," como pendientes de visitar."]})]}),n.jsx("div",{className:"card-body",children:!b&&u.length===0?n.jsx("div",{className:"alert alert-light border mb-0 small",children:B?"Este viajero todava no tiene lugares marcados como 'Por visitar'.":n.jsxs(n.Fragment,{children:["An no agregaste lugares a ",n.jsx("strong",{children:"Por visitar"}),".",n.jsx("br",{}),"Desde la seccin de favoritos pods marcar los lugares que quers guardar para ms adelante."]})}):n.jsx("div",{className:"row row-cols-1 row-cols-md-2 g-3",children:u.map(k=>{var S;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100 border-0 rounded-4",style:{cursor:"pointer"},onClick:()=>U(k),children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h3",{className:"h6 fw-semibold mb-1",children:k.place_name}),n.jsxs("small",{className:"text-muted d-block",children:[" ",k.address?`${k.address}, `:"",k.city,", ",k.province,k.country?`, ${k.country}`:""]}),n.jsx("div",{className:"mt-2 d-flex flex-wrap gap-1",children:(k.categories||[]).map(O=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:O},O))})]}),n.jsxs("div",{className:"text-end ms-2",children:[n.jsx("span",{className:"badge bg-info-subtle text-info border mb-1",children:"Por visitar"}),n.jsx(At,{avg:k.rating_avg,count:k.rating_count})]})]})}),(S=k.photos)!=null&&S.length?n.jsxs("div",{id:`profile-visit-${k.id}`,className:"carousel slide mt-2","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:k.photos.map((O,J)=>n.jsx("div",{className:`carousel-item ${J===0?"active":""}`,children:n.jsx("img",{src:O,className:"d-block w-100",alt:`Foto ${J+1}`,style:{height:200,objectFit:"cover"}})},O))}),k.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#profile-visit-${k.id}`,"data-bs-slide":"prev",onClick:O=>O.stopPropagation(),children:[n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),n.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":`#profile-visit-${k.id}`,"data-bs-slide":"next",onClick:O=>O.stopPropagation(),children:[n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})]}):n.jsx("div",{className:"p-3 text-center text-muted",children:"Sin fotos"}),n.jsx("div",{className:"card-footer bg-white border-0 d-flex justify-content-between align-items-center",children:k.cost_per_day&&n.jsxs("small",{className:"text-muted",children:["Desde"," ",n.jsxs("span",{className:"text-success fw-semibold",children:["US$",k.cost_per_day]})]})})]})},k.id)})})})]})}),n.jsx("div",{className:"col-12 col-lg-6",children:n.jsxs("div",{className:"card shadow-sm rounded-4 h-100",style:{background:"rgba(255,255,255,0.60)",backdropFilter:"blur(5px)",border:"1px solid rgba(255,255,255,0.4)"},children:[n.jsxs("div",{className:"card-header bg-light border-0 rounded-top-4",children:[n.jsx("h2",{className:"h6 text-uppercase text-muted mb-0",children:"Lugares visitados"}),n.jsxs("small",{className:"text-muted",children:["Lugares que ",B?"este viajero visit":"ya visitaste"," y recomends a otros viajeros."]})]}),n.jsx("div",{className:"card-body",children:!b&&v.length===0?n.jsx("div",{className:"alert alert-light border mb-0 small",children:B?"Este viajero todava no tiene lugares marcados como 'Visitados'.":n.jsxs(n.Fragment,{children:["An no agregaste lugares a ",n.jsx("strong",{children:"Visitados"}),".",n.jsx("br",{}),"Cuando marques favoritos como realizados, van a aparecer ac."]})}):n.jsx("div",{className:"row row-cols-1 row-cols-md-2 g-3",children:v.map(k=>{var S;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100 border-0 rounded-4",style:{cursor:"pointer"},onClick:()=>U(k),children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h3",{className:"h6 fw-semibold mb-1",children:k.place_name}),n.jsxs("small",{className:"text-muted d-block",children:[" ",k.address?`${k.address}, `:"",k.city,", ",k.province,k.country?`, ${k.country}`:""]}),n.jsx("div",{className:"mt-2 d-flex flex-wrap gap-1",children:(k.categories||[]).map(O=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:O},O))})]}),n.jsxs("div",{className:"text-end ms-2",children:[n.jsx("span",{className:"badge bg-success-subtle text-success border mb-1",children:"Visitado"}),n.jsx(At,{avg:k.rating_avg,count:k.rating_count})]})]})}),(S=k.photos)!=null&&S.length?n.jsxs("div",{id:`profile-done-${k.id}`,className:"carousel slide mt-2","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:k.photos.map((O,J)=>n.jsx("div",{className:`carousel-item ${J===0?"active":""}`,children:n.jsx("img",{src:O,className:"d-block w-100",alt:`Foto ${J+1}`,style:{height:200,objectFit:"cover"}})},O))}),k.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#profile-done-${k.id}`,"data-bs-slide":"prev",onClick:O=>O.stopPropagation(),children:[n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),n.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":`#profile-done-${k.id}`,"data-bs-slide":"next",onClick:O=>O.stopPropagation(),children:[n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})]}):n.jsx("div",{className:"p-3 text-center text-muted",children:"Sin fotos"}),n.jsx("div",{className:"card-footer bg-white border-0 d-flex justify-content-between align-items-center",children:k.cost_per_day&&n.jsxs("small",{className:"text-muted",children:["Desde"," ",n.jsxs("span",{className:"text-success fw-semibold",children:["US$",k.cost_per_day]})]})})]})},k.id)})})})]})})]}),A&&_&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1050},children:n.jsxs("div",{className:"bg-white rounded-3 shadow-lg border w-100",style:{maxWidth:900,maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[n.jsxs("h5",{className:"mb-0",children:["Itinerario: ",_.destination||"Viaje"]}),n.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{te(!1),V(null)},children:"Cerrar"})]}),n.jsxs("div",{className:"p-3",children:[n.jsx("div",{className:"card shadow-sm mb-4",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"row mb-3",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsxs("p",{children:[n.jsx("strong",{children:" Fechas:"})," ",D(_.start_date)," "," ",D(_.end_date)]}),_.trip_type&&n.jsxs("p",{children:[n.jsx("strong",{children:" Tipo de viaje:"})," ",_.trip_type]}),_.budget&&n.jsxs("p",{children:[n.jsx("strong",{children:" Presupuesto:"})," ","US$",_.budget]}),_.cant_persons&&n.jsxs("p",{children:[n.jsx("strong",{children:" Personas:"})," ",_.cant_persons]})]}),n.jsxs("div",{className:"col-md-6",children:[_.arrival_time&&n.jsxs("p",{children:[n.jsx("strong",{children:" Hora de llegada:"})," ",_.arrival_time]}),_.departure_time&&n.jsxs("p",{children:[n.jsx("strong",{children:" Hora de salida:"})," ",_.departure_time]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Estado:"})," ",_.status==="completed"&&n.jsx("span",{className:"badge bg-success",children:"Completado"}),_.status==="pending"&&n.jsx("span",{className:"badge bg-warning text-dark",children:"Pendiente"}),_.status==="failed"&&n.jsx("span",{className:"badge bg-danger",children:"Error"})]})]})]})})}),_.generated_itinerary&&n.jsxs("div",{className:"card shadow-sm mb-4",children:[n.jsxs("div",{className:"card-header bg-info text-white d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:"Itinerario generado por IA"}),n.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>navigator.clipboard.writeText(_.generated_itinerary||""),children:" Copiar"})]}),n.jsx("div",{className:"card-body",children:n.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.8",fontSize:"0.95rem"},children:_.generated_itinerary})})]})]})]})}),n.jsx(Fn,{open:w,pub:I,token:s,me:e,onClose:()=>N(!1),onToggleFavorite:()=>{}})]})}function ux({onSubmit:e,onCancel:t,loading:s,error:r,successMsg:a}){return n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[n.jsx("h3",{className:"mb-0",children:"Crear publicacin"}),n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:t,children:" Volver"})]}),r&&n.jsx("div",{className:"alert alert-danger",children:r}),a&&n.jsx("div",{className:"alert alert-success",children:a}),n.jsx("div",{className:"row justify-content-center",children:n.jsx("div",{className:"col-lg-10",children:n.jsx("form",{onSubmit:e,className:"border rounded-3 p-3 bg-white shadow-sm",children:n.jsxs("div",{className:"row g-3",children:[n.jsxs("div",{className:"col-md-12",children:[n.jsx("label",{className:"form-label",children:"Nombre del lugar *"}),n.jsx("input",{name:"place_name",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-12",children:[n.jsx("label",{className:"form-label",children:"Descripcin *"}),n.jsx("textarea",{name:"description",className:"form-control",rows:"3",required:!0,placeholder:"Describe brevemente el lugar, qu se puede hacer, etc."}),n.jsx("small",{className:"text-muted",children:"Esta descripcin ser visible en la pgina de detalle."})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Pas *"}),n.jsx("input",{name:"country",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Provincia/Estado *"}),n.jsx("input",{name:"province",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Ciudad *"}),n.jsx("input",{name:"city",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Direccin (calle y nmero) *"}),n.jsx("input",{name:"address",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-12",children:[n.jsx("label",{className:"form-label",children:"Categoras (CSV) *"}),n.jsx("input",{name:"categories",className:"form-control",placeholder:"ej: aventura,cultura,gastronomia",required:!0}),n.jsx("small",{className:"text-muted",children:"Us slugs: aventura, cultura, gastronomia"})]}),n.jsx("hr",{className:"mt-2 mb-2"}),n.jsxs("div",{className:"col-12",children:[n.jsx("div",{className:"fw-semibold text-muted",children:"Informacin del destino"}),n.jsx("small",{className:"text-muted",children:"Estos campos ayudan a recomendar destinos segn preferencias."})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Continente"}),n.jsxs("select",{name:"continent",className:"form-select",defaultValue:"",children:[n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"amrica",children:"Amrica"}),n.jsx("option",{value:"europa",children:"Europa"}),n.jsx("option",{value:"asia",children:"Asia"}),n.jsx("option",{value:"frica",children:"frica"}),n.jsx("option",{value:"oceana",children:"Oceana"})]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Clima"}),n.jsxs("select",{name:"climate",className:"form-select",defaultValue:"",children:[n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"templado",children:"Templado"}),n.jsx("option",{value:"frio",children:"Fro"}),n.jsx("option",{value:"tropical",children:"Tropical"}),n.jsx("option",{value:"seco",children:"Seco"})]})]}),n.jsxs("div",{className:"col-md-12",children:[n.jsx("label",{className:"form-label",children:"Actividades"}),n.jsx("input",{name:"activities",className:"form-control",placeholder:"ej: playa,gastronoma,noche"}),n.jsx("small",{className:"text-muted",children:"Separ por comas. Se guardan en minsculas."})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Costo por da (USD)"}),n.jsx("input",{name:"cost_per_day",type:"number",step:"any",className:"form-control"})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Duracin (minutos)"}),n.jsx("input",{name:"duration_min",type:"number",className:"form-control"})]}),n.jsxs("div",{className:"col-md-12",children:[n.jsx("label",{className:"form-label",children:"Fotos (hasta 4)  JPG/PNG/WebP"}),n.jsx("input",{name:"photos",type:"file",className:"form-control",multiple:!0,accept:".jpg,.jpeg,.png,.webp"}),n.jsx("small",{className:"text-muted",children:"Pods seleccionar varias a la vez. Mximo 4."})]}),n.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:t,disabled:s,children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom",disabled:s,children:s?"Enviando...":"Enviar para aprobacin"})]})]})})})})]})}function nm({onSubmit:e,isLoading:t=!1}){const[s,r]=m.useState(""),[a,l]=m.useState(""),[i,o]=m.useState(""),[c,d]=m.useState(""),[p,g]=m.useState(""),[u,x]=m.useState(""),[v,y]=m.useState(""),[b,h]=m.useState(""),[f,j]=m.useState(""),[w,N]=m.useState(""),I=["Romntico","Gastronmico","Laboral","Relajacin","Aventurero","Cultural","Familiar","Deportivo","Compras","No especificado"];async function F(_){if(_.preventDefault(),N(""),!s||!a||!i||!c||!u||!p){N("Por favor completa todos los campos obligatorios");return}if(new Date(i)<new Date(a)){N("La fecha de fin debe ser posterior a la fecha de inicio");return}if(parseInt(c)<=0){N("El presupuesto debe ser mayor a 0");return}if(parseInt(p)<=0){N("La cantidad de personas debe ser mayor a 0");return}try{const V=te=>te?new Date(te+"T00:00:00").toISOString().split("T")[0]:null,A={destination:s,start_date:V(a),end_date:V(i),budget:parseInt(c),cant_persons:parseInt(p),trip_type:u,arrival_time:v||null,departure_time:b||null,comments:f.trim()||null};await e(A)}catch(V){N(V.message||"Error al solicitar el itinerario")}}return n.jsxs("form",{onSubmit:F,className:"border rounded-3 p-3 bg-white shadow-sm",children:[w&&n.jsx("div",{className:"alert alert-danger",role:"alert",children:w}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{htmlFor:"destination",className:"form-label",children:["Destino ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx("input",{id:"destination",type:"text",className:"form-control",placeholder:"Ej: Ro de Janeiro, Brasil",value:s,onChange:_=>r(_.target.value),required:!0,disabled:t}),n.jsx("small",{className:"form-text text-muted",children:"Ingresa el destino completo (ciudad, pas)"})]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-3",children:[n.jsxs("label",{htmlFor:"startDate",className:"form-label",children:["Fecha de inicio ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx("input",{id:"startDate",type:"date",className:"form-control",value:a,onChange:_=>l(_.target.value),required:!0,disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-3",children:[n.jsxs("label",{htmlFor:"endDate",className:"form-label",children:["Fecha de fin ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx("input",{id:"endDate",type:"date",className:"form-control",value:i,onChange:_=>o(_.target.value),required:!0,disabled:t})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{htmlFor:"budget",className:"form-label",children:["Presupuesto estimado (USD) ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx("input",{id:"budget",type:"number",className:"form-control",placeholder:"Ej: 1500",value:c,onChange:_=>d(_.target.value),min:"1",required:!0,disabled:t})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{htmlFor:"cantPersons",className:"form-label",children:["Cantidad de personas ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx("input",{id:"cantPersons",type:"number",className:"form-control",placeholder:"Ingresa la cantidad de personas que viajarn",value:p,onChange:_=>g(_.target.value),min:"1",required:!0,disabled:t})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{htmlFor:"tripType",className:"form-label",children:["Tipo de viaje ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs("select",{id:"tripType",className:"form-select",value:u,onChange:_=>x(_.target.value),required:!0,disabled:t,children:[n.jsx("option",{value:"",children:"Selecciona un tipo"}),I.map(_=>n.jsx("option",{value:_,children:_},_))]})]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-3",children:[n.jsx("label",{htmlFor:"arrivalTime",className:"form-label",children:"Hora estimada de llegada (opcional)"}),n.jsx("input",{id:"arrivalTime",type:"time",className:"form-control",value:v,onChange:_=>y(_.target.value),disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-3",children:[n.jsx("label",{htmlFor:"departureTime",className:"form-label",children:"Hora estimada de salida (opcional)"}),n.jsx("input",{id:"departureTime",type:"time",className:"form-control",value:b,onChange:_=>h(_.target.value),disabled:t})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{htmlFor:"comments",className:"form-label",children:"Comentarios (opcional)"}),n.jsx("textarea",{id:"comments",className:"form-control",placeholder:"Ej: No quiero ir a lugares muy concurridos, prefiero actividades al aire libre, etc.",value:f,onChange:_=>j(_.target.value),rows:"3",maxLength:"500",disabled:t}),n.jsx("small",{className:"form-text text-muted",children:"Agrega cualquier comentario o preferencia especial para personalizar tu itinerario (mximo 500 caracteres)"})]}),n.jsxs("div",{className:"alert alert-info",role:"alert",children:[n.jsx("strong",{children:"Nota:"})," El itinerario se generar considerando tus preferencias de viaje configuradas en tu perfil. Asegrate de haberlas completado para obtener mejores resultados. ESTO PUEDE TARDAR UN MOMENTO, NO CIERRES LA PGINA HASTA QUE SE COMPLETE."]}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom w-100",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Generando itinerario..."]}):"Solicitar Itinerario"})]})}function mx({initialView:e="form",me:t}){const s=mr(),[r,a]=m.useState(!1),[l,i]=m.useState(""),[o,c]=m.useState(""),[d,p]=m.useState([]),[g,u]=m.useState(e==="list"),[x,v]=m.useState(null),y=localStorage.getItem("token")||"",[b,h]=m.useState(!1),[f,j]=m.useState(null),[w,N]=m.useState(!1),[I,F]=m.useState(null),_=(t==null?void 0:t.role)==="premium";m.useEffect(()=>{e==="list"&&V()},[e]);async function V(){a(!0),i("");try{const D=await Z("/api/itineraries/my-itineraries",{token:y});p(D)}catch(D){i(D.message)}finally{a(!1)}}async function A(D){console.log(" ItineraryRequest: handleDeleteItinerary ejecutada con ID:",D),j(D),h(!0)}async function te(){if(f){a(!0),i(""),c("");try{await Z(`/api/itineraries/${f}`,{method:"DELETE",token:y}),c("Itinerario eliminado exitosamente"),x&&x.id===f&&(v(null),u(!0)),await V(),setTimeout(()=>c(""),3e3)}catch(D){i(D.message||"Error al eliminar el itinerario")}finally{a(!1),h(!1),j(null)}}}async function Y(D){a(!0),i(""),c("");try{const B=await Z("/api/itineraries/request",{method:"POST",token:y,body:D});c("Itinerario generado exitosamente!"),v(B),setTimeout(()=>c(""),3e3)}catch(B){i(B.message||"Error al solicitar el itinerario")}finally{a(!1)}}function re(){u(!0),v(null),V()}function le(){u(!1),v(null),i(""),c("")}function G(D){v(D),u(!1)}const U=D=>{if(!D)return"";const B=D.split("T")[0],[k,S,O]=B.split("-");return new Date(k,S-1,O).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})};function Q(D){F(D),N(!0)}async function L(D){try{const B=await Z(`/api/publications/${D}/favorite`,{method:"POST",token:y});v(k=>k?{...k,publications:k.publications.map(S=>S.id===D?{...S,is_favorite:B.is_favorite}:S)}:null),I&&I.id===D&&F(k=>({...k,is_favorite:B.is_favorite}))}catch(B){i(B.message||"Error al actualizar favorito")}}return g?n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[n.jsx("h3",{className:"mb-0",children:"Mis Itinerarios"}),n.jsx("button",{className:"btn",onClick:le,children:"+ Nuevo Itinerario"})]}),r&&n.jsx("div",{className:"alert alert-info",children:"Cargando..."}),l&&n.jsx("div",{className:"alert alert-danger",children:l}),o&&n.jsx("div",{className:"alert alert-success",children:o}),n.jsx("div",{className:"row g-4",children:d.map(D=>n.jsx("div",{className:"col-md-6 col-lg-4",children:n.jsxs("div",{className:"card shadow-sm h-100",children:[n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[n.jsx("h5",{className:"card-title mb-0",children:D.destination}),D.status==="completed"&&n.jsx("span",{className:"badge bg-success",children:"Completado"}),D.status==="pending"&&n.jsx("span",{className:"badge bg-warning text-dark",children:"Pendiente"}),D.status==="failed"&&n.jsx("span",{className:"badge bg-danger",children:"Error"})]}),n.jsxs("p",{className:"text-muted small mb-2",children:[U(D.start_date)," - ",U(D.end_date)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Tipo:"})," ",D.trip_type]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Presupuesto:"})," US$",D.budget]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Personas:"})," ",D.cant_persons]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-sm flex-grow-1",onClick:()=>G(D),children:"Ver Itinerario"}),n.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:B=>{console.log("ItineraryRequest: Botn eliminar clickeado!"),console.log("Event:",B),console.log("Itinerary ID:",D.id),B.stopPropagation(),A(D.id)},title:"Eliminar itinerario",disabled:r,children:""})]})]}),n.jsxs("div",{className:"card-footer text-muted small",children:["Creado: ",new Date(D.created_at).toLocaleString("es-ES")]})]})},D.id))}),!r&&d.length===0&&n.jsx("div",{className:"alert alert-secondary",children:"No tienes itinerarios generados an. Crea tu primer itinerario con IA!"})]}):x?n.jsxs(n.Fragment,{children:[" ",n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[n.jsxs("h3",{className:"mb-0",children:["Itinerario: ",x.destination]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:re,children:"Mis Itinerarios"}),_&&n.jsx("button",{className:"btn btn-outline-custom",onClick:()=>s(`/itineraries/${x.id}/share`),title:"Compartir por mail",children:" Compartir por mail"}),n.jsx("button",{className:"btn btn-outline-danger",onClick:()=>A(x.id),disabled:r,children:" Eliminar"}),n.jsx("button",{className:"btn btn-celeste",onClick:le,children:"+ Nuevo Itinerario"})]})]}),l&&n.jsx("div",{className:"alert alert-danger",children:l}),o&&n.jsx("div",{className:"alert alert-success",children:o}),n.jsx("div",{className:"card shadow-sm mb-4",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"row mb-3",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Fechas:"})," ",U(x.start_date)," - ",U(x.end_date)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Tipo de viaje:"})," ",x.trip_type]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Presupuesto:"})," US$",x.budget]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Personas:"})," ",x.cant_persons]})]}),n.jsxs("div",{className:"col-md-6",children:[x.arrival_time&&n.jsxs("p",{children:[n.jsx("strong",{children:"Hora de llegada:"})," ",x.arrival_time]}),x.departure_time&&n.jsxs("p",{children:[n.jsx("strong",{children:"Hora de salida:"})," ",x.departure_time]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Estado:"})," ",x.status==="completed"&&n.jsx("span",{className:"badge bg-success",children:"Completado"}),x.status==="pending"&&n.jsx("span",{className:"badge bg-warning text-dark",children:"Pendiente"}),x.status==="failed"&&n.jsx("span",{className:"badge bg-danger",children:"Error"})]})]})]})})}),n.jsxs("div",{className:"card shadow-sm",children:[n.jsxs("div",{className:"card-header text-white d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:"Itinerario Generado por IA"}),n.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>navigator.clipboard.writeText(x.generated_itinerary||""),children:" Copiar"})]}),n.jsx("div",{className:"card-body",children:x.status==="completed"?n.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.8",fontSize:"0.95rem"},children:x.generated_itinerary}):n.jsx("div",{className:"alert alert-warning",children:x.generated_itinerary||"No se pudo generar el itinerario"})})]}),x.publications&&x.publications.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"mb-3",children:" Lugares incluidos en este itinerario"}),n.jsx("p",{className:"text-muted mb-3",children:"Estos son los lugares de nuestra plataforma que la IA utiliz para crear tu itinerario:"}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4",children:x.publications.map(D=>{var B;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100 border-success",onClick:()=>Q(D),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:D.place_name}),n.jsxs("small",{className:"text-muted",children:[D.address,", ",D.city,", ",D.province,", ",D.country]}),n.jsxs("div",{className:"mt-2 d-flex flex-wrap gap-2",children:[n.jsx(At,{avg:D.rating_avg,count:D.rating_count}),(D.categories||[]).map(k=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:k},k))]})]}),n.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:k=>{k.stopPropagation(),L(D.id)},style:{fontSize:"1.5rem",textDecoration:"none"},title:D.is_favorite?"Quitar de favoritos":"Agregar a favoritos",children:D.is_favorite?"":""})]})}),(B=D.photos)!=null&&B.length?n.jsxs("div",{id:`itin-carousel-${D.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:D.photos.map((k,S)=>n.jsx("div",{className:`carousel-item ${S===0?"active":""}`,children:n.jsx("img",{src:k,className:"d-block w-100",alt:`Foto ${S+1}`,style:{height:260,objectFit:"cover"}})},k))}),D.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#itin-carousel-${D.id}`,"data-bs-slide":"prev",children:n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#itin-carousel-${D.id}`,"data-bs-slide":"next",children:n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"})})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white d-flex justify-content-between align-items-center",children:[n.jsxs("small",{className:"text-muted",children:["Creado: ",new Date(D.created_at).toLocaleString()]}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:k=>{k.stopPropagation(),Q(D)},children:"Ver Detalles"})]})]})},D.id)})})]})]}),n.jsx(Fn,{open:w,pub:I,token:y,me:t||{},onClose:()=>N(!1),onToggleFavorite:L}),b&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Ests seguro de que deseas eliminar este itinerario?"}),n.jsx("p",{className:"text-muted mb-3",children:"Esta accin no se puede deshacer."}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>h(!1),children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:te,children:"Eliminar"})]})]})})})]}):n.jsx("div",{className:"container mt-4",children:n.jsx("div",{className:"row justify-content-center",children:n.jsxs("div",{className:"col-lg-8",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[n.jsx("h3",{className:"mb-0",children:"Solicitar Nuevo Itinerario"}),n.jsx("button",{className:"btn btn-outline-secondary",onClick:re,children:"Mis Itinerarios"})]}),r&&n.jsx("div",{className:"alert alert-info",children:"Generando itinerario..."}),l&&n.jsx("div",{className:"alert alert-danger",children:l}),o&&n.jsx("div",{className:"alert alert-success",children:o}),n.jsx(nm,{onSubmit:Y,isLoading:r})]})})})}function hx({token:e,me:t}){var zn,oo;const[s,r]=m.useState([]),[a,l]=m.useState(null),[i,o]=m.useState([]),[c,d]=m.useState(""),[p,g]=m.useState({name:"",category:"",amount:"",date:""}),[u,x]=m.useState(""),[v,y]=m.useState(""),[b,h]=m.useState([]),[f,j]=m.useState({total:0,por_persona:0,balances:[]}),[w,N]=m.useState("trips"),[I,F]=m.useState(null),[_,V]=m.useState(""),[A,te]=m.useState(""),[Y,re]=m.useState(null),[le,G]=m.useState(""),U=(t==null?void 0:t.role)==="premium",[Q,L]=m.useState(!1),[D,B]=m.useState(null),[k,S]=m.useState(!1),[O,J]=m.useState(null),[ne,ue]=m.useState(""),[pe,ke]=m.useState(""),[he,Pe]=m.useState(""),[jt,ye]=m.useState("user"),[Me,rt]=m.useState([]),[yt,De]=m.useState(!1);async function Je(){try{const R=await Z("/api/trips/invitations",{token:e});rt(R)}catch(R){console.error("Error al cargar invitaciones:",R)}finally{De(!0)}}async function $(R,oe){try{await Z(`/api/trips/invitations/${R}/respond`,{method:"POST",token:e,body:{action:oe}}),Je(),X()}catch(Oe){alert(Oe.detail||"Error al responder invitacin")}}m.useEffect(()=>{X()},[]),m.useEffect(()=>{async function R(){try{const oe=await Z("/api/auth/me",{token:e});console.log(" Usuario cargado:",oe),ye(oe.role||"user")}catch(oe){console.error("Error al obtener usuario:",oe)}}R()},[e]),m.useEffect(()=>{ke("")},[a,w]);async function X(){const R=await Z("/api/trips",{token:e});r(R)}async function se(){if(!c.trim())return;const R=oe=>oe||null;await Z("/api/trips",{method:"POST",token:e,body:{name:c,start_date:R(u),end_date:R(v)}}),d(""),x(""),y(""),X()}async function ge(R){ke(""),h([]),j({total:0,por_persona:0,balances:[]});const oe=await Z(`/api/trips/${R}/expenses`,{token:e});l(R),o(oe),N("list")}async function Te(){const{name:R,category:oe,amount:Oe,date:It}=p;if(!(!R||!oe||!Oe||!It))try{await Z(`/api/trips/${a}/expenses`,{method:"POST",token:e,body:{name:R,category:oe,amount:parseFloat(Oe),date:It}}),g({name:"",category:"",amount:"",date:""}),V(""),ge(a)}catch(Xt){console.error("Error al agregar gasto:",Xt);const vs=Xt.message||Xt.detail||"Error al agregar. Verifique los datos ingresados.";V(vs)}}async function mt(R){B(R),L(!0)}async function E(){if(D)try{await Z(`/api/trips/${a}/expenses/${D}`,{method:"DELETE",token:e}),ge(a)}catch(R){console.error("Error al eliminar gasto:",R),alert("Error al eliminar. Es posible que no tengas permiso para borrar este gasto.")}finally{L(!1),B(null)}}async function q(){if(!I)return;const{id:R,name:oe,category:Oe,amount:It,date:Xt}=I;try{await Z(`/api/trips/${a}/expenses/${R}`,{method:"PUT",token:e,body:{name:oe,category:Oe,amount:parseFloat(It),date:Xt}}),F(null),te(""),ge(a)}catch(vs){console.error("Error al actualizar gasto:",vs);const lm=vs.message||vs.detail||"Error al actualizar. Verifique los datos ingresados.";te(lm)}}const H=R=>{const oe=R.date?new Date(R.date).toISOString().split("T")[0]:"";F({...R,date:oe}),te("")},C=()=>{F(null),te("")};async function T(){if(!a)return;const R=await fetch(`/api/trips/${a}/expenses/export`,{headers:{Authorization:`Bearer ${e}`}});if(!R.ok)return alert("Error al generar el PDF");const oe=await R.blob(),Oe=window.URL.createObjectURL(oe),It=document.createElement("a");It.href=Oe,It.download=`Gastos_Viaje_${a}.pdf`,It.click(),window.URL.revokeObjectURL(Oe)}async function P(){const R=await Z(`/api/trips/${a}/balances`,{token:e});j(R),h(R.balances||[])}async function z(R){J(R),S(!0)}async function K(){if(O)try{await Z(`/api/trips/${O}`,{method:"DELETE",token:e}),X(),a===O&&l(null)}catch(R){console.error("Error al eliminar viaje:",R),alert(R.detail||"Error al eliminar el viaje.")}finally{S(!1),J(null)}}const ae=R=>{const oe=Oe=>Oe?new Date(Oe).toISOString().split("T")[0]:"";re({...R,start_date:oe(R.start_date),end_date:oe(R.end_date)}),G("")},ee=()=>{re(null),G("")};async function fe(){if(!Y)return;const{id:R,name:oe,start_date:Oe,end_date:It}=Y;try{await Z(`/api/trips/${R}`,{method:"PUT",token:e,body:{name:oe,start_date:Oe,end_date:It}}),ee(),X()}catch(Xt){console.error("Error al actualizar el viaje:",Xt),G(Xt.detail||"Error al guardar los cambios.")}}async function be(){if(jt!=="premium"){Pe("Para invitar a otros usuarios, suscribite al plan Premium."),ke(""),setTimeout(()=>Pe(""),3e3);return}if(ne.trim())try{const R=await Z(`/api/trips/${a}/invite`,{method:"POST",token:e,body:{username:ne}});ke(R.message||`Invitacin enviada a ${ne}`),setTimeout(()=>ke(""),3e3),Pe(""),ue("")}catch(R){const oe=(R==null?void 0:R.detail)||(R==null?void 0:R.message)||"Error al enviar invitacin";Pe(oe),ke(""),setTimeout(()=>Pe(""),3e3)}}if(!a)return n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex mb-4 border-bottom",children:[n.jsx("button",{className:`btn pb-2 ${w==="trips"?"border-bottom border-3 border-primary fw-bold":"text-muted"}`,onClick:()=>{N("trips"),X()},children:" Mis viajes"}),U&&n.jsx("button",{className:`btn pb-2 ${w==="invitations"?"border-bottom border-3 border-primary fw-bold":"text-muted"}`,onClick:()=>{N("invitations"),Je()},children:" Mis invitaciones"})]}),w==="invitations"&&U&&n.jsx("div",{className:"card shadow-sm mb-4",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h5",{className:"fw-semibold mb-3",children:"Invitaciones recibidas"}),yt?Me.length===0?n.jsx("p",{className:"text-muted",children:"No tens invitaciones pendientes."}):n.jsxs("table",{className:"table align-middle text-center",children:[n.jsx("thead",{className:"table-light",children:n.jsxs("tr",{children:[n.jsx("th",{children:"Viaje"}),n.jsx("th",{children:"Invitado por"}),n.jsx("th",{children:"Fecha"}),n.jsx("th",{children:"Acciones"})]})}),n.jsx("tbody",{children:Me.map(R=>n.jsxs("tr",{children:[n.jsx("td",{className:"fw-semibold",children:R.trip_name}),n.jsx("td",{children:R.invited_by}),n.jsx("td",{children:new Date(R.created_at).toLocaleDateString()}),n.jsx("td",{children:n.jsxs("div",{className:"btn-group btn-group-sm",children:[n.jsx("button",{className:"btn btn-outline-success",onClick:()=>$(R.id,"accept"),children:" Aceptar"}),n.jsx("button",{className:"btn btn-outline-danger",onClick:()=>$(R.id,"reject"),children:" Rechazar"})]})})]},R.id))})]}):n.jsx("p",{className:"text-muted",children:"Cargando invitaciones..."})]})}),w==="trips"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"card shadow-sm mb-4",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h5",{className:"mb-3 fw-semibold",children:"Crear nuevo viaje"}),n.jsxs("div",{className:"row g-3",children:[n.jsx("div",{className:"col-md-4",children:n.jsx("input",{className:"form-control",placeholder:"Nombre del viaje",value:c,onChange:R=>d(R.target.value)})}),n.jsx("div",{className:"col-md-3",children:n.jsx("input",{type:"date",className:"form-control",value:u,onChange:R=>x(R.target.value)})}),n.jsx("div",{className:"col-md-3",children:n.jsx("input",{type:"date",className:"form-control",value:v,onChange:R=>y(R.target.value)})}),n.jsx("div",{className:"col-md-2 d-grid",children:n.jsx("button",{className:"btn btn-outline-custom fw-semibold",onClick:se,children:"Crear viaje"})})]})]})}),n.jsx("div",{className:"card shadow-sm",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h5",{className:"fw-semibold mb-3",children:"Viajes creados"}),n.jsxs("table",{className:"table table-hover align-middle text-center",children:[n.jsx("thead",{className:"table-light",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-center",children:"Viaje"}),n.jsx("th",{className:"text-center",children:"Inicio"}),n.jsx("th",{className:"text-center",children:"Fin"}),n.jsx("th",{className:"text-center",children:"Integrantes"}),n.jsx("th",{className:"text-center",children:"Accin"})]})}),n.jsxs("tbody",{children:[s.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"text-center text-muted py-4",children:"No tens viajes creados an."})}),s.map(R=>n.jsxs("tr",{children:[n.jsx("td",{className:"fw-semibold text-center",children:R.name}),n.jsx("td",{children:R.start_date?new Date(R.start_date).toLocaleDateString(void 0,{timeZone:"UTC"}):"-"}),n.jsx("td",{children:R.end_date?new Date(R.end_date).toLocaleDateString(void 0,{timeZone:"UTC"}):"-"}),n.jsx("td",{children:R.participants_count??1}),n.jsx("td",{className:"text-center",children:n.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[n.jsx("button",{className:"btn btn-outline-custom",onClick:()=>ge(R.id),children:"Abrir"}),n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>ae(R),title:"Editar Viaje",children:""}),n.jsx("button",{className:"btn btn-outline-danger",onClick:()=>z(R.id),title:"Eliminar Viaje",children:""})]})})]},R.id))]})]})]})}),Y&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"modal-backdrop fade show"}),n.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",children:n.jsx("div",{className:"modal-dialog modal-dialog-centered",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h5",{className:"modal-title",children:"Editar Viaje"}),n.jsx("button",{type:"button",className:"btn-close",onClick:ee})]}),n.jsxs("div",{className:"modal-body",children:[le&&n.jsx("div",{className:"alert alert-danger",role:"alert",children:le}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Nombre del Viaje"}),n.jsx("input",{type:"text",className:"form-control",value:Y.name,onChange:R=>re({...Y,name:R.target.value})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Fecha de Inicio"}),n.jsx("input",{type:"date",className:"form-control",value:Y.start_date,onChange:R=>re({...Y,start_date:R.target.value})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Fecha de Fin"}),n.jsx("input",{type:"date",className:"form-control",value:Y.end_date,onChange:R=>re({...Y,end_date:R.target.value})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ee,children:"Cancelar"}),n.jsx("button",{type:"button",className:"btn btn-outline-custom",onClick:fe,children:"Guardar Cambios"})]})]})})})]}),k&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Seguro que quers eliminar este viaje?"}),n.jsx("p",{className:"text-muted mb-3",children:"Se borrarn todos sus gastos."}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>S(!1),children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:K,children:"Eliminar"})]})]})})})]})]});const at=i.reduce((R,oe)=>{const Oe=oe.category||"Sin categora";return R[Oe]=(R[Oe]||0)+parseFloat(oe.amount||0),R},{});return n.jsxs("div",{className:"container mt-4",children:[n.jsx("button",{className:"btn btn-outline-secondary mb-3",onClick:()=>{l(null),N("trips"),ke(""),h([]),j({total:0,por_persona:0,balances:[]})},children:" Volver"}),n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("h3",{className:"mb-0",children:"Gastos del viaje"}),n.jsxs("div",{className:"d-flex gap-2",children:[U&&n.jsx("button",{className:"btn btn-outline-success",onClick:P,children:"Calcular saldos"}),n.jsx("button",{className:"btn btn-outline-custom",onClick:T,children:" Exportar PDF"}),n.jsx("button",{className:"btn btn-outline-danger",onClick:R=>{R.stopPropagation(),z(a)},title:"Eliminar Viaje",children:" Eliminar Viaje"})]})]}),U&&n.jsxs("div",{className:"card p-3 mb-4 shadow-sm",children:[n.jsx("h5",{className:"mb-3 fw-semibold",children:"Invitar usuario premium al viaje"}),n.jsxs("div",{className:"row g-2 align-items-center",children:[n.jsx("div",{className:"col-md-6",children:n.jsx("input",{type:"text",className:"form-control",placeholder:"Nombre de usuario",value:ne,onChange:R=>ue(R.target.value)})}),n.jsx("div",{className:"col-md-3 d-grid",children:n.jsx("button",{className:"btn btn-outline-custom",onClick:be,children:"Enviar invitacin"})})]}),pe&&n.jsxs("div",{className:"alert alert-success mt-3 mb-0 py-2",children:[" ",pe]}),he&&n.jsxs("div",{className:"alert alert-danger mt-3 mb-0 py-2",children:[" ",he]})]}),n.jsx("div",{className:"card p-3 mb-4 shadow-sm",children:n.jsxs("div",{className:"row g-2",children:[n.jsx("div",{className:"col-md-3",children:n.jsx("input",{className:"form-control",placeholder:"Nombre",value:p.name,onChange:R=>g({...p,name:R.target.value})})}),n.jsx("div",{className:"col-md-3",children:n.jsxs("select",{className:"form-select",value:p.category,onChange:R=>g({...p,category:R.target.value}),children:[n.jsx("option",{value:"",children:"Seleccionar categora"}),n.jsx("option",{value:"Comida",children:"Comida"}),n.jsx("option",{value:"Transporte",children:"Transporte"}),n.jsx("option",{value:"Alojamiento",children:"Alojamiento"}),n.jsx("option",{value:"Entradas",children:"Entradas"}),n.jsx("option",{value:"Compras",children:"Compras"}),n.jsx("option",{value:"Otros",children:"Otros"})]})}),n.jsx("div",{className:"col-md-2",children:n.jsx("input",{type:"number",className:"form-control",placeholder:"Monto",value:p.amount,onChange:R=>g({...p,amount:R.target.value})})}),n.jsx("div",{className:"col-md-3",children:n.jsx("input",{type:"date",className:"form-control",value:p.date,onChange:R=>g({...p,date:R.target.value})})}),n.jsx("div",{className:"col-md-1",children:n.jsx("button",{className:"btn btn-success w-100",onClick:Te,children:"+"})})]})}),_&&n.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[n.jsx("strong",{children:"Error:"})," ",_,n.jsx("button",{type:"button",className:"btn-close",onClick:()=>V("")})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("button",{className:`btn ${w==="list"?"btn-light":"btn-outline-secondary"} me-2`,onClick:()=>{N("list"),ke(""),h([]),j({total:0,por_persona:0,balances:[]})},children:" Lista de Gastos"}),n.jsx("button",{className:`btn ${w==="report"?"btn-light":"btn-outline-secondary"}`,onClick:()=>N("report"),children:" Reporte por Categora"})]}),w==="list"&&n.jsx("div",{className:"card shadow-sm",children:n.jsx("div",{className:"card-body",children:i.length===0?n.jsx("div",{className:"alert alert-secondary m-0",children:"Sin gastos registrados."}):n.jsxs("table",{className:"table table-hover align-middle mb-0",children:[n.jsx("thead",{className:"table-light",children:n.jsxs("tr",{children:[n.jsx("th",{children:"Fecha"}),n.jsx("th",{children:"Concepto"}),n.jsx("th",{children:"Categora"}),n.jsx("th",{className:"text-end",children:"Monto"}),n.jsx("th",{className:"text-center",children:"Acciones"})]})}),n.jsx("tbody",{children:i.map(R=>n.jsxs("tr",{children:[n.jsx("td",{children:R.date?new Date(R.date).toLocaleDateString(void 0,{timeZone:"UTC"}):"-"}),n.jsx("td",{className:"fw-semibold",children:R.name}),n.jsx("td",{children:n.jsx("span",{className:"badge bg-secondary bg-opacity-25 text-dark-emphasis",children:R.category||"Sin categora"})}),n.jsxs("td",{className:"text-end fw-bold",children:["$",parseFloat(R.amount).toFixed(2)]}),n.jsxs("td",{className:"text-center",children:[n.jsx("button",{className:"btn btn-sm text-secondary py-0 px-1 me-1 border-0",onClick:()=>H(R),title:"Editar",children:""}),n.jsx("button",{className:"btn btn-sm text-danger py-0 px-1 border-0",onClick:()=>mt(R.id),title:"Eliminar",children:""})]})]},R.id))})]})})}),w==="report"&&n.jsx("div",{className:"card shadow-sm",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h5",{className:"fw-bold mb-3",children:"Totales por categora"}),i.length>0?n.jsx("ul",{className:"list-group",children:Object.entries(at).map(([R,oe])=>n.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n.jsx("span",{children:R}),n.jsxs("span",{className:"fw-bold fs-5",children:["$",oe.toFixed(2)]})]},R))}):n.jsx("div",{className:"alert alert-secondary m-0",children:"No hay gastos para reportar."})]})}),b.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h5",{children:" Saldos del viaje"}),n.jsxs("div",{className:"alert alert-info",children:["Total del viaje:"," ",n.jsx("strong",{children:((zn=f==null?void 0:f.total)==null?void 0:zn.toFixed(2))??0}),"  Por persona:"," ",n.jsx("strong",{children:((oo=f==null?void 0:f.por_persona)==null?void 0:oo.toFixed(2))??0})]}),n.jsx("ul",{className:"list-group",children:b.map((R,oe)=>n.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n.jsxs("span",{children:[" ",R.username]}),R.debe_o_recibe>0?n.jsxs("span",{className:"text-success fw-bold",children:["Recibe $",R.debe_o_recibe]}):R.debe_o_recibe<0?n.jsxs("span",{className:"text-danger fw-bold",children:["Debe $",Math.abs(R.debe_o_recibe)]}):n.jsx("span",{className:"text-muted",children:"Est equilibrado"})]},oe))})]}),I&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"modal-backdrop fade show"}),n.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",children:n.jsx("div",{className:"modal-dialog modal-dialog-centered",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h5",{className:"modal-title",children:"Editar Gasto"}),n.jsx("button",{type:"button",className:"btn-close",onClick:C})]}),n.jsxs("div",{className:"modal-body",children:[A&&n.jsx("div",{className:"alert alert-danger",role:"alert",children:A}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Nombre"}),n.jsx("input",{type:"text",className:"form-control",value:I.name,onChange:R=>F({...I,name:R.target.value})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Categora"}),n.jsxs("select",{className:"form-select",value:I.category,onChange:R=>F({...I,category:R.target.value}),children:[n.jsx("option",{value:"",children:"Seleccionar categora"}),n.jsx("option",{value:"Comida",children:"Comida"}),n.jsx("option",{value:"Transporte",children:"Transporte"}),n.jsx("option",{value:"Alojamiento",children:"Alojamiento"}),n.jsx("option",{value:"Entradas",children:"Entradas"}),n.jsx("option",{value:"Compras",children:"Compras"}),n.jsx("option",{value:"Otros",children:"Otros"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Monto"}),n.jsx("input",{type:"number",className:"form-control",value:I.amount,onChange:R=>F({...I,amount:R.target.value})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Fecha"}),n.jsx("input",{type:"date",className:"form-control",value:I.date,onChange:R=>F({...I,date:R.target.value})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:C,children:"Cancelar"}),n.jsx("button",{type:"button",className:"btn btn-outline-custom",onClick:q,children:"Guardar Cambios"})]})]})})})]}),Q&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Ests seguro de que quers eliminar este gasto?"}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>L(!1),children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:E,children:"Eliminar"})]})]})})}),k&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Seguro que quers eliminar este viaje?"}),n.jsx("p",{className:"text-muted mb-3",children:"Se borrarn todos sus gastos."}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>S(!1),children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:K,children:"Eliminar"})]})]})})})]})}function fx(e,t){m.useEffect(()=>{function s(r){!e.current||e.current.contains(r.target)||t(r)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[e,t])}function px({allCats:e=[],selected:t=[],onApply:s,onReload:r}){const[a,l]=m.useState(!1),[i,o]=m.useState(t),c=m.useRef(null);m.useEffect(()=>{a&&o(t)},[a,t]),fx(c,()=>l(!1));function d(u){o(x=>x.includes(u)?x.filter(v=>v!==u):[...x,u])}function p(){o([])}function g(){s(i),l(!1)}return n.jsxs("div",{className:"position-relative",children:[n.jsx("button",{type:"button",style:{borderColor:"#3A92B5",color:"#3A92B5"},className:"btn btn-celeste dropdown-toggle",onClick:()=>{l(u=>!u),!a&&r&&r()},children:"Categoras"}),a&&n.jsxs("div",{ref:c,className:"position-absolute end-0 mt-2 p-3 bg-white border rounded-3 shadow",style:{minWidth:280,zIndex:1e3,maxHeight:360,overflow:"auto"},children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[n.jsx("div",{className:"fw-semibold text-muted small",children:"Tipo de categora"}),n.jsx("button",{className:"btn btn-sm btn-link",type:"button",onClick:r,title:"Actualizar lista",children:""})]}),n.jsxs("ul",{className:"list-unstyled mb-3",style:{columnGap:24},children:[e.length===0&&n.jsx("li",{className:"text-muted small",children:"Sin categoras an."}),e.map(u=>n.jsxs("li",{className:"form-check mb-2",children:[n.jsx("input",{id:`cat-${u}`,type:"checkbox",className:"form-check-input",checked:i.includes(u),onChange:()=>d(u)}),n.jsx("label",{className:"form-check-label ms-1 text-capitalize",htmlFor:`cat-${u}`,children:u})]},u))]}),n.jsxs("div",{className:"d-flex justify-content-between gap-2",children:[n.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:p,children:"Limpiar"}),n.jsx("button",{className:"btn btn-outline-custom",style:{borderColor:"#3A92B5",color:"#3A92B5"},type:"button",onClick:g,children:"Ver resultados"})]})]})]})}function xx({token:e}){const[t,s]=m.useState({}),[r,a]=m.useState(!0),[l,i]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const d=await Z("/api/preferences",{token:e});s(d)}catch{s({})}finally{a(!1)}})()},[e]);async function o(){i(!0);try{await Z("/api/preferences",{method:"PUT",token:e,body:t}),alert("Preferencias guardadas correctamente")}catch(d){alert("Error guardando preferencias: "+d.message)}finally{i(!1)}}function c(d,p){const g=t[d]||[],u=g.includes(p)?g.filter(x=>x!==p):[...g,p];s({...t,[d]:u})}return r?n.jsx("div",{className:"text-muted",children:"Cargando preferencias"}):n.jsxs("div",{className:"border rounded-3 p-3 bg-white shadow-sm mb-4",children:[n.jsx("h5",{className:"mb-3",children:"Configurar preferencias"}),n.jsxs("div",{className:"row g-2 mb-3",children:[n.jsxs("div",{className:"col-md-3",children:[n.jsx("label",{className:"form-label",children:"Presupuesto mn. (USD)"}),n.jsx("input",{type:"number",className:"form-control",value:t.budget_min||"",onChange:d=>s({...t,budget_min:Number(d.target.value)||null})})]}),n.jsxs("div",{className:"col-md-3",children:[n.jsx("label",{className:"form-label",children:"Presupuesto mx. (USD)"}),n.jsx("input",{type:"number",className:"form-control",value:t.budget_max||"",onChange:d=>s({...t,budget_max:Number(d.target.value)||null})})]}),n.jsxs("div",{className:"col-md-3",children:[n.jsx("label",{className:"form-label",children:"Duracin mn. (das)"}),n.jsx("input",{type:"number",className:"form-control",value:t.duration_min_days||"",onChange:d=>s({...t,duration_min_days:Number(d.target.value)||null})})]}),n.jsxs("div",{className:"col-md-3",children:[n.jsx("label",{className:"form-label",children:"Duracin mx. (das)"}),n.jsx("input",{type:"number",className:"form-control",value:t.duration_max_days||"",onChange:d=>s({...t,duration_max_days:Number(d.target.value)||null})})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("strong",{children:"Climas:"})," ",["templado","frio","tropical","seco"].map(d=>{var p;return n.jsx("button",{className:`btn btn-sm me-2 mb-2 ${(p=t.climates)!=null&&p.includes(d)?"btn-outline-custom":"btn-outline-secondary"}`,onClick:()=>c("climates",d),children:d},d)})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("strong",{children:"Actividades:"})," ",["playa","montaa","ciudad","gastronoma","historia","noche"].map(d=>{var p;return n.jsx("button",{className:`btn btn-sm me-2 mb-2 ${(p=t.activities)!=null&&p.includes(d)?"btn-success":"btn-outline-success"}`,onClick:()=>c("activities",d),children:d},d)})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("strong",{children:"Continentes:"})," ",["amrica","europa","asia","frica","oceana"].map(d=>{var p;return n.jsx("button",{className:`btn btn-sm me-2 mb-2 ${(p=t.continents)!=null&&p.includes(d)?"btn-secondary":"btn-outline-secondary"}`,onClick:()=>c("continents",d),children:d},d)})]}),n.jsx("button",{className:"btn btn-dark",disabled:l,onClick:o,children:l?"Guardando...":"Guardar preferencias"})]})}function Mn({me:e,view:t="publications",onOpenShareItinerary:s}){const r=(e==null?void 0:e.role)==="premium",[a,l]=m.useState([]),[i,o]=m.useState([]),[c,d]=m.useState([]),[p,g]=m.useState(!1),[u,x]=m.useState(""),[v,y]=m.useState(null),[b,h]=m.useState(null),[f,j]=m.useState([]),[w,N]=m.useState(""),[I,F]=m.useState(""),[_,V]=m.useState(!1),[A,te]=m.useState(null),Y=m.useMemo(()=>localStorage.getItem("token")||"",[]),[re]=m.useState(()=>{try{const C=new URL(window.location.href).searchParams.get("pub");return C?Number(C):null}catch{return null}}),[le,G]=m.useState([]),[U,Q]=m.useState([]),[L,D]=m.useState(!1),[B,k]=m.useState(null),[S,O]=m.useState(null);function J(C){k(C),D(!0)}async function ne(){try{const C=await Z("/api/categories");Q(C)}catch{Q([])}}m.useEffect(()=>{ne()},[]);function ue(C,T){return C&&C.trim().length>=2?`/api/publications/search?q=${encodeURIComponent(C.trim())}`:`/api/publications/public${T!=null&&T.length?`?category=${encodeURIComponent(T.join(","))}`:""}`}async function pe(C="",T=le){g(!0),x("");try{const P=ue(C,T),z=await Z(P,{token:Y});l(z)}catch(P){x(P.message)}finally{g(!1)}}m.useEffect(()=>{t==="publications"&&!v?pe(I,le):t==="my-publications"&&!v?ke():t==="favorites"&&!v?he():t==="my-itineraries"&&!v&&se()},[Y,t,JSON.stringify(le)]),m.useEffect(()=>{localStorage.getItem("showItineraryId")&&t!=="my-itineraries"&&(console.log(" [DEBUG] Cambiando a vista my-itineraries para mostrar itinerario recin creado"),setView("my-itineraries"),y(null))},[t]),m.useEffect(()=>{if(!re||!Array.isArray(a)||a.length===0)return;const C=a.find(T=>T.id===re);if(C){k(C),D(!0);try{const T=new URL(window.location.href);T.searchParams.delete("pub"),window.history.replaceState({},"",T.pathname)}catch{}}},[re,a]);async function ke(){console.log(" [URGENT] fetchMySubmissions INICIADA "),console.log(" [DEBUG] Iniciando fetchMySubmissions..."),console.log(" [DEBUG] Token:",Y?"Presente":"Ausente"),console.log(" [DEBUG] Token valor:",Y),g(!0),x("");try{console.log(" [DEBUG] Haciendo request a /api/publications/my-submissions");const C=await Z("/api/publications/my-submissions",{token:Y});console.log(" [DEBUG] Respuesta recibida:",C),console.log(" [DEBUG] Tipo de respuesta:",typeof C,"Es array:",Array.isArray(C)),console.log(" [DEBUG] Cantidad de publicaciones:",C?C.length:"No es array"),o(C),console.log(" [DEBUG] Estado myPubs actualizado")}catch(C){console.error(" [DEBUG] Error en fetchMySubmissions:",C),x(C.message)}finally{g(!1),console.log(" [DEBUG] fetchMySubmissions completado")}}async function he(){g(!0),x("");try{const C=await Z("/api/publications/favorites",{token:Y});d(C)}catch(C){x(C.message)}finally{g(!1)}}async function Pe(C){try{const T=await Z(`/api/publications/${C}/favorite`,{method:"POST",token:Y});l(P=>P.map(z=>z.id===C?{...z,is_favorite:T.is_favorite}:z))}catch(T){x(T.message)}}async function jt(C,T){try{await Z(`/api/publications/favorites/${C}/status`,{method:"PUT",token:Y,body:{status:T}}),d(P=>P.map(z=>z.id===C?{...z,favorite_status:T}:z))}catch(P){x(P.message||"Error al actualizar el estado del favorito")}}const[ye,Me]=m.useState(!1),[rt,yt]=m.useState(null),[De,Je]=m.useState("");async function $(C){yt(C),Je(""),Me(!0)}async function X(){if(rt){if(!De.trim()){x("Por favor, escribe un motivo para solicitar la eliminacin.");return}try{await Z(`/api/publications/${rt}/request-deletion`,{method:"POST",token:Y,body:{reason:De}}),N("Solicitud de eliminacin enviada. Ser revisada por un administrador."),o(C=>C.map(T=>T.id===rt?{...T,has_pending_deletion:!0}:T)),Me(!1),yt(null),Je(""),setTimeout(()=>N(""),3e3)}catch(C){x(C.message)}}}async function se(){g(!0),x("");try{const C=await Z("/api/itineraries/my-itineraries",{token:Y});j(C);const T=localStorage.getItem("showItineraryId");if(T&&C.length>0){console.log(" [DEBUG] Buscando itinerario recin creado ID:",T);const P=C.find(z=>z.id.toString()===T);P?(console.log(" [DEBUG] Itinerario encontrado, mostrando automticamente:",P.destination),h(P),localStorage.removeItem("showItineraryId")):console.log(" [DEBUG] Itinerario no encontrado en la lista")}}catch(C){x(C.message)}finally{g(!1)}}async function ge(C){g(!0),x(""),N("");try{const T=await Z("/api/itineraries/request",{method:"POST",token:Y,body:C});N("Itinerario generado exitosamente!"),h(T),setTimeout(()=>N(""),3e3)}catch(T){x(T.message||"Error al solicitar el itinerario")}finally{g(!1)}}async function Te(C){te(C),V(!0)}async function mt(){if(A){g(!0),x(""),N("");try{await Z(`/api/itineraries/${A}`,{method:"DELETE",token:Y}),N("Itinerario eliminado exitosamente"),b&&b.id===A&&h(null),await se(),setTimeout(()=>N(""),3e3)}catch(C){x(C.message||"Error al eliminar el itinerario")}finally{g(!1),V(!1),te(null)}}}function E(C){F(C),pe(C,le)}async function q(C){C.preventDefault(),x(""),N("");const T=C.currentTarget,P=new FormData(T),z=P.get("cost_per_day"),K=P.get("duration_min");z&&z.trim()!==""?P.set("cost_per_day",parseFloat(z)):P.delete("cost_per_day"),K&&K.trim()!==""?P.set("duration_min",parseInt(K,10)):P.delete("duration_min"),console.log("Datos del formulario:");for(let ee of P.entries())console.log(ee[0]+": "+ee[1]);if((T.photos.files||[]).length>4){x("Mximo 4 fotos por publicacin.");return}g(!0);try{const ee=await Z("/api/publications/submit",{method:"POST",token:Y,body:P,isForm:!0});console.log("Respuesta del servidor:",ee),N("Publicacin enviada! Ser revisada por un administrador."),T.reset(),setTimeout(()=>{y(null),N("")},2e3)}catch(ee){console.error("Error completo:",ee),x(ee.message||"Error al enviar la publicacin")}finally{g(!1)}}if(v==="create-publication")return n.jsx(ux,{onSubmit:q,onCancel:()=>{y(null),x(""),N("")},loading:p,error:u,successMsg:w});if(t==="my-publications"&&!v)return n.jsxs(n.Fragment,{children:[n.jsx(gx,{pubs:i,loading:p,error:u,successMsg:w,onLoad:ke,onRequestDeletion:$,setSubView:y}),ye&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsxs("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:500,width:"90%"},children:[n.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:"Solicitar Eliminacin de Publicacin"}),n.jsx("button",{className:"btn-close",onClick:()=>Me(!1)})]}),n.jsxs("div",{className:"p-3",children:[n.jsx("p",{className:"text-muted mb-3",children:"Un administrador revisar tu solicitud. Por favor, cuntale por qu deseas eliminar esta publicacin."}),n.jsxs("form",{onSubmit:C=>{C.preventDefault(),X()},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Motivo de la eliminacin"}),n.jsx("textarea",{className:"form-control",rows:"4",placeholder:"Escribe el motivo...",value:De,onChange:C=>Je(C.target.value),maxLength:"500"}),n.jsxs("small",{className:"text-muted d-block mt-1",children:[De.length,"/500 caracteres"]})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{type:"button",className:"btn btn-outline-secondary flex-grow-1",onClick:()=>Me(!1),children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn btn-danger flex-grow-1",disabled:!De.trim(),children:"Solicitar Eliminacin"})]})]})]})]})})]});if(t==="favorites"&&!v)return n.jsx(vx,{pubs:c,loading:p,error:u,onLoad:he,onToggleFavorite:async C=>{await Pe(C),he()},onUpdateStatus:jt});if(t==="preferences")return n.jsx(xx,{token:Y});if(t==="expenses")return n.jsx(hx,{me:e,token:Y});if(t==="itinerary"||b){const C=T=>new Date(T).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return b?n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[n.jsxs("h3",{className:"mb-0",children:["Itinerario: ",b.destination]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{h(null),x(""),N("")},children:"Volver"}),n.jsx("button",{className:"btn btn-outline-danger",onClick:()=>Te(b.id),disabled:p,children:" Eliminar"})]})]}),u&&n.jsx("div",{className:"alert alert-danger",role:"alert",children:u}),w&&n.jsx("div",{className:"alert alert-success",role:"alert",children:w}),n.jsx("div",{className:"card shadow-sm mb-4",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"row mb-3",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsxs("p",{children:[n.jsx("strong",{children:" Fechas:"})," ",C(b.start_date)," - ",C(b.end_date)]}),n.jsxs("p",{children:[n.jsx("strong",{children:" Tipo de viaje:"})," ",b.trip_type]}),n.jsxs("p",{children:[n.jsx("strong",{children:" Presupuesto:"})," US$",b.budget]}),n.jsxs("p",{children:[n.jsx("strong",{children:" Personas:"})," ",b.cant_persons]})]}),n.jsxs("div",{className:"col-md-6",children:[b.arrival_time&&n.jsxs("p",{children:[n.jsx("strong",{children:" Hora de llegada:"})," ",b.arrival_time]}),b.departure_time&&n.jsxs("p",{children:[n.jsx("strong",{children:" Hora de salida:"})," ",b.departure_time]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Estado:"})," ",b.status==="completed"&&n.jsx("span",{className:"badge bg-success",children:"Completado"}),b.status==="pending"&&n.jsx("span",{className:"badge bg-warning text-dark",children:"Pendiente"}),b.status==="failed"&&n.jsx("span",{className:"badge bg-danger",children:"Error"})]})]})]})})}),n.jsxs("div",{className:"card shadow-sm",children:[n.jsxs("div",{className:"card-header bg-info text-white d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:"Itinerario Generado por IA"}),n.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>{navigator.clipboard.writeText(b.generated_itinerary||""),alert("Itinerario copiado al portapapeles")},children:" Copiar"})]}),n.jsx("div",{className:"card-body",children:b.status==="completed"?n.jsx("div",{style:{whiteSpace:"pre-wrap",fontFamily:'system-ui, -apple-system, "Segoe UI", Roboto, sans-serif',lineHeight:"1.8",fontSize:"0.95rem",color:"#333"},children:b.generated_itinerary}):n.jsx("div",{className:"alert alert-warning",children:b.generated_itinerary||"No se pudo generar el itinerario"})})]}),b.publications&&b.publications.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"mb-3",children:" Lugares incluidos en este itinerario"}),n.jsx("p",{className:"text-muted mb-3",children:"Estos son los lugares de nuestra plataforma que la IA utiliz para crear tu itinerario:"}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4",children:b.publications.map(T=>{var P;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100 border-success",children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:T.place_name}),n.jsxs("small",{className:"text-muted",children:[T.address,", ",T.city,", ",T.province,", ",T.country]}),n.jsxs("div",{className:"mt-2 d-flex flex-wrap gap-2",children:[n.jsx(At,{avg:T.rating_avg,count:T.rating_count}),(T.categories||[]).map(z=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:z},z))]})]}),n.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:z=>{z.stopPropagation(),Pe(T.id)},style:{fontSize:"1.5rem",textDecoration:"none"},title:T.is_favorite?"Quitar de favoritos":"Agregar a favoritos",children:T.is_favorite?"":""})]})}),(P=T.photos)!=null&&P.length?n.jsxs("div",{id:`itin-carousel-${T.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:T.photos.map((z,K)=>n.jsx("div",{className:`carousel-item ${K===0?"active":""}`,children:n.jsx("img",{src:z,className:"d-block w-100",alt:`Foto ${K+1}`,style:{height:260,objectFit:"cover"}})},z))}),T.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#itin-carousel-${T.id}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Anterior",title:"Anterior",children:[n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),n.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":`#itin-carousel-${T.id}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Siguiente",title:"Siguiente",children:[n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white d-flex justify-content-between align-items-center",children:[n.jsxs("small",{className:"text-muted",children:["Creado: ",new Date(T.created_at).toLocaleString()]}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:z=>{z.stopPropagation(),J(T)},children:"Ver Detalles"})]})]})},T.id)})})]}),n.jsxs("div",{className:"alert alert-info mt-4",children:[n.jsx("strong",{children:" Tip:"}),' Usa el botn " Copiar" para copiar todo el itinerario y pegarlo donde necesites.']}),_&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Ests seguro de eliminar este itinerario?"}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>V(!1),children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:mt,children:"Aceptar"})]})]})})})]}):n.jsxs("div",{className:"container mt-4",children:[n.jsx("div",{className:"d-flex align-items-center justify-content-between mb-4",children:n.jsx("h3",{className:"mb-0",children:"Solicitar Itinerario con IA"})}),u&&n.jsx("div",{className:"alert alert-danger",role:"alert",children:u}),w&&n.jsx("div",{className:"alert alert-success",role:"alert",children:w}),n.jsx("div",{className:"row justify-content-center",children:n.jsx("div",{className:"col-lg-10",children:n.jsx(nm,{onSubmit:ge,isLoading:p})})})]})}if(t==="my-itineraries"){const C=T=>new Date(T).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return n.jsxs("div",{className:"container mt-4",children:[n.jsx("div",{className:"d-flex align-items-center justify-content-between mb-4",children:n.jsx("h3",{className:"mb-0",children:" Mis Itinerarios"})}),p&&n.jsx("div",{className:"alert alert-info",children:"Cargando..."}),u&&n.jsx("div",{className:"alert alert-danger",children:u}),w&&n.jsx("div",{className:"alert alert-success",children:w}),n.jsx("div",{className:"row g-4",children:f.map(T=>n.jsx("div",{className:"col-md-6 col-lg-4",children:n.jsxs("div",{className:"card shadow-sm h-100",children:[n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[n.jsx("h5",{className:"card-title mb-0",children:T.destination}),T.status==="completed"&&n.jsx("span",{className:"badge bg-success",children:"Completado"}),T.status==="pending"&&n.jsx("span",{className:"badge bg-warning text-dark",children:"Pendiente"}),T.status==="failed"&&n.jsx("span",{className:"badge bg-danger",children:"Error"})]}),n.jsxs("p",{className:"text-muted small mb-2",children:[C(T.start_date)," - ",C(T.end_date)]}),n.jsxs("p",{className:"mb-2",children:[n.jsx("strong",{children:"Tipo:"})," ",T.trip_type]}),n.jsxs("p",{className:"mb-2",children:[n.jsx("strong",{children:"Presupuesto:"})," US$",T.budget]}),n.jsxs("p",{className:"mb-3",children:[n.jsx("strong",{children:"Personas:"})," ",T.cant_persons]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-sm btn-outline-custom flex-grow-1",onClick:()=>{h(T)},title:"Ver detalle del itinerario",children:"Ver Itinerario"}),r&&n.jsx("button",{className:"btn btn-sm btn-outline-custom",onClick:P=>{P.stopPropagation(),s==null||s(T.id)},title:"Compartir por mail","aria-label":"Compartir itinerario por mail",children:" Compartir por mail"}),n.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:P=>{P.stopPropagation(),Te(T.id)},title:"Eliminar itinerario",disabled:p,children:""})]})]}),n.jsxs("div",{className:"card-footer text-muted small",children:["Creado: ",new Date(T.created_at).toLocaleString("es-ES")]})]})},T.id))}),!p&&f.length===0&&n.jsx("div",{className:"alert alert-secondary",children:"No tienes itinerarios generados an. Crea tu primer itinerario con IA!"}),_&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Ests seguro de eliminar este itinerario?"}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>V(!1),children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:mt,children:"Aceptar"})]})]})})})]})}function H(C){C.preventDefault();const T=C.target.search.value.trim();E(T)}return n.jsxs("div",{className:"container mt-4",children:[n.jsx("div",{className:"p-3 mb-3 bg-light rounded-3",children:n.jsxs("div",{className:"container-fluid py-2",children:[n.jsxs("h4",{className:"fw-bold mb-1",children:["Bienvenido a Plan&Go, ",e.first_name||e.username,"!"]}),n.jsx("p",{className:"small mb-0 text-muted",children:"Us los filtros para encontrar actividades/lugares y mir las reseas antes de decidir."})]})}),n.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3",children:[n.jsx("h3",{className:"mb-0",children:"Publicaciones"}),n.jsx("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:n.jsx(px,{allCats:U,selected:le,onApply:C=>{G(C)},onReload:ne})})]}),n.jsx("form",{className:"d-flex mt-3",onSubmit:H,children:n.jsx("input",{className:"form-control",type:"search",name:"search",defaultValue:I,placeholder:"Buscar por lugar, pas, ciudad, clima, actividades, descripcin...","aria-label":"Buscar"})}),I&&n.jsxs("div",{className:"alert alert-info d-flex justify-content-between align-items-center mt-3",role:"alert",children:[n.jsxs("span",{children:[n.jsx("strong",{children:"Bsqueda:"}),' "',I,'" - ',a.length," resultado",a.length!==1?"s":""," encontrado",a.length!==1?"s":""]}),n.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>E(""),children:"Limpiar"})]}),p&&n.jsx("div",{className:"alert alert-info mt-3 mb-0",children:"Cargando..."}),u&&n.jsx("div",{className:"alert alert-danger mt-3 mb-0",children:u}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mt-2",children:a.map(C=>{var T;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>J(C),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:C.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",C.address?`${C.address}, `:"",C.city,", ",C.province,C.country?`, ${C.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsx(At,{avg:C.rating_avg,count:C.rating_count})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(C.categories||[]).map(P=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:P},P))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:C.cost_per_day?n.jsxs("span",{className:"text-success fw-bold",children:["$",C.cost_per_day]}):n.jsx("span",{className:"text-info fw-bold",children:"El precio sujeto al consumo en el lugar"})})]}),n.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:P=>{P.stopPropagation(),Pe(C.id)},style:{fontSize:"1.5rem",textDecoration:"none"},title:C.is_favorite?"Quitar de favoritos":"Agregar a favoritos",children:C.is_favorite?"":""})]})}),(T=C.photos)!=null&&T.length?n.jsxs("div",{id:`home-carousel-${C.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:C.photos.map((P,z)=>n.jsx("div",{className:`carousel-item ${z===0?"active":""}`,children:n.jsx("img",{src:P,className:"d-block w-100",alt:`Foto ${z+1}`,style:{height:260,objectFit:"cover"}})},P))}),C.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#home-carousel-${C.id}`,"data-bs-slide":"prev",children:n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#home-carousel-${C.id}`,"data-bs-slide":"next",children:n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"})})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white d-flex justify-content-between align-items-center",children:[n.jsxs("small",{className:"text-muted",children:["Creado: ",new Date(C.created_at).toLocaleString()]}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:P=>{P.stopPropagation(),J(C)},children:"Ver Detalles"})]})]})},C.id)})}),n.jsx(Fn,{open:L,pub:B,token:Y,me:e,onClose:()=>D(!1),onToggleFavorite:Pe}),ye&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsxs("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:500,width:"90%"},children:[n.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:"Solicitar Eliminacin de Publicacin"}),n.jsx("button",{className:"btn-close",onClick:()=>Me(!1)})]}),n.jsxs("div",{className:"p-3",children:[n.jsx("p",{className:"text-muted mb-3",children:"Un administrador revisar tu solicitud. Por favor, cuntale por qu deseas eliminar esta publicacin."}),n.jsxs("form",{onSubmit:C=>{C.preventDefault(),X()},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Motivo de la eliminacin"}),n.jsx("textarea",{className:"form-control",rows:"4",placeholder:"Escribe el motivo...",value:De,onChange:C=>Je(C.target.value),maxLength:"500"}),n.jsxs("small",{className:"text-muted d-block mt-1",children:[De.length,"/500 caracteres"]})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{type:"button",className:"btn btn-outline-secondary flex-grow-1",onClick:()=>Me(!1),children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn btn-danger flex-grow-1",disabled:!De.trim(),children:"Solicitar Eliminacin"})]})]})]})]})}),console.log(" EVALUATING MODAL CONDITION:",_,typeof _),_?n.jsxs("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:[console.log(" MODAL IS RENDERING!"),n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Ests seguro de eliminar este itinerario?"}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{console.log(" CANCEL CLICKED"),V(!1)},children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:()=>{console.log(" CONFIRM CLICKED"),mt()},children:"Aceptar"})]})]})})]}):n.jsx(n.Fragment,{children:console.log(" MODAL NOT RENDERING - value is:",_)})]})}function gx({pubs:e,loading:t,error:s,successMsg:r,onLoad:a,onRequestDeletion:l,setSubView:i}){console.log(" [URGENT DEBUG] MySubmissionsView montado - START"),de.useEffect(()=>{console.log(" [URGENT DEBUG] useEffect ejecutndose - llamando onLoad"),a()},[]),console.log(" [DEBUG] MySubmissionsView renderizando..."),console.log(" [DEBUG] Props recibidas:"),console.log("  - pubs:",e),console.log("  - loading:",t),console.log("  - error:",s),console.log("  - pubs tipo:",typeof e),console.log("  - pubs es array:",Array.isArray(e)),console.log("  - pubs length:",e?e.length:"No tiene length");const[o,c]=de.useState(!1),[d,p]=de.useState(null),g=de.useMemo(()=>localStorage.getItem("token")||"",[]);function u(v){p(v),c(!0)}const x=v=>v==="approved"?n.jsx("span",{className:"badge bg-success",children:"Aprobada"}):v==="pending"?n.jsx("span",{className:"badge bg-warning text-dark",children:"Pendiente"}):v==="rejected"?n.jsx("span",{className:"badge bg-danger",children:"Rechazada"}):v==="deleted"?n.jsx("span",{className:"badge bg-dark",children:"Eliminada"}):n.jsx("span",{className:"badge bg-secondary",children:v});return n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2 mb-4",children:[n.jsx("h3",{className:"mb-0",children:"Mis publicaciones"}),n.jsx("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:n.jsx("button",{className:"btn btn-celeste",style:{borderColor:"#3A92B5",color:"#3A92B5"},onClick:()=>i("create-publication"),children:"+ Agregar Publicacin"})})]}),t&&n.jsx("div",{className:"alert alert-info",children:"Cargando..."}),s&&n.jsx("div",{className:"alert alert-danger",children:s}),r&&n.jsx("div",{className:"alert alert-success",children:r}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4",children:e.map(v=>{var y;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>u(v),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:v.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",v.address?`${v.address}, `:"",v.city,", ",v.province,v.country?`, ${v.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsx(At,{avg:v.rating_avg,count:v.rating_count})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(v.categories||[]).map(b=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:b},b))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:v.cost_per_day?n.jsxs("span",{className:"text-success fw-bold",children:["$",v.cost_per_day]}):n.jsx("span",{className:"text-info fw-bold",children:"El precio sujeto al consumo en el lugar"})})]}),n.jsxs("div",{className:"d-flex flex-column align-items-end gap-2 ms-2",children:[x(v.status),v.status==="approved"&&!v.has_pending_deletion&&n.jsxs("div",{className:"dropdown",children:[n.jsx("button",{className:"btn btn-sm btn-link text-muted p-0","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Ms acciones",onClick:b=>b.stopPropagation(),children:""}),n.jsx("ul",{className:"dropdown-menu dropdown-menu-end",children:n.jsx("li",{children:n.jsx("button",{className:"dropdown-item text-danger",onClick:b=>{b.stopPropagation(),l(v.id)},children:"Solicitar eliminacin"})})})]})]})]})}),(y=v.photos)!=null&&y.length?n.jsxs("div",{id:`my-carousel-${v.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:v.photos.map((b,h)=>n.jsx("div",{className:`carousel-item ${h===0?"active":""}`,children:n.jsx("img",{src:b,className:"d-block w-100",alt:`Foto ${h+1}`,style:{height:260,objectFit:"cover"}})},b))}),v.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#my-carousel-${v.id}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},children:n.jsx("span",{className:"carousel-control-prev-icon"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#my-carousel-${v.id}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},children:n.jsx("span",{className:"carousel-control-next-icon"})})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[n.jsxs("small",{className:"text-muted",children:["Enviado: ",new Date(v.created_at).toLocaleString()]}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:b=>{b.stopPropagation(),u(v)},children:"Ver Detalles"})]}),v.status==="rejected"&&n.jsxs("small",{className:"text-danger d-block mt-1",children:[" Esta publicacin fue rechazada por un administrador.",v.rejection_reason&&n.jsxs("div",{className:"mt-1 fst-italic",children:[n.jsx("strong",{children:"Motivo:"})," ",v.rejection_reason]})]}),v.status==="deleted"&&n.jsxs("small",{className:"text-dark d-block mt-1",children:[" Esta publicacin fue eliminada por un administrador.",v.rejection_reason&&n.jsxs("div",{className:"mt-1 fst-italic",children:[n.jsx("strong",{children:"Motivo:"})," ",v.rejection_reason]})]}),v.status==="pending"&&n.jsx("small",{className:"text-warning d-block mt-1",children:" En revisin por un administrador."}),v.has_pending_deletion&&n.jsx("small",{className:"text-info d-block mt-1",children:" Solicitud de eliminacin pendiente de aprobacin."})]})]})},v.id)})}),!t&&e.length===0&&n.jsx("div",{className:"alert alert-secondary mt-3",children:"No has enviado ninguna publicacin an."}),n.jsx(Fn,{open:o,pub:d,token:g,me:{},onClose:()=>c(!1),onToggleFavorite:()=>{}})]})}function vx({pubs:e,loading:t,error:s,onLoad:r,onToggleFavorite:a,onUpdateStatus:l}){const[i,o]=de.useState(!1),[c,d]=de.useState(null),p=de.useMemo(()=>localStorage.getItem("token")||"",[]);function g(y){d(y),o(!0)}de.useEffect(()=>{r()},[]);const[u,x]=de.useState("all"),v=de.useMemo(()=>e.filter(y=>u==="all"?!0:(y.favorite_status||"pending")===u),[e,u]);return n.jsxs("div",{className:"container-fluid py-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[n.jsx("h3",{className:"mb-0",children:"Mis Favoritos"}),n.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Filtro favoritos",children:[{key:"all",label:"Todos"},{key:"pending",label:" Pendientes"},{key:"done",label:" Realizados"}].map(({key:y,label:b})=>n.jsx("button",{onClick:()=>x(y),className:"btn",style:{borderColor:"#3A92B5",color:u===y?"white":"#3A92B5",backgroundColor:u===y?"#3A92B5":"transparent",borderWidth:"1.5px",fontWeight:500,borderRadius:y==="all"?"8px 0 0 8px":y==="done"?"0 8px 8px 0":"0",transition:"all 0.2s ease"},onMouseEnter:h=>{h.target.style.backgroundColor="#3A92B5",h.target.style.color="white"},onMouseLeave:h=>{u!==y&&(h.target.style.backgroundColor="transparent",h.target.style.color="#3A92B5")},children:b},y))})]}),t&&n.jsx("div",{className:"alert alert-info",children:"Cargando..."}),s&&n.jsx("div",{className:"alert alert-danger",children:s}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4",children:v.map(y=>{var h;const b=y.favorite_status||"pending";return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>g(y),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:y.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",y.address?`${y.address}, `:"",y.city,", ",y.province,y.country?`, ${y.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsx(At,{avg:y.rating_avg,count:y.rating_count})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(y.categories||[]).map(f=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:f},f))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:y.cost_per_day?n.jsxs("span",{className:"text-success fw-bold",children:["$",y.cost_per_day]}):n.jsx("span",{className:"text-info fw-bold",children:"El precio sujeto al consumo en el lugar"})})]}),n.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:f=>{f.stopPropagation(),a(y.id)},style:{fontSize:"1.5rem",textDecoration:"none"},title:"Quitar de favoritos",children:""})]})}),(h=y.photos)!=null&&h.length?n.jsxs("div",{id:`fav-carousel-${y.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:y.photos.map((f,j)=>n.jsx("div",{className:`carousel-item ${j===0?"active":""}`,children:n.jsx("img",{src:f,className:"d-block w-100",alt:`Foto ${j+1}`,style:{height:260,objectFit:"cover"}})},f))}),y.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#fav-carousel-${y.id}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(255, 255, 255, 0.4))"},"aria-label":"Anterior",title:"Anterior",children:n.jsx("span",{className:"carousel-control-prev-icon"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#fav-carousel-${y.id}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(255, 255, 255, 0.4))"},"aria-label":"Siguiente",title:"Siguiente",children:n.jsx("span",{className:"carousel-control-next-icon"})})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white d-flex justify-content-between align-items-center",children:[n.jsx("button",{className:`btn btn-sm ${b==="done"?"btn-success border-success text-white":"btn-outline-secondary"}`,onClick:f=>{f.stopPropagation(),l(y.id,b==="done"?"pending":"done")},title:b==="done"?"Marcar como Pendiente":"Marcar como Realizado",children:b==="done"?"Realizado":" Marcar realizado"}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:f=>{f.stopPropagation(),g(y)},children:"Ver Detalles"})]})]})},y.id)})}),!t&&e.length===0&&n.jsx("div",{className:"alert alert-secondary mt-3",children:"No tienes publicaciones favoritas an. Empieza a explorar y agrega tus lugares favoritos! "}),n.jsx(Fn,{open:i,pub:c,me:{},token:p,onClose:()=>o(!1),onToggleFavorite:()=>{}})]})}const jx=({status:e})=>{if(!e)return null;const t={subscribing:"Procesando pago de suscripcin...",cancelling:"Cancelando suscripcin..."},s={subscribing:"Pagar Suscripcin",cancelling:"Cancelar Suscripcin"};return n.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:n.jsx("div",{className:"card shadow-lg p-4",style:{minWidth:"300px",maxWidth:"90%"},children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx("h4",{className:"card-title mb-3",children:s[e]||"Procesando..."}),n.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})}),n.jsx("p",{className:"mt-3 mb-0",children:t[e]||"Por favor, espere."})]})})})};function yx({me:e,token:t,setMe:s}){const[r,a]=m.useState("view"),[l,i]=m.useState({first_name:e.first_name||"",last_name:e.last_name||"",birth_date:e.birth_date||"",travel_preferences:e.travel_preferences||""}),[o,c]=m.useState({current_password:"",new_password:"",confirm_password:""}),[d,p]=m.useState(null),[g,u]=m.useState(null),x=m.useRef(null),[v,y]=m.useState({type:"",message:""}),[b,h]=m.useState(null);m.useEffect(()=>{if(v.message){const G=setTimeout(()=>{y({type:"",message:""})},5e3);return()=>clearTimeout(G)}},[v]),m.useEffect(()=>{r==="edit"&&i({first_name:e.first_name||"",last_name:e.last_name||"",birth_date:e.birth_date?e.birth_date.split("T")[0]:"",travel_preferences:e.travel_preferences||""})},[e,r]);function f(G){const{name:U,value:Q}=G.target;i(L=>({...L,[U]:Q}))}function j(G){const{name:U,value:Q}=G.target;c(L=>({...L,[U]:Q}))}async function w(G){G.preventDefault(),y({type:"",message:""});try{const U=await Ct("/api/auth/me",{method:"PUT",token:t,body:l});s(U),y({type:"success",message:"Perfil actualizado con xito!"}),a("view")}catch(U){y({type:"danger",message:U.detail||"Error al actualizar el perfil."})}}async function N(G){G.preventDefault(),y({type:"",message:""});const{current_password:U,new_password:Q,confirm_password:L}=o;if(!U||!Q||!L){y({type:"danger",message:"Por favor, completa todos los campos."});return}if(Q.length<8){y({type:"danger",message:"La nueva contrasea debe tener al menos 8 caracteres."});return}if(Q!==L){y({type:"danger",message:"Las nuevas contraseas no coinciden."});return}try{await Ct("/api/auth/change-password",{method:"POST",token:t,body:{current_password:U,new_password:Q}}),y({type:"success",message:"Contrasea actualizada con xito!"}),c({current_password:"",new_password:"",confirm_password:""}),a("view")}catch(D){y({type:"danger",message:D.detail||"Error al cambiar la contrasea."})}}async function I(){if(!d){y({type:"warning",message:"Por favor, selecciona una foto primero."});return}y({type:"",message:""});const G=new FormData;G.append("file",d);try{const U=await Ct("/api/users/me/photo",{method:"PUT",token:t,body:G});s(U),y({type:"success",message:"Foto de perfil actualizada!"}),p(null),u(null)}catch(U){y({type:"danger",message:U.detail||"Error al subir la foto."})}}async function F(){y({type:"",message:""}),h("subscribing"),await new Promise(G=>setTimeout(G,5e3));try{const G=await Ct("/api/users/me/subscribe",{method:"POST",token:t});s(G),y({type:"success",message:"Felicidades! Ahora eres un usuario Premium."})}catch(G){y({type:"danger",message:G.detail||"Error al procesar la suscripcin."})}finally{h(null)}}async function _(){y({type:"",message:""}),h("cancelling"),await new Promise(G=>setTimeout(G,5e3));try{const G=await Ct("/api/users/me/cancel-subscription",{method:"POST",token:t});s(G),y({type:"success",message:"Tu suscripcin ha sido cancelada."})}catch(G){y({type:"danger",message:G.detail||"Error al cancelar la suscripcin."})}finally{h(null)}}function V(G){const U=G.target.files[0];U&&(p(U),u(URL.createObjectURL(U)))}function A(G){if(!G)return"No especificado";try{return new Date(G).toLocaleDateString("es-AR",{day:"numeric",month:"long",year:"numeric",timeZone:"UTC"})}catch{return"Fecha invlida"}}const te={width:"150px",height:"150px",borderRadius:"50%",objectFit:"cover",border:"4px solid #fff",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e9ecef",color:"#6c757d",fontWeight:"bold",fontSize:"1.2rem"},Y=e.profile_picture_url?`${em}${e.profile_picture_url}`:null,re=()=>v.message&&n.jsx("div",{className:`alert alert-${v.type} text-center`,children:v.message});function le(G){if(!G)return"No especificadas";let U=G;try{typeof G=="string"&&(U=JSON.parse(G))}catch{return G}if(!U||typeof U!="object")return G;const Q=[];return U.city&&Q.push(U.city),Array.isArray(U.destinations)&&U.destinations.length&&Q.push(`Destinos favoritos: ${U.destinations.join(", ")}`),U.style&&Q.push(`Estilo de viaje: ${U.style}`),U.budget&&Q.push(`Presupuesto: ${U.budget}`),U.about&&Q.push(U.about),Q.length?Q.join("  "):G}return r==="edit"?n.jsx("div",{className:"container mt-4",style:{maxWidth:"700px"},children:n.jsx("div",{className:"card shadow-sm",children:n.jsx("div",{className:"card-body p-4 p-md-5",children:n.jsxs("form",{onSubmit:w,children:[n.jsx("h2",{className:"card-title text-center mb-4",children:"Editar Perfil"}),n.jsx(re,{}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Nombre"}),n.jsx("input",{type:"text",name:"first_name",value:l.first_name,onChange:f,className:"form-control"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Apellido"}),n.jsx("input",{type:"text",name:"last_name",value:l.last_name,onChange:f,className:"form-control"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Fecha de Nacimiento"}),n.jsx("input",{type:"date",name:"birth_date",value:l.birth_date,onChange:f,className:"form-control"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"form-label",children:"Preferencias de Viaje"}),n.jsx("textarea",{name:"travel_preferences",value:l.travel_preferences,onChange:f,className:"form-control",rows:"3",placeholder:"Ej: Me gusta la playa, prefiero hostels..."})]}),n.jsxs("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[n.jsx("button",{type:"button",onClick:()=>a("view"),className:"btn btn-secondary me-md-2",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom",children:"Guardar Cambios"})]})]})})})}):r==="password"?n.jsx("div",{className:"container mt-4",style:{maxWidth:"700px"},children:n.jsx("div",{className:"card shadow-sm",children:n.jsx("div",{className:"card-body p-4 p-md-5",children:n.jsxs("form",{onSubmit:N,children:[n.jsx("h2",{className:"card-title text-center mb-4",children:"Cambiar Contrasea"}),n.jsx(re,{}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Contrasea Actual"}),n.jsx("input",{type:"password",name:"current_password",value:o.current_password,onChange:j,className:"form-control"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Nueva Contrasea"}),n.jsx("input",{type:"password",name:"new_password",value:o.new_password,onChange:j,className:"form-control"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"form-label",children:"Confirmar Nueva Contrasea"}),n.jsx("input",{type:"password",name:"confirm_password",value:o.confirm_password,onChange:j,className:"form-control"})]}),n.jsxs("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[n.jsx("button",{type:"button",onClick:()=>a("view"),className:"btn btn-secondary me-md-2",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom",children:"Actualizar Contrasea"})]})]})})})}):n.jsxs("div",{className:"container mt-4",style:{maxWidth:"700px"},children:[n.jsx(jx,{status:b}),n.jsx("div",{className:"card shadow-sm",children:n.jsxs("div",{className:"card-body p-4 p-md-5",children:[n.jsx("h2",{className:"card-title text-center mb-4",children:"Mi Perfil"}),n.jsx(re,{}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[n.jsx("img",{src:g||Y||"default-avatar.png",alt:"Perfil",style:te}),n.jsx("button",{onClick:()=>x.current.click(),style:{position:"absolute",bottom:"10px",right:"10px",borderRadius:"50%"},className:"btn btn-sm btn-light",children:""}),n.jsx("input",{type:"file",ref:x,onChange:V,style:{display:"none"},accept:"image/*"})]}),d&&n.jsxs("div",{className:"mt-3",children:[n.jsx("button",{onClick:I,className:"btn btn-success btn-sm",children:"Confirmar Foto"}),n.jsx("button",{onClick:()=>{p(null),u(null)},className:"btn btn-outline-danger btn-sm ms-2",children:"Cancelar"})]})]}),n.jsxs("ul",{className:"list-group list-group-flush",children:[n.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n.jsx("strong",{children:"Usuario:"})," ",e.username]}),n.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n.jsx("strong",{children:"Email:"})," ",e.email]}),n.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n.jsx("strong",{children:"Nombre:"})," ",e.first_name||"No especificado"]}),n.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n.jsx("strong",{children:"Apellido:"})," ",e.last_name||"No especificado"]}),n.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n.jsx("strong",{children:"Nacimiento:"})," ",A(e.birth_date)]}),n.jsxs("li",{className:"list-group-item",children:[n.jsx("strong",{children:"Preferencias:"}),n.jsx("p",{className:"text-muted mb-0",children:le(e.travel_preferences)})]})]}),n.jsx("div",{className:"card shadow-sm mt-4",children:n.jsxs("div",{className:"card-body",children:[e.role==="user"&&n.jsxs(n.Fragment,{children:[n.jsxs("h5",{className:"card-title",children:["Suscripcin: ",n.jsx("span",{className:"badge bg-secondary",children:"Estndar"})]}),n.jsx("p",{className:"card-text fw-bold fs-5 text-primary",children:"Convertite en Premium!"}),n.jsx("p",{children:"Disfruta de todos los beneficios de nuestra plataforma:"}),n.jsxs("ul",{className:"list-unstyled",children:[n.jsxs("li",{className:"mb-2",children:[" ",n.jsx("strong",{children:"Public sin lmites:"})," cre publicaciones para otros usuarios sobre actividades y aventuras inigualables."]}),n.jsxs("li",{className:"mb-2",children:[" ",n.jsx("strong",{children:"Dej tus reseas:"})," compart tus experiencias y gan puntos por cada opinin."]}),n.jsxs("li",{className:"mb-2",children:[" ",n.jsx("strong",{children:"Calific tus actividades:"})," puntu lo que hiciste y acumul ms puntos."]}),n.jsxs("li",{className:"mb-2",children:[" ",n.jsx("strong",{children:"Acced a recompensas:"})," disfrut beneficios y descuentos increbles."]}),n.jsxs("li",{className:"mb-2",children:[" ",n.jsx("strong",{children:"Divid gastos de viajes:"})," invit amigos a tus viajes y compart los gastos automticamente."]}),n.jsxs("li",{className:"mb-2",children:[" ",n.jsx("strong",{children:"Compart itinerarios:"})," compart itinerarios a amigos va mail."]})]}),n.jsx("hr",{}),n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsx("span",{className:"fs-4 fw-bold",children:"10 USD / mes"}),n.jsx("button",{className:"btn btn-success",onClick:F,children:"Convertirse en Premium"})]})]}),e.role==="premium"&&n.jsxs(n.Fragment,{children:[n.jsxs("h5",{className:"card-title",children:["Suscripcin: ",n.jsx("span",{className:"badge bg-success",children:"Premium"})]}),n.jsx("p",{className:"card-text",children:"Ests disfrutando de todos los beneficios de tu cuenta."}),n.jsx("p",{children:"Puedes cancelar tu suscripcin en cualquier momento."}),n.jsx("hr",{}),n.jsx("div",{className:"text-end",children:n.jsx("button",{className:"btn btn-outline-danger",onClick:_,children:"Cancelar Suscripcin"})})]}),e.role!=="user"&&e.role!=="premium"&&n.jsxs(n.Fragment,{children:[n.jsxs("h5",{className:"card-title",children:["Suscripcin: ",n.jsx("span",{className:"badge bg-info text-dark",children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]}),n.jsx("p",{className:"card-text",children:"Tienes permisos especiales en la plataforma."})]})]})}),n.jsxs("div",{className:"d-flex justify-content-end align-items-center mt-4 gap-3",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>a("password"),children:"Modificar Contrasea"}),n.jsx("button",{className:"btn btn-outline-custom",onClick:()=>a("edit"),children:"Editar Perfil"})]})]})})]})}async function Fe(e,{method:t="GET",token:s,body:r,isForm:a=!1}={}){const l={};s&&(l.Authorization=`Bearer ${s}`),a||(l["Content-Type"]="application/json");const i=await fetch(e,{method:t,headers:l,body:a?r:r?JSON.stringify(r):void 0});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.detail||o.message||`HTTP ${i.status}`)}return i.json().catch(()=>({}))}function Tn({value:e=0}){const t=Math.max(0,Math.min(100,Number(e)/5*100));return n.jsxs("span",{className:"position-relative","aria-label":`Rating ${e}/5`,children:[n.jsx("span",{className:"text-muted",style:{letterSpacing:1},children:""}),n.jsx("span",{className:"position-absolute top-0 start-0 overflow-hidden",style:{width:`${t}%`},children:n.jsx("span",{className:"text-warning",style:{letterSpacing:1},children:""})})]})}function On({me:e,view:t="publications"}){const[s,r]=m.useState(null),[a,l]=m.useState(!1),[i,o]=m.useState([]),[c,d]=m.useState([]),[p,g]=m.useState([]),[u,x]=m.useState([]),[v,y]=m.useState([]),[b,h]=m.useState(""),[f,j]=m.useState(""),[w,N]=m.useState(""),I=m.useMemo(()=>localStorage.getItem("token")||"",[]),F=m.useRef(!1),[_,V]=m.useState(!1),[A,te]=m.useState(null),[Y,re]=m.useState(null),[le,G]=m.useState(!1),[U,Q]=m.useState(null),[L,D]=m.useState(null),[B,k]=m.useState(null),[S,O]=m.useState(""),[J,ne]=m.useState(null),[ue,pe]=m.useState(!1),[ke,he]=m.useState(null);function Pe(P,z=null,K=null){Q(P),D(z),k(K),O(""),G(!0)}async function jt(){if(!S.trim()){h("Por favor, escribe un motivo.");return}J&&await J(S.trim()),G(!1),Q(null),D(null),k(null),O(""),ne(null)}async function ye(){try{const[P,z]=await Promise.all([Fe("/api/publications/pending",{token:I}).catch(()=>[]),Fe("/api/publications/deletion-requests/pending",{token:I}).catch(()=>[])]);g(P),x(z)}catch(P){console.error("Error recargando estadsticas:",P)}}async function Me(){l(!0),h("");try{const P=await Fe("/api/reviews/reports/pending",{token:I});y(P)}catch(P){h(P.message)}finally{l(!1)}}async function rt(P=""){l(!0),h("");try{const z=P?`/api/publications/search?q=${encodeURIComponent(P)}`:"/api/publications",K=await Fe(z,{token:I});o(K)}catch(z){h(z.message)}finally{l(!1)}}async function yt(){l(!0),h("");try{const P=await Fe("/api/publications/pending",{token:I});g(P)}catch(P){h(P.message)}finally{l(!1)}}async function De(){l(!0),h("");try{const P=await Fe("/api/publications/deletion-requests/pending",{token:I});x(P)}catch(P){h(P.message)}finally{l(!1)}}async function Je(){l(!0),h("");try{const P=await Fe("/api/publications/all",{token:I});d(P)}catch(P){h(P.message)}finally{l(!1)}}m.useEffect(()=>{I&&ye()},[I]),m.useEffect(()=>{t==="publications"&&!s?rt(w):t==="all-publications"&&!s?Je():t==="pending"&&!s?yt():t==="deletion-requests"&&!s?De():t==="review-reports"&&!s&&Me()},[t,I]);function $(P){N(P),F.current=!1,rt(P)}async function X(P){P.preventDefault(),h(""),j("");const z=P.currentTarget,K=new FormData(z);if((z.photos.files||[]).length>4){h("Mximo 4 fotos por publicacin.");return}l(!0);try{await Fe("/api/publications",{method:"POST",token:I,body:K,isForm:!0}),j("Publicacin creada con xito."),z.reset(),r(null),rt(w)}catch(ee){h(ee.message)}finally{l(!1)}}async function se(P){ne(()=>async z=>{l(!0),h(""),j("");try{await Fe(`/api/publications/${P}`,{method:"DELETE",token:I,body:{reason:z||void 0}}),j("Publicacin marcada como eliminada."),o(K=>K.filter(ae=>ae.id!==P)),d(K=>K.map(ae=>ae.id===P?{...ae,status:"deleted",rejection_reason:z}:ae))}catch(K){h(K.message)}finally{l(!1)}}),Pe("delete-publication",P)}async function ge(P){l(!0),h(""),j("");try{await Fe(`/api/publications/${P}/approve`,{method:"PUT",token:I}),j("Publicacin aprobada."),g(z=>z.filter(K=>K.id!==P)),await ye()}catch(z){h(z.message)}finally{l(!1)}}async function Te(P){ne(()=>async z=>{l(!0),h(""),j("");try{await Fe(`/api/publications/${P}/reject`,{method:"PUT",token:I,body:{reason:z||void 0}}),j("Publicacin rechazada."),g(K=>K.filter(ae=>ae.id!==P)),await ye()}catch(K){h(K.message)}finally{l(!1)}}),Pe("reject-publication",P)}async function mt(P){he(P),pe(!0)}async function E(){if(ke){l(!0),h(""),j("");try{await Fe(`/api/publications/deletion-requests/${ke}/approve`,{method:"PUT",token:I}),j("Solicitud aprobada. Publicacin eliminada."),x(P=>P.filter(z=>z.id!==ke)),await ye()}catch(P){h(P.message)}finally{l(!1),pe(!1),he(null)}}}async function q(P){ne(()=>async z=>{l(!0),h(""),j("");try{await Fe(`/api/publications/deletion-requests/${P}/reject`,{method:"PUT",token:I,body:{reason:z||void 0}}),j("Solicitud de eliminacin rechazada."),x(K=>K.filter(ae=>ae.id!==P)),await ye()}catch(K){h(K.message)}finally{l(!1)}}),Pe("reject-deletion",null,P)}async function H(P){l(!0),h(""),j("");try{await Fe(`/api/reviews/reports/${P}/approve`,{method:"PUT",token:I}),j("Reporte aprobado. Resea eliminada."),y(z=>z.filter(K=>K.id!==P)),await ye()}catch(z){h(z.message)}finally{l(!1)}}async function C(P){ne(()=>async z=>{l(!0),h(""),j("");try{await Fe(`/api/reviews/reports/${P}/reject`,{method:"PUT",token:I,body:{reason:z||void 0}}),j("Reporte rechazado."),y(K=>K.filter(ae=>ae.id!==P)),await ye()}catch(K){h(K.message)}finally{l(!1)}}),Pe("reject-review-report",null,P)}if(s==="create")return n.jsx(Nx,{loading:a,error:b,okMsg:f,onBack:()=>r(null),onSubmit:X});const T=P=>n.jsxs("div",{className:"container-fluid py-4",children:[n.jsx("div",{className:"row",children:n.jsx("div",{className:"col-12",children:P})}),le&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsxs("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:500,width:"90%"},children:[n.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[n.jsxs("h5",{className:"mb-0",children:[U==="delete-publication"&&"Eliminar Publicacin",U==="reject-publication"&&"Rechazar Publicacin",U==="reject-deletion"&&"Rechazar Solicitud de Eliminacin",U==="reject-review-report"&&"Rechazar Reporte de Resea"]}),n.jsx("button",{className:"btn-close",onClick:()=>G(!1)})]}),n.jsxs("div",{className:"p-3",children:[n.jsxs("p",{className:"text-muted mb-3",children:[U==="delete-publication"&&"Por favor, explica por qu eliminas esta publicacin. El usuario ver este mensaje.",U==="reject-publication"&&"Por favor, explica por qu rechazas esta publicacin. El usuario ver este mensaje.",U==="reject-deletion"&&"Por favor, explica por qu rechazas esta solicitud de eliminacin. El usuario ver este mensaje.",U==="reject-review-report"&&"Por favor, explica por qu rechazas este reporte de resea. El usuario que report ver este mensaje."]}),n.jsxs("form",{onSubmit:z=>{z.preventDefault(),jt()},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Motivo"}),n.jsx("textarea",{className:"form-control",rows:"4",placeholder:"Escribe el motivo...",value:S,onChange:z=>O(z.target.value),maxLength:"500"}),n.jsxs("small",{className:"text-muted d-block mt-1",children:[S.length,"/500 caracteres"]})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{type:"button",className:"btn btn-outline-secondary flex-grow-1",onClick:()=>G(!1),children:"Cancelar"}),n.jsxs("button",{type:"submit",className:`btn flex-grow-1 ${U==="delete-publication"?"btn-danger":"btn-warning"}`,disabled:!S.trim(),children:[U==="delete-publication"&&"Eliminar",U==="reject-publication"&&"Rechazar",U==="reject-deletion"&&"Rechazar",U==="reject-review-report"&&"Rechazar"]})]})]})]})]})}),ue&&n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1051},children:n.jsx("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:400,width:"90%"},children:n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h5",{className:"mb-3",children:"Aprobar esta solicitud de eliminacin?"}),n.jsx("p",{className:"text-muted mb-3",children:"La publicacin ser eliminada permanentemente."}),n.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>pe(!1),children:"Cancelar"}),n.jsx("button",{className:"btn btn-danger",onClick:E,children:"Aprobar"})]})]})})})]});return t==="publications"?T(n.jsx(bx,{pubs:i,loading:a,error:b,okMsg:f,searchQuery:w,onDelete:se,onSearch:$,onCreate:()=>r("create")})):t==="all-publications"?T(n.jsx(Cx,{pubs:c,loading:a,error:b,okMsg:f,onDelete:se})):t==="pending"?T(n.jsx(wx,{pubs:p,loading:a,error:b,okMsg:f,onApprove:ge,onReject:Te})):t==="deletion-requests"?T(n.jsx(Sx,{requests:u,loading:a,error:b,okMsg:f,onApprove:mt,onReject:q})):t==="review-reports"?T(n.jsx(Ex,{reports:v,loading:a,error:b,okMsg:f,onApprove:H,onReject:C})):null}function bx({pubs:e,loading:t,error:s,okMsg:r,searchQuery:a,onDelete:l,onSearch:i,onCreate:o}){const[c,d]=de.useState(!1),[p,g]=de.useState(null);de.useMemo(()=>localStorage.getItem("token")||"",[]);function u(y){g(y),d(!0)}function x({avg:y=0,count:b=0}){return n.jsxs("span",{className:"badge bg-light text-dark border",children:[n.jsx(Tn,{value:y})," ",n.jsxs("span",{className:"ms-1",children:[Number(y).toFixed(1),"  ",b," resea",b===1?"":"s"]})]})}function v(y){y.preventDefault();const b=y.target.search.value.trim();i(b)}return n.jsxs("div",{children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[n.jsx("h3",{className:"mb-0",children:"Gestin de Publicaciones"}),n.jsx("button",{className:"btn",style:{borderColor:"#3A92B5",color:"#3A92B5"},onClick:o,children:"+ Agregar Publicacin"})]}),n.jsx("form",{className:"d-flex mt-3",onSubmit:v,children:n.jsx("input",{className:"form-control",type:"search",name:"search",defaultValue:a,placeholder:"Buscar por pas, ciudad, lugar...","aria-label":"Buscar"})}),a&&n.jsxs("div",{className:"alert alert-info d-flex justify-content-between align-items-center mt-3",role:"alert",children:[n.jsxs("span",{children:[n.jsx("strong",{children:"Bsqueda:"}),' "',a,'" - ',e.length," resultado",e.length!==1?"s":""," encontrado",e.length!==1?"s":""]}),n.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>i(""),children:"Limpiar"})]}),t&&n.jsx("div",{className:"alert alert-info mt-3 mb-0",children:"Cargando..."}),s&&n.jsx("div",{className:"alert alert-danger mt-3 mb-0",children:s}),r&&n.jsx("div",{className:"alert alert-success mt-3 mb-0",children:r}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mt-2",children:e.map(y=>{var b;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>u(y),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:y.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",y.address?`${y.address}, `:"",y.city,", ",y.province,y.country?`, ${y.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsx(x,{avg:y.rating_avg,count:y.rating_count})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(y.categories||[]).map(h=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:h},h))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:n.jsxs("span",{className:"text-success fw-bold",children:["$",y.cost_per_day||0]})})]}),n.jsxs("div",{className:"dropdown ms-2",children:[n.jsx("button",{className:"btn btn-sm btn-link text-muted p-0","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Ms acciones",onClick:h=>h.stopPropagation(),children:""}),n.jsx("ul",{className:"dropdown-menu dropdown-menu-end",children:n.jsx("li",{children:n.jsx("button",{className:"dropdown-item text-danger",onClick:h=>{h.stopPropagation(),l(y.id)},children:"Eliminar publicacin"})})})]})]})}),(b=y.photos)!=null&&b.length?n.jsxs("div",{id:`carousel-${y.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:y.photos.map((h,f)=>n.jsx("div",{className:`carousel-item ${f===0?"active":""}`,children:n.jsx("img",{src:h,className:"d-block w-100",alt:`Foto ${f+1}`,style:{height:260,objectFit:"cover"}})},h))}),y.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#carousel-${y.id}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Anterior",title:"Anterior",children:[n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),n.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":`#carousel-${y.id}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Siguiente",title:"Siguiente",children:[n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white d-flex justify-content-between align-items-center",children:[n.jsxs("small",{className:"text-muted",children:["Creado: ",new Date(y.created_at).toLocaleString()]}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:h=>{h.stopPropagation(),u(y)},children:"Ver Detalles"})]})]})},y.id)})}),!t&&e.length===0&&n.jsx("div",{className:"alert alert-secondary mt-3",children:"No hay publicaciones cargadas an."}),n.jsx(fr,{open:c,pub:p,me:{},onClose:()=>d(!1),onToggleFavorite:()=>{}})]})}function Nx({loading:e,error:t,okMsg:s,onBack:r,onSubmit:a}){return n.jsxs("div",{className:"container py-4",style:{maxWidth:720},children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[n.jsx("h3",{className:"mb-0",children:"Crear publicacin"}),n.jsx("button",{className:"btn btn-outline-secondary",onClick:r,children:"Volver"})]}),e&&n.jsx("div",{className:"alert alert-info mt-3 mb-0",children:"Guardando..."}),t&&n.jsx("div",{className:"alert alert-danger mt-3 mb-0",children:t}),s&&n.jsx("div",{className:"alert alert-success mt-3 mb-0",children:s}),n.jsxs("form",{className:"card shadow-sm mt-3 p-3",onSubmit:a,children:[n.jsxs("div",{className:"row g-3",children:[n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",children:"Nombre del lugar *"}),n.jsx("input",{name:"place_name",type:"text",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Pas *"}),n.jsx("input",{name:"country",type:"text",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Provincia/Estado *"}),n.jsx("input",{name:"province",type:"text",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Ciudad *"}),n.jsx("input",{name:"city",type:"text",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Direccin (calle y nmero) *"}),n.jsx("input",{name:"address",type:"text",className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",children:"Categoras (CSV) *"}),n.jsx("input",{name:"categories",type:"text",className:"form-control",placeholder:"ej: aventura,cultura",required:!0}),n.jsx("div",{className:"form-text",children:"Us slugs: aventura, cultura, gastronomia"})]}),n.jsx("hr",{className:"my-3"}),n.jsxs("div",{className:"col-12",children:[n.jsx("h6",{className:"text-muted mb-0",children:"Informacion del destino"}),n.jsx("small",{className:"text-muted",children:"Estos campos ayudan al sistema a recomendar destinos segn las preferencias de los usuarios."})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Continente"}),n.jsxs("select",{className:"form-select",name:"continent",defaultValue:"",children:[n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"amrica",children:"Amrica"}),n.jsx("option",{value:"europa",children:"Europa"}),n.jsx("option",{value:"asia",children:"Asia"}),n.jsx("option",{value:"frica",children:"frica"}),n.jsx("option",{value:"oceana",children:"Oceana"})]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Clima"}),n.jsxs("select",{className:"form-select",name:"climate",defaultValue:"",children:[n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"templado",children:"Templado"}),n.jsx("option",{value:"tropical",children:"Tropical"}),n.jsx("option",{value:"frio",children:"Fro"}),n.jsx("option",{value:"seco",children:"Seco"})]})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",children:"Actividades"}),n.jsx("input",{name:"activities",type:"text",className:"form-control",placeholder:"ej: playa,gastronoma,noche"}),n.jsx("div",{className:"form-text",children:"Separ por comas. Se guardan en minsculas."})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Costo por da (USD)"}),n.jsx("input",{name:"cost_per_day",type:"number",className:"form-control",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Duracin (minutos)"}),n.jsx("input",{name:"duration_min",type:"number",className:"form-control",min:"1"})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",children:"Fotos (hasta 4)  JPG/PNG/WebP"}),n.jsx("input",{name:"photos",type:"file",className:"form-control",multiple:!0,accept:"image/jpeg,image/png,image/webp"}),n.jsx("div",{className:"form-text",children:"Pods seleccionar varias a la vez. Mximo 4."})]})]}),n.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-3",children:[n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:r,children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn ",disabled:e,children:e?"Creando...":"Crear"})]})]})]})}function wx({pubs:e,loading:t,error:s,okMsg:r,onApprove:a,onReject:l}){const[i,o]=de.useState(!1),[c,d]=de.useState(null);de.useMemo(()=>localStorage.getItem("token")||"",[]);function p(u){d(u),o(!0)}function g({avg:u=0,count:x=0}){return n.jsxs("span",{className:"badge bg-light text-dark border",children:[n.jsx(Tn,{value:u})," ",n.jsxs("span",{className:"ms-1",children:[Number(u).toFixed(1),"  ",x," resea",x===1?"":"s"]})]})}return n.jsxs("div",{children:[n.jsx("div",{className:"d-flex align-items-center justify-content-between mb-3",children:n.jsx("h3",{className:"mb-0",children:"Publicaciones Pendientes de Aprobacin"})}),t&&n.jsx("div",{className:"alert alert-info mt-3 mb-0",children:"Cargando..."}),s&&n.jsx("div",{className:"alert alert-danger mt-3 mb-0",children:s}),r&&n.jsx("div",{className:"alert alert-success mt-3 mb-0",children:r}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mt-2",children:e.map(u=>{var x;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>p(u),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsx("div",{className:"d-flex justify-content-between align-items-start",children:n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:u.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",u.address?`${u.address}, `:"",u.city,", ",u.province,u.country?`, ${u.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[n.jsx("span",{className:"badge bg-warning text-dark",children:" Pendiente"}),n.jsx(g,{avg:u.rating_avg,count:u.rating_count})]})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(u.categories||[]).map(v=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:v},v))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:n.jsxs("span",{className:"text-success fw-bold",children:["$",u.cost_per_day||0]})})]})})}),(x=u.photos)!=null&&x.length?n.jsxs("div",{id:`pending-carousel-${u.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:u.photos.map((v,y)=>n.jsx("div",{className:`carousel-item ${y===0?"active":""}`,children:n.jsx("img",{src:v,className:"d-block w-100",alt:`Foto ${y+1}`,style:{height:260,objectFit:"cover"}})},v))}),u.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#pending-carousel-${u.id}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Anterior",title:"Anterior",children:n.jsx("span",{className:"carousel-control-prev-icon"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#pending-carousel-${u.id}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Siguiente",title:"Siguiente",children:n.jsx("span",{className:"carousel-control-next-icon"})})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white",children:[n.jsxs("small",{className:"text-muted d-block mb-2",children:["Enviado: ",new Date(u.created_at).toLocaleString()]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-success btn-sm flex-fill",onClick:v=>{v.stopPropagation(),a(u.id)},children:" Aprobar"}),n.jsx("button",{className:"btn btn-danger btn-sm flex-fill",onClick:v=>{v.stopPropagation(),l(u.id)},children:" Rechazar"})]})]})]})},u.id)})}),!t&&e.length===0&&n.jsx("div",{className:"alert alert-secondary mt-3",children:"No hay publicaciones pendientes de aprobacin."}),n.jsx(fr,{open:i,pub:c,me:{},onClose:()=>o(!1),onToggleFavorite:()=>{}})]})}function Sx({requests:e,loading:t,error:s,okMsg:r,onApprove:a,onReject:l}){const[i,o]=de.useState(!1),[c,d]=de.useState(null);de.useMemo(()=>localStorage.getItem("token")||"",[]);function p(u){d(u),o(!0)}function g({avg:u=0,count:x=0}){return n.jsxs("span",{className:"badge bg-light text-dark border",children:[n.jsx(Tn,{value:u})," ",n.jsxs("span",{className:"ms-1",children:[Number(u).toFixed(1),"  ",x," resea",x===1?"":"s"]})]})}return n.jsxs("div",{children:[n.jsx("div",{className:"d-flex align-items-center justify-content-between mb-3",children:n.jsx("h3",{className:"mb-0",children:"Solicitudes de Eliminacin Pendientes"})}),t&&n.jsx("div",{className:"alert alert-info mt-3 mb-0",children:"Cargando..."}),s&&n.jsx("div",{className:"alert alert-danger mt-3 mb-0",children:s}),r&&n.jsx("div",{className:"alert alert-success mt-3 mb-0",children:r}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mt-2",children:e.map(u=>{var v;const x=u.publication;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>p(x),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsx("div",{className:"d-flex justify-content-between align-items-start",children:n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:x.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",x.address?`${x.address}, `:"",x.city,", ",x.province,x.country?`, ${x.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[n.jsx("span",{className:"badge bg-danger",children:" Eliminacin solicitada"}),n.jsx(g,{avg:x.rating_avg,count:x.rating_count})]})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(x.categories||[]).map(y=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:y},y))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:n.jsxs("span",{className:"text-success fw-bold",children:["$",x.cost_per_day||0]})})]})})}),(v=x.photos)!=null&&v.length?n.jsxs("div",{id:`deletion-carousel-${x.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:x.photos.map((y,b)=>n.jsx("div",{className:`carousel-item ${b===0?"active":""}`,children:n.jsx("img",{src:y,className:"d-block w-100",alt:`Foto ${b+1}`,style:{height:260,objectFit:"cover"}})},y))}),x.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#deletion-carousel-${x.id}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Anterior",title:"Anterior",children:n.jsx("span",{className:"carousel-control-prev-icon"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#deletion-carousel-${x.id}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Siguiente",title:"Siguiente",children:n.jsx("span",{className:"carousel-control-next-icon"})})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white",children:[n.jsxs("small",{className:"text-muted d-block mb-2",children:["Solicitado: ",new Date(u.created_at).toLocaleString()]}),u.reason&&n.jsxs("div",{className:"mb-2 p-2 bg-light rounded",children:[n.jsx("small",{className:"text-muted d-block",children:n.jsx("strong",{children:"Motivo:"})}),n.jsx("small",{className:"text-dark",children:u.reason})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-success btn-sm flex-fill",onClick:y=>{y.stopPropagation(),a(u.id)},children:" Aprobar"}),n.jsx("button",{className:"btn btn-secondary btn-sm flex-fill",onClick:y=>{y.stopPropagation(),l(u.id)},children:" Rechazar"})]})]})]})},u.id)})}),!t&&e.length===0&&n.jsx("div",{className:"alert alert-secondary mt-3",children:"No hay solicitudes de eliminacin pendientes."}),n.jsx(fr,{open:i,pub:c,me:{},onClose:()=>o(!1),onToggleFavorite:()=>{}})]})}function Cx({pubs:e,loading:t,error:s,okMsg:r,onDelete:a}){const[l,i]=de.useState(!1),[o,c]=de.useState(null);de.useMemo(()=>localStorage.getItem("token")||"",[]);function d(u){c(u),i(!0)}function p({avg:u=0,count:x=0}){return n.jsxs("span",{className:"badge bg-light text-dark border",children:[n.jsx(Tn,{value:u})," ",n.jsxs("span",{className:"ms-1",children:[Number(u).toFixed(1),"  ",x," resea",x===1?"":"s"]})]})}const g=u=>u==="approved"?n.jsx("span",{className:"badge bg-success",children:" Aprobada"}):u==="pending"?n.jsx("span",{className:"badge bg-warning text-dark",children:" Pendiente"}):u==="rejected"?n.jsx("span",{className:"badge bg-danger",children:" Rechazada"}):u==="deleted"?n.jsx("span",{className:"badge bg-dark",children:" Eliminada"}):n.jsx("span",{className:"badge bg-secondary",children:u});return n.jsxs("div",{children:[n.jsx("div",{className:"d-flex align-items-center justify-content-between mb-3",children:n.jsx("h3",{className:"mb-0",children:"Todas las Publicaciones"})}),t&&n.jsx("div",{className:"alert alert-info mt-3 mb-0",children:"Cargando..."}),s&&n.jsx("div",{className:"alert alert-danger mt-3 mb-0",children:s}),r&&n.jsx("div",{className:"alert alert-success mt-3 mb-0",children:r}),n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mt-2",children:e.map(u=>{var x;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>d(u),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:u.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",u.address?`${u.address}, `:"",u.city,", ",u.province,u.country?`, ${u.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[g(u.status),n.jsx(p,{avg:u.rating_avg,count:u.rating_count})]})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(u.categories||[]).map(v=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:v},v))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:n.jsxs("span",{className:"text-success fw-bold",children:["$",u.cost_per_day||0]})})]}),n.jsxs("div",{className:"dropdown ms-2",children:[n.jsx("button",{className:"btn btn-sm btn-link text-muted p-0","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Ms acciones",onClick:v=>v.stopPropagation(),children:""}),n.jsx("ul",{className:"dropdown-menu dropdown-menu-end",children:n.jsx("li",{children:n.jsx("button",{className:"dropdown-item text-danger",onClick:v=>{v.stopPropagation(),a(u.id)},children:"Eliminar publicacin"})})})]})]})}),(x=u.photos)!=null&&x.length?n.jsxs("div",{id:`carousel-all-${u.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:u.photos.map((v,y)=>n.jsx("div",{className:`carousel-item ${y===0?"active":""}`,children:n.jsx("img",{src:v,className:"d-block w-100",alt:`Foto ${y+1}`,style:{height:260,objectFit:"cover"}})},v))}),u.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#carousel-all-${u.id}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Anterior",title:"Anterior",children:[n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),n.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":`#carousel-all-${u.id}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},"aria-label":"Siguiente",title:"Siguiente",children:[n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white d-flex justify-content-between align-items-center",children:[n.jsxs("small",{className:"text-muted",children:["Creado: ",new Date(u.created_at).toLocaleString()]}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:v=>{v.stopPropagation(),d(u)},children:"Ver Detalles"})]})]})},u.id)})}),!t&&e.length===0&&n.jsx("div",{className:"alert alert-secondary mt-3",children:"No hay publicaciones."}),n.jsx(fr,{open:l,pub:o,me:{},onClose:()=>i(!1),onToggleFavorite:()=>{}})]})}function fr({open:e,pub:t,onClose:s,onToggleFavorite:r,me:a}){var f,j;if(!e||!t)return null;const[l,i]=de.useState([]),[o,c]=de.useState(!1),[d,p]=de.useState(""),[g,u]=de.useState(5),[x,v]=de.useState(""),y=de.useMemo(()=>localStorage.getItem("token")||"",[]),b=(a==null?void 0:a.role)==="premium"||(a==null?void 0:a.username)==="admin";de.useEffect(()=>{if(!e||!(t!=null&&t.id)){i([]),p("");return}let w=!1;return(async()=>{c(!0),p("");try{const N=await Fe(`/api/publications/${t.id}/reviews`);w||i(N)}catch(N){w||p(N.message)}finally{w||c(!1)}})(),()=>{w=!0}},[e,t==null?void 0:t.id]);async function h(w){if(w.preventDefault(),!!b){if(!y){alert("Inici sesin para publicar una resea.");return}try{await Fe(`/api/publications/${t.id}/reviews`,{method:"POST",token:y,body:{rating:Number(g),comment:x||void 0}}),v(""),u(5);const N=await Fe(`/api/publications/${t.id}/reviews`);i(N)}catch(N){alert(`Error creando resea: ${N.message}`)}}}return n.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,.4)",zIndex:1050},children:n.jsxs("div",{className:"bg-white rounded-3 shadow-lg border",style:{maxWidth:600,maxHeight:"90vh",width:"90%",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[n.jsx("h5",{className:"mb-0",children:t.place_name}),n.jsx("button",{className:"btn-close",onClick:s})]}),n.jsxs("div",{style:{overflowY:"scroll",flex:1,padding:"1rem",minHeight:0},children:[n.jsx("div",{className:"mb-3",children:((f=t.photos)==null?void 0:f.length)>0?n.jsxs("div",{id:`carousel-${t.id}`,className:"carousel slide","data-bs-ride":"carousel",children:[n.jsx("div",{className:"carousel-inner",children:t.photos.map((w,N)=>n.jsx("div",{className:`carousel-item ${N===0?"active":""}`,children:n.jsx("img",{src:w,className:"d-block w-100 rounded",alt:`Imagen ${N+1}`,style:{height:"300px",objectFit:"cover"}})},N))}),t.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#carousel-${t.id}`,"data-bs-slide":"prev",children:n.jsx("span",{className:"carousel-control-prev-icon"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#carousel-${t.id}`,"data-bs-slide":"next",children:n.jsx("span",{className:"carousel-control-next-icon"})})]})]}):n.jsx("div",{className:"text-muted text-center p-4",children:"Sin imgenes disponibles"})}),n.jsxs("div",{className:"mb-3",children:[t.description&&n.jsxs(n.Fragment,{children:[n.jsx("h6",{className:"mt-3 mb-2",children:"Descripcin"}),n.jsx("p",{className:"mb-2",style:{whiteSpace:"pre-wrap"},children:t.description})]}),n.jsx("h6",{className:"mt-3 mb-2",children:"Categoras"}),n.jsx("div",{className:"d-flex flex-wrap gap-1 mb-3",children:(j=t.categories)==null?void 0:j.map(w=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:w},w))}),n.jsx("h6",{className:"mt-3 mb-2",children:"Ubicacin"}),n.jsxs("p",{className:"mb-2",children:[" ",t.address,", ",t.city,", ",t.province]}),n.jsx("h6",{className:"mt-3 mb-2",children:"Precio"}),n.jsxs("p",{className:"mb-2",children:["$",t.cost_per_day," por da"]}),n.jsx("hr",{}),n.jsx("h6",{className:"mt-3 mb-2",children:"Reseas"}),n.jsxs("div",{style:{maxHeight:250,overflow:"auto"},children:[o&&n.jsx("div",{className:"text-muted",children:"Cargando"}),d&&n.jsx("div",{className:"alert alert-danger",children:d}),!o&&!d&&l.length===0&&n.jsx("div",{className:"text-muted",children:"Sin reseas todava."}),n.jsx("ul",{className:"list-unstyled mb-0",children:l.map(w=>n.jsxs("li",{className:"border rounded-3 p-3 mb-2",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"d-flex align-items-center gap-2",children:[n.jsx(Tn,{value:w.rating}),w.status==="under_review"&&n.jsx("span",{className:"badge bg-warning text-dark",children:" Bajo investigacin"})]}),n.jsx("small",{className:"text-muted",children:new Date(w.created_at).toLocaleString()})]}),w.comment&&n.jsx("div",{className:"mt-1",children:w.comment}),n.jsxs("small",{className:"text-muted d-block mt-1",children:["por ",w.author_username]})]},w.id))})]}),b?n.jsx("form",{className:"p-3 border-top",onSubmit:h,children:n.jsxs("div",{className:"row g-2",children:[n.jsxs("div",{className:"col-12 col-md-2",children:[n.jsx("label",{className:"form-label mb-1",children:"Rating"}),n.jsx("select",{className:"form-select",value:g,onChange:w=>u(w.target.value),children:[5,4,3,2,1].map(w=>n.jsx("option",{value:w,children:w},w))})]}),n.jsxs("div",{className:"col-12 col-md-8",children:[n.jsx("label",{className:"form-label mb-1",children:"Comentario (opcional)"}),n.jsx("input",{className:"form-control",value:x,onChange:w=>v(w.target.value),placeholder:"Contanos tu experiencia"})]}),n.jsx("div",{className:"col-12 col-md-2 d-flex align-items-end",children:n.jsx("button",{className:"btn btn-celeste w-100",type:"submit",children:"Publicar"})})]})}):n.jsx("div",{className:"p-3 border-top",children:n.jsxs("div",{className:"alert alert-secondary mb-0",children:["Solo los ",n.jsx("strong",{children:"usuarios premium"})," pueden publicar reseas."]})})]})]})]})})}function Ex({reports:e,loading:t,error:s,okMsg:r,onApprove:a,onReject:l}){const[i,o]=de.useState(!1),[c,d]=de.useState(null);function p(u){d(u),o(!0)}function g({avg:u=0,count:x=0}){return n.jsxs("span",{className:"badge bg-light text-dark border",children:[n.jsx(Tn,{value:u})," ",n.jsxs("span",{className:"ms-1",children:[Number(u).toFixed(1),"  ",x," resea",x===1?"":"s"]})]})}return n.jsxs("div",{children:[n.jsx("div",{className:"d-flex align-items-center justify-content-between mb-3",children:n.jsx("h3",{className:"mb-0",children:"Reportes de Reseas Pendientes"})}),t&&n.jsx("div",{className:"alert alert-info mt-3 mb-0",children:"Cargando..."}),s&&n.jsx("div",{className:"alert alert-danger mt-3 mb-0",children:s}),r&&n.jsx("div",{className:"alert alert-success mt-3 mb-0",children:r}),n.jsx("div",{className:"row row-cols-1 g-4 mt-2",children:e.map(u=>{var y;const x=u.publication,v=u.review;return n.jsx("div",{className:"col",children:n.jsx("div",{className:"card shadow-sm h-100",children:n.jsxs("div",{className:"card-body",children:[n.jsx("div",{className:"border rounded p-3 mb-3",onClick:()=>p(x),style:{cursor:"pointer"},children:n.jsxs("div",{className:"row",children:[n.jsx("div",{className:"col-md-8",children:n.jsx("div",{className:"d-flex justify-content-between align-items-start",children:n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:x.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",x.address?`${x.address}, `:"",x.city,", ",x.province,x.country?`, ${x.country}`:""]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"mb-2",children:n.jsx(g,{avg:x.rating_avg,count:x.rating_count})}),n.jsx("div",{className:"d-flex flex-wrap gap-1",children:(x.categories||[]).map(b=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:b},b))})]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:n.jsxs("span",{className:"text-success fw-bold",children:["$",x.cost_per_day||0]})})]})})}),n.jsx("div",{className:"col-md-4",children:((y=x.photos)==null?void 0:y.length)>0?n.jsx("img",{src:x.photos[0],className:"img-fluid rounded",alt:x.place_name,style:{height:120,width:"100%",objectFit:"cover"}}):n.jsx("div",{className:"text-muted text-center p-4 border rounded",children:"Sin fotos"})})]})}),n.jsxs("div",{className:"border rounded p-3 mb-3 bg-light",children:[n.jsx("h6",{className:"mb-2",children:n.jsx("span",{className:"badge bg-warning text-dark",children:" Resea Reportada"})}),n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("div",{children:[n.jsx(Tn,{value:v.rating}),n.jsxs("small",{className:"text-muted ms-2",children:["por ",v.author_username]})]}),n.jsx("small",{className:"text-muted",children:new Date(v.created_at).toLocaleString()})]}),v.comment&&n.jsx("p",{className:"mb-2",style:{whiteSpace:"pre-wrap"},children:v.comment})]}),n.jsxs("div",{className:"border rounded p-3 mb-3",children:[n.jsx("h6",{className:"mb-2",children:"Detalles del Reporte"}),n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Reportado por:"})," ",u.reporter_username]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Fecha del reporte:"})," ",new Date(u.created_at).toLocaleString()]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Motivo:"})," ",n.jsx("span",{className:"badge bg-danger",children:u.reason})]}),u.comments&&n.jsxs("div",{children:[n.jsx("strong",{children:"Comentarios adicionales:"}),n.jsx("p",{className:"mt-1 mb-0",style:{whiteSpace:"pre-wrap"},children:u.comments})]})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-success flex-fill",onClick:()=>a(u.id),children:" Aprobar Reporte (Eliminar Resea)"}),n.jsx("button",{className:"btn btn-secondary flex-fill",onClick:()=>l(u.id),children:" Rechazar Reporte"})]})]})})},u.id)})}),!t&&e.length===0&&n.jsx("div",{className:"alert alert-secondary mt-3",children:"No hay reportes de reseas pendientes."}),n.jsx(fr,{open:i,pub:c,me:{},onClose:()=>o(!1),onToggleFavorite:()=>{}})]})}function kx({token:e,me:t}){const[s,r]=m.useState([]),[a,l]=m.useState(!0),[i,o]=m.useState(""),[c,d]=m.useState("desc"),[p,g]=m.useState(!1),[u,x]=m.useState(null);function v(b){x(b),g(!0)}async function y(b){try{const h=await Z(`/api/publications/${b}/favorite`,{method:"POST",token:e});r(f=>f.map(j=>j.id===b?{...j,is_favorite:h.is_favorite}:j)),u&&u.id===b&&x(f=>({...f,is_favorite:h.is_favorite}))}catch(h){o(h.message)}}return m.useEffect(()=>{let b=!1;return(async()=>{try{l(!0),o("");const h=await fetch(`/api/suggestions?sort=${c}`,{headers:{Authorization:`Bearer ${e}`},cache:"no-store"});if(!h.ok){const j=await h.json().catch(()=>({}));throw new Error(j.detail||`HTTP ${h.status}`)}const f=await h.json();b||r(Array.isArray(f)?f:[])}catch(h){b||o(h.message||"Error al cargar sugerencias")}finally{b||l(!1)}})(),()=>{b=!0}},[e,c]),n.jsxs("div",{className:"container py-3",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[n.jsxs("h2",{className:"mb-0",children:[" Sugerencias para ",(t==null?void 0:t.first_name)||(t==null?void 0:t.username)]}),!a&&s.length>0&&!i&&n.jsxs("div",{style:{maxWidth:"250px"},children:[n.jsx("label",{htmlFor:"sort-select",className:"form-label small text-muted mb-1",children:"Ordenar por"}),n.jsxs("select",{id:"sort-select",className:"form-select form-select-sm",value:c,onChange:b=>d(b.target.value),children:[n.jsx("option",{value:"desc",children:"Mayor Coincidencia"}),n.jsx("option",{value:"asc",children:"Menor Coincidencia"})]})]})]}),n.jsxs("div",{className:"alert alert-info mb-4",children:[n.jsx("strong",{children:"Tip:"})," Estas sugerencias se basan en tus preferencias de viaje. Asegrate de tener tus preferencias actualizadas para obtener mejores recomendaciones."]}),a&&n.jsx("div",{className:"alert alert-info",children:"Cargando sugerencias"}),i&&n.jsx("div",{className:"alert alert-danger",children:i}),!a&&s.length===0&&!i&&n.jsx("div",{className:"alert alert-secondary",children:"No hay sugerencias an. Complet tus preferencias para ver resultados personalizados."}),!a&&s.length>0&&!i&&n.jsx(n.Fragment,{children:n.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mt-2",children:s.map(b=>{var h;return n.jsx("div",{className:"col",children:n.jsxs("div",{className:"card shadow-sm h-100",onClick:()=>v(b),style:{cursor:"pointer"},children:[n.jsx("div",{className:"card-body pb-0",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:b.place_name}),n.jsxs("small",{className:"text-muted",children:[" ",b.address?`${b.address}, `:"",b.city,", ",b.province,b.country?`, ${b.country}`:""]}),n.jsxs("div",{className:"mt-2 d-flex flex-wrap gap-2",children:[n.jsx(At,{avg:b.rating_avg,count:b.rating_count}),(b.categories||[]).map(f=>n.jsx("span",{className:"badge bg-secondary-subtle text-secondary border text-capitalize",children:f},f))]}),n.jsx("p",{className:"card-text mt-2 mb-0",children:n.jsxs("span",{className:"text-success fw-bold",children:["$",b.cost_per_day]})})]}),n.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:f=>{f.stopPropagation(),y(b.id)},style:{fontSize:"1.5rem",textDecoration:"none"},title:b.is_favorite?"Quitar de favoritos":"Agregar a favoritos",children:b.is_favorite?"":""})]})}),(h=b.photos)!=null&&h.length?n.jsxs("div",{id:`home-carousel-${b.id}`,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:b.photos.map((f,j)=>n.jsx("div",{className:`carousel-item ${j===0?"active":""}`,children:n.jsx("img",{src:f,className:"d-block w-100",alt:`Foto ${j+1}`,style:{height:260,objectFit:"cover"}})},f))}),b.photos.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#home-carousel-${b.id}`,"data-bs-slide":"prev",children:n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"})}),n.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#home-carousel-${b.id}`,"data-bs-slide":"next",children:n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"})})]})]}):n.jsx("div",{className:"p-4 text-center text-muted",children:"Sin fotos"}),n.jsxs("div",{className:"card-footer bg-white d-flex justify-content-between align-items-center",children:[n.jsxs("small",{className:"text-muted",children:["Creado: ",new Date(b.created_at).toLocaleString()]}),n.jsx("button",{className:"btn btn-sm btn-celeste",onClick:f=>{f.stopPropagation(),v(b)},children:"Ver Detalles"})]})]})},b.id)})})}),n.jsx(Fn,{open:p,pub:u,token:e,me:t,onClose:()=>g(!1),onToggleFavorite:y})]})}function _x(){const{id:e}=Gu(),t=mr(),s=localStorage.getItem("token")||"",[r,a]=m.useState(""),[l,i]=m.useState(""),[o,c]=m.useState(!1),[d,p]=m.useState(""),[g,u]=m.useState("");async function x(v){if(v.preventDefault(),p(""),u(""),!r.trim()){p("Ingres un correo vlido.");return}c(!0);try{await Z(`/api/itineraries/${e}/share-email`,{method:"POST",token:s,body:{to:r.trim(),note:l.trim()||void 0}}),u("Itinerario enviado por email!"),a(""),i("")}catch(y){p(y.message||"No se pudo enviar el email.")}finally{c(!1)}}return n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[n.jsx("h3",{className:"mb-0",children:"Compartir Itinerario"}),n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>t(-1),children:"Volver"})]}),n.jsx("div",{className:"card shadow-sm",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h5",{className:"card-title mb-3",children:" Enviar por correo"}),n.jsx("p",{className:"text-muted",style:{marginTop:-6},children:"Mand este itinerario por email a quien quieras. (Similar a Invitar amigos a Plan&Go)"}),d&&n.jsx("div",{className:"alert alert-danger",children:d}),g&&n.jsx("div",{className:"alert alert-success",children:g}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Correo del destinatario"}),n.jsx("input",{type:"email",className:"form-control",placeholder:"ej: alguien@correo.com",value:r,onChange:v=>a(v.target.value),required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Mensaje (opcional)"}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Te paso el itinerario ",value:l,onChange:v=>i(v.target.value)})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>t(-1),children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom",disabled:o,children:o?"Enviando...":"Enviar itinerario"})]})]}),n.jsx("hr",{className:"my-4"}),n.jsx("small",{className:"text-muted",children:"Consejo: si el correo no llega, revis la carpeta de spam o consult a soporte."})]})})]})}function Px({token:e}){const[t,s]=m.useState(""),[r,a]=m.useState(!1),[l,i]=m.useState(""),[o,c]=m.useState("");async function d(p){p.preventDefault(),i(""),c("");const g=t.trim();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)){c("Ingres un correo vlido.");return}try{a(!0);const u=await fetch("/api/invitations/send",{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:JSON.stringify({email:g})});if(!u.ok){if(u.status===403)throw new Error("Funcin disponible solo para usuarios premium.");const x=await u.json().catch(()=>null);throw new Error((x==null?void 0:x.detail)||`Error ${u.status}`)}i("Invitacin enviada! Tu amigo recibir un correo de Plan&Go."),s("")}catch(u){c((u==null?void 0:u.message)||"No pudimos enviar la invitacin. Intent nuevamente en un rato.")}finally{a(!1)}}return n.jsx("div",{className:"card shadow-sm",style:{maxWidth:640,margin:"0 auto"},children:n.jsxs("div",{className:"card-body",children:[n.jsx("h3",{className:"card-title mb-2",children:" Invitar amigos a Plan&Go"}),n.jsx("p",{className:"text-muted mb-4",children:"Envi una invitacin por correo para que se unan a la app y planifiquen itinerarios con vos."}),n.jsxs("form",{onSubmit:d,children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Correo del amigo"}),n.jsx("input",{type:"email",className:"form-control",placeholder:"ej: amiga@mail.com",value:t,onChange:p=>s(p.target.value),required:!0})]}),o&&n.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:o}),l&&n.jsx("div",{className:"alert alert-success py-2",role:"alert",children:l}),n.jsx("button",{type:"submit",className:"btn btn-outline-custom",disabled:r,children:r?"Enviando...":"Enviar invitacin"})]})]})})}function Dx({token:e,me:t}){var Je;const[s,r]=m.useState("benefits"),[a,l]=m.useState(0),[i,o]=m.useState([]),[c,d]=m.useState([]),[p,g]=m.useState([]),[u,x]=m.useState(new Set),[v,y]=m.useState(!1),[b,h]=m.useState(""),[f,j]=m.useState(!1),[w,N]=m.useState(!1),[I,F]=m.useState(!1),[_,V]=m.useState(null),[A,te]=m.useState(null),[Y,re]=m.useState(null),[le,G]=m.useState(""),[U,Q]=m.useState(""),[L,D]=m.useState(""),[B,k]=m.useState(""),[S,O]=m.useState([]);m.useEffect(()=>{J(),ue()},[]),m.useEffect(()=>{const $=()=>{document.hidden||J()};return document.addEventListener("visibilitychange",$),()=>{document.removeEventListener("visibilitychange",$)}},[]),m.useEffect(()=>{t!=null&&t.id&&J()},[t==null?void 0:t.id,e]),m.useEffect(()=>{if(c.length===0){O([]);return}try{let $=[...c];if(le.trim()){const X=le.toLowerCase();$=$.filter(se=>{var ge,Te,mt,E,q,H;try{return se.title&&se.title.toLowerCase().includes(X)||se.description&&se.description.toLowerCase().includes(X)||((ge=se.publication)==null?void 0:ge.place_name)&&se.publication.place_name.toLowerCase().includes(X)||((Te=se.publication)==null?void 0:Te.city)&&se.publication.city.toLowerCase().includes(X)||((mt=se.publication)==null?void 0:mt.province)&&se.publication.province.toLowerCase().includes(X)||((E=se.publication)==null?void 0:E.country)&&se.publication.country.toLowerCase().includes(X)||((q=se.publication)==null?void 0:q.continent)&&se.publication.continent.toLowerCase().includes(X)||((H=se.publication)==null?void 0:H.activities)&&Array.isArray(se.publication.activities)&&se.publication.activities.some(C=>C&&C.toLowerCase().includes(X))}catch(C){return console.warn("Error filtering benefit:",C,se),!1}})}if(U)if(U==="no-discount")$=$.filter(X=>!X.discount_percentage);else{const[X,se]=U.split("-").map(Number);$=$.filter(ge=>{const Te=ge.discount_percentage||0;return Te>=X&&(se?Te<=se:!0)})}if(L){const[X,se]=L.split("-").map(Number);$=$.filter(ge=>{try{const Te=he(ge);return Te>=X&&(se?Te<=se:!0)}catch(Te){return console.warn("Error calculating points for benefit:",Te,ge),!1}})}B&&($=$.filter(X=>{var se;try{return((se=X.publication)==null?void 0:se.activities)&&Array.isArray(X.publication.activities)&&X.publication.activities.some(ge=>ge&&ge.toLowerCase().includes(B.toLowerCase()))}catch(ge){return console.warn("Error filtering by activity:",ge,X),!1}})),O($)}catch($){console.error("Error in benefits filtering:",$),O([])}},[c,le,U,L,B]);async function J(){y(!0);try{const $=await Z("/api/users/points",{token:e});l($.points||0)}catch($){console.error("Error al cargar puntos:",$),l(0)}finally{y(!1)}}async function ne(){y(!0),h("");try{const $=await Z("/api/users/points/movements",{token:e});o($||[])}catch($){console.error("Error al cargar movimientos:",$),h("Error al cargar el historial de puntos")}finally{y(!1)}}async function ue(){y(!0),h("");try{const $=await Z("/api/users/benefits",{token:e});d($||[]);const X=await Z("/api/users/my-benefits",{token:e}),se=new Set(X.map(ge=>ge.benefit.publication.id));x(se)}catch($){console.error("Error al cargar beneficios:",$),h("Error al cargar los beneficios premium")}finally{y(!1)}}async function pe(){y(!0),h("");try{const $=await Z("/api/users/my-benefits",{token:e});g($||[])}catch($){console.error("Error al cargar mis beneficios:",$),h("Error al cargar mis beneficios")}finally{y(!1)}}async function ke($){try{y(!0);const X=await Z(`/api/users/benefits/${$}/redeem`,{method:"POST",token:e});l(X.remaining_points),x(se=>new Set([...se,_.publication.id])),j(!1),V(null),alert(`Beneficio obtenido! Cdigo: ${X.voucher_code}`)}catch(X){h(X.detail||"Error al obtener el beneficio")}finally{y(!1)}}function he($){try{return $&&typeof $.discount_percentage=="number"&&$.discount_percentage>0?$.discount_percentage*2:20}catch(X){return console.warn("Error calculating points cost:",X,$),20}}function Pe($){V($),j(!0)}function jt($){te($),N(!0)}function ye($){re($),F(!0)}function Me($){r($),$==="movements"?ne():$==="benefits"?ue():$==="my-benefits"&&pe()}const rt=$=>new Date($).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),yt=$=>{switch($){case"review_earned":return"";case"invitation_bonus":return"";case"bonus":return"";case"redeemed":return"";default:return""}},De=$=>{switch($.transaction_type){case"review_earned":return`Puntos ganados por resea: "${$.description}"`;case"invitation_bonus":return`Puntos por invitar a: ${$.description}`;case"bonus":return`Bonus especial: ${$.description}`;case"redeemed":return`Puntos canjeados: ${$.description}`;default:return $.description||"Movimiento de puntos"}};return n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[n.jsx("h3",{className:"mb-0",children:" Beneficios Premium"}),n.jsxs("div",{className:"badge bg-warning text-dark fs-6 px-3 py-2",children:[" ",v?"...":a," puntos"]})]}),b&&n.jsx("div",{className:"alert alert-danger",children:b}),n.jsxs("div",{className:"d-flex mb-4 border-bottom",children:[n.jsx("button",{className:`btn pb-2 ${s==="benefits"?"border-bottom border-3 border-primary fw-bold":"text-muted"}`,onClick:()=>Me("benefits"),children:" Beneficios disponibles"}),n.jsx("button",{className:`btn pb-2 ${s==="my-benefits"?"border-bottom border-3 border-primary fw-bold":"text-muted"}`,onClick:()=>Me("my-benefits"),children:" Mis descuentos"}),n.jsx("button",{className:`btn pb-2 ${s==="movements"?"border-bottom border-3 border-primary fw-bold":"text-muted"}`,onClick:()=>Me("movements"),children:" Historial de puntos"})]}),s==="benefits"&&n.jsxs("div",{children:[n.jsxs("div",{className:"row mb-4",children:[n.jsx("div",{className:"col-lg-6",children:n.jsx("div",{className:"card shadow-sm border-warning",children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx("div",{className:"display-4 text-warning mb-3",children:""}),n.jsx("h4",{className:"mb-2",children:"Tus puntos actuales"}),n.jsx("div",{className:"display-5 fw-bold mb-3",style:{color:"#3A92B5"},children:v?"...":a}),n.jsx("p",{className:"text-muted",children:"Gan ms puntos escribiendo reseas detalladas"})]})})}),n.jsx("div",{className:"col-lg-6",children:n.jsxs("div",{className:"card shadow-sm",children:[n.jsx("div",{className:"card-header bg-light",children:n.jsx("h5",{className:"mb-0",children:" Cmo ganar puntos?"})}),n.jsx("div",{className:"card-body",children:n.jsxs("ul",{className:"list-unstyled mb-0",children:[n.jsx("li",{className:"mb-3",children:n.jsxs("div",{className:"d-flex align-items-center",children:[n.jsx("span",{className:"me-3 fs-4",children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Escribir reseas"}),n.jsx("br",{}),n.jsx("small",{className:"text-muted",children:"+10 puntos por resea detallada"})]})]})}),n.jsx("li",{className:"mb-3",children:n.jsxs("div",{className:"d-flex align-items-center",children:[n.jsx("span",{className:"me-3 fs-4",children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Invitar un amigo"}),n.jsx("br",{}),n.jsx("small",{className:"text-muted",children:"+50 puntos por invitacin exitosa"})]})]})})]})})]})})]}),n.jsx("h5",{className:"mb-4",children:" Beneficios disponibles"}),n.jsx("div",{className:"card shadow-sm mb-4",children:n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"row g-3",children:[n.jsxs("div",{className:"col-12 col-md-6 col-lg-4",children:[n.jsx("label",{className:"form-label small fw-bold",children:" Buscar beneficios"}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Buscar por lugar, pas, actividad...",value:le,onChange:$=>G($.target.value)})]}),n.jsxs("div",{className:"col-12 col-md-6 col-lg-2",children:[n.jsx("label",{className:"form-label small fw-bold",children:" % Descuento"}),n.jsxs("select",{className:"form-select",value:U,onChange:$=>Q($.target.value),children:[n.jsx("option",{value:"",children:"Todos"}),n.jsx("option",{value:"no-discount",children:"Sin descuento"}),n.jsx("option",{value:"1-10",children:"1% - 10%"}),n.jsx("option",{value:"10-20",children:"10% - 20%"}),n.jsx("option",{value:"20-30",children:"20% - 30%"}),n.jsx("option",{value:"30-50",children:"30% - 50%"}),n.jsx("option",{value:"50",children:"50%+"})]})]}),n.jsxs("div",{className:"col-12 col-md-6 col-lg-2",children:[n.jsx("label",{className:"form-label small fw-bold",children:" Puntos"}),n.jsxs("select",{className:"form-select",value:L,onChange:$=>D($.target.value),children:[n.jsx("option",{value:"",children:"Todos"}),n.jsx("option",{value:"1-20",children:"1 - 20"}),n.jsx("option",{value:"20-40",children:"20 - 40"}),n.jsx("option",{value:"40-60",children:"40 - 60"}),n.jsx("option",{value:"60-100",children:"60 - 100"}),n.jsx("option",{value:"100",children:"100+"})]})]}),n.jsxs("div",{className:"col-12 col-md-6 col-lg-2",children:[n.jsx("label",{className:"form-label small fw-bold",children:" Actividad"}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: restaurante",value:B,onChange:$=>k($.target.value)})]}),n.jsx("div",{className:"col-12 col-md-6 col-lg-2 d-flex align-items-end",children:n.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",onClick:()=>{G(""),Q(""),D(""),k("")},children:" Limpiar"})})]}),!v&&n.jsx("div",{className:"mt-3 text-muted small",children:le||U||L||B?n.jsxs(n.Fragment,{children:["Mostrando ",S.length," de ",c.length," beneficios"]}):n.jsxs(n.Fragment,{children:[c.length," beneficios disponibles"]})})]})}),n.jsx("div",{className:"row g-4",children:v?n.jsxs("div",{className:"col-12 text-center py-4",children:[n.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Cargando beneficios..."]}):(le||U||L||B)&&S.length===0?n.jsx("div",{className:"col-12",children:n.jsxs("div",{className:"text-center py-4 text-muted",children:[n.jsx("div",{className:"mb-3",children:""}),n.jsx("p",{children:"No se encontraron beneficios con los filtros aplicados."}),n.jsx("small",{children:"Intenta modificar los criterios de bsqueda."})]})}):c.length===0?n.jsx("div",{className:"col-12",children:n.jsxs("div",{className:"text-center py-4 text-muted",children:[n.jsx("div",{className:"mb-3",children:""}),n.jsx("p",{children:"No hay beneficios disponibles en este momento."}),n.jsx("small",{children:"Agregamos nuevos descuentos y ofertas regularmente."})]})}):(le||U||L||B?S:c).map($=>{const X=he($),se=u.has($.publication.id);return n.jsx("div",{className:"col-md-6 col-lg-4",children:n.jsxs("div",{className:"card shadow-sm h-100",children:[n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"d-flex align-items-start justify-content-between mb-3",children:[n.jsx("h5",{className:"card-title mb-0 flex-grow-1",children:$.title}),$.discount_percentage&&n.jsxs("span",{className:"badge bg-success ms-2",children:["-",$.discount_percentage,"%"]}),$.benefit_type==="free_item"&&n.jsx("span",{className:"badge ms-2",style:{backgroundColor:"#3A92B5",color:"white"},children:"GRATIS"}),$.benefit_type==="upgrade"&&n.jsx("span",{className:"badge bg-warning text-dark ms-2",children:"UPGRADE"})]}),n.jsxs("h6",{className:"text-primary mb-2",children:[" ",$.publication.place_name]}),n.jsxs("p",{className:"text-muted small mb-2",children:[$.publication.city,", ",$.publication.province]}),n.jsx("p",{className:"mb-3",children:$.description}),n.jsx("div",{className:"bg-light p-2 rounded mb-3",children:n.jsxs("small",{className:"text-muted",children:[" ",n.jsxs("strong",{children:["Costo: ",X," puntos"]})]})}),$.terms_conditions&&n.jsx("div",{className:"bg-light p-2 rounded mb-3",children:n.jsxs("small",{className:"text-muted",children:[n.jsx("strong",{children:"Trminos:"})," ",$.terms_conditions]})})]}),n.jsx("div",{className:"card-footer bg-transparent",children:n.jsxs("div",{className:"d-grid gap-2",children:[n.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>ye($.publication),children:"Ver detalle de la publicacin"}),se?n.jsx("button",{className:"btn btn-success btn-sm",disabled:!0,children:" Obtenido!"}):n.jsx("button",{className:"btn btn-outline-custom btn-sm",onClick:()=>Pe($),disabled:a<X,children:a<X?"Puntos insuficientes":"Obtener beneficio"})]})})]})},$.id)})})]}),s==="my-benefits"&&n.jsx("div",{className:"row g-4",children:v?n.jsxs("div",{className:"col-12 text-center py-4",children:[n.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Cargando mis beneficios..."]}):p.length===0?n.jsx("div",{className:"col-12",children:n.jsxs("div",{className:"text-center py-4 text-muted",children:[n.jsx("div",{className:"mb-3",children:""}),n.jsx("p",{children:"No tienes beneficios canjeados an."}),n.jsx("small",{children:'Ve a la pestaa "Beneficios disponibles" para obtener descuentos.'})]})}):p.map($=>{const X=$.benefit;return n.jsx("div",{className:"col-md-6 col-lg-4",children:n.jsxs("div",{className:"card shadow-sm h-100 border-success",children:[n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"d-flex align-items-start justify-content-between mb-3",children:[n.jsx("h5",{className:"card-title mb-0 flex-grow-1",children:X.title}),n.jsx("span",{className:"badge bg-success",children:"ACTIVO"})]}),n.jsxs("h6",{className:"text-primary mb-2",children:[" ",X.publication.place_name]}),n.jsxs("p",{className:"text-muted small mb-2",children:[X.publication.city,", ",X.publication.province]}),n.jsx("p",{className:"mb-3",children:X.description}),n.jsx("div",{className:"bg-light p-2 rounded mb-3",children:n.jsxs("small",{className:"text-muted",children:[n.jsx("strong",{children:"Obtenido:"})," ",new Date($.obtained_at).toLocaleDateString("es-ES"),n.jsx("br",{}),n.jsx("strong",{children:"Cdigo:"})," ",$.voucher_code]})})]}),n.jsx("div",{className:"card-footer bg-transparent",children:n.jsxs("div",{className:"d-grid gap-2",children:[n.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>ye(X.publication),children:"Ver detalle de la publicacin"}),n.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>jt($),children:" Mostrar comprobante"})]})})]})},$.id)})}),s==="movements"&&n.jsxs("div",{className:"card shadow-sm",children:[n.jsx("div",{className:"card-header",children:n.jsx("h5",{className:"mb-0",children:" Historial de movimientos"})}),n.jsx("div",{className:"card-body",children:v?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Cargando movimientos..."]}):i.length===0?n.jsxs("div",{className:"text-center py-4 text-muted",children:[n.jsx("div",{className:"mb-3",children:""}),n.jsx("p",{children:"An no tens movimientos de puntos."}),n.jsx("small",{children:"Comenz a escribir reseas o invitar amigos para ganar tus primeros puntos."})]}):n.jsx("div",{className:"table-responsive",children:n.jsxs("table",{className:"table table-hover align-middle",children:[n.jsx("thead",{className:"table-light",children:n.jsxs("tr",{children:[n.jsx("th",{children:"Fecha"}),n.jsx("th",{children:"Descripcin"}),n.jsx("th",{className:"text-end",children:"Puntos"})]})}),n.jsx("tbody",{children:i.map(($,X)=>n.jsxs("tr",{children:[n.jsx("td",{className:"text-muted small",children:rt($.created_at)}),n.jsx("td",{children:n.jsxs("div",{className:"d-flex align-items-center",children:[n.jsx("span",{className:"me-2",children:yt($.transaction_type)}),n.jsx("span",{children:De($)})]})}),n.jsx("td",{className:"text-end",children:n.jsxs("span",{className:`fw-bold ${$.points>0?"text-success":"text-danger"}`,children:[$.points>0?"+":"",$.points]})})]},$.id||X))})]})})})]}),f&&_&&n.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx("div",{className:"modal-dialog",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h5",{className:"modal-title",children:" Confirmar beneficio"}),n.jsx("button",{type:"button",className:"btn-close",onClick:()=>j(!1)})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"text-center mb-3",children:[n.jsx("h5",{children:_.title}),n.jsxs("p",{className:"text-muted",children:[" ",_.publication.place_name]})]}),n.jsxs("div",{className:"alert alert-warning",children:[n.jsx("strong",{children:"Ests seguro de querer obtener este beneficio?"}),n.jsx("br",{}),"Se descontarn ",n.jsxs("strong",{children:[he(_)," puntos"]})," de tu cuenta."]}),n.jsx("div",{className:"bg-light p-3 rounded",children:n.jsxs("small",{children:[n.jsx("strong",{children:"Puntos actuales:"})," ",a,n.jsx("br",{}),n.jsx("strong",{children:"Costo del beneficio:"})," -",he(_),n.jsx("br",{}),n.jsx("strong",{children:"Puntos restantes:"})," ",a-he(_)]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(!1),children:"No, cancelar"}),n.jsx("button",{type:"button",className:"btn btn-outline-custom",onClick:()=>ke(_.id),disabled:v,children:v?"Procesando...":"S, obtener beneficio"})]})]})})}),w&&A&&n.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx("div",{className:"modal-dialog",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h5",{className:"modal-title",children:" Comprobante de beneficio"}),n.jsx("button",{type:"button",className:"btn-close",onClick:()=>N(!1)})]}),n.jsx("div",{className:"modal-body text-center",children:n.jsxs("div",{className:"border rounded p-4 bg-light",children:[n.jsx("h4",{className:"mb-3",style:{color:"#3A92B5"},children:"Plan&Go Premium"}),A.benefit.discount_percentage&&n.jsxs("div",{className:"badge bg-success fs-6 mb-3",children:["-",A.benefit.discount_percentage,"% DESCUENTO"]}),n.jsx("h5",{className:"mb-2",children:A.benefit.title}),n.jsx("p",{className:"mb-2",children:n.jsxs("strong",{children:[" ",A.benefit.publication.place_name]})}),n.jsxs("p",{className:"text-muted small mb-3",children:[A.benefit.publication.address,n.jsx("br",{}),A.benefit.publication.city,", ",A.benefit.publication.province]}),n.jsx("hr",{}),n.jsxs("div",{className:"row text-start",children:[n.jsx("div",{className:"col-6",children:n.jsx("small",{children:n.jsx("strong",{children:"Usuario:"})})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{children:(t==null?void 0:t.username)||"Usuario Premium"})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{children:n.jsx("strong",{children:"Cdigo:"})})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{className:"font-monospace",children:A.voucher_code})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{children:n.jsx("strong",{children:"N Beneficio:"})})}),n.jsx("div",{className:"col-6",children:n.jsxs("small",{children:["#",String(A.id).padStart(6,"0")]})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{children:n.jsx("strong",{children:"Vlido desde:"})})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{children:new Date(A.obtained_at).toLocaleDateString("es-ES")})}),A.benefit.publication.original_price&&A.benefit.discount_percentage&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"col-6",children:n.jsx("small",{children:n.jsx("strong",{children:"Precio original:"})})}),n.jsx("div",{className:"col-6",children:n.jsxs("small",{children:["$",A.benefit.publication.original_price]})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{children:n.jsx("strong",{children:"Precio con descuento:"})})}),n.jsx("div",{className:"col-6",children:n.jsx("small",{className:"text-success",children:n.jsxs("strong",{children:["$",(Je=A.benefit.publication.discounted_price)==null?void 0:Je.toFixed(2)]})})})]})]}),n.jsx("hr",{}),n.jsxs("div",{className:"bg-white border rounded p-3 mb-3",children:[n.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto",backgroundColor:"#000",display:"grid",gridTemplate:"repeat(12, 1fr) / repeat(12, 1fr)",gap:"1px"},children:Array.from({length:144}).map(($,X)=>n.jsx("div",{style:{backgroundColor:Math.random()>.5?"#000":"#fff"}},X))}),n.jsx("small",{className:"text-muted mt-2",children:"Cdigo QR nico"})]}),n.jsx("small",{className:"text-muted",children:"Presenta este comprobante en el establecimiento para aplicar tu beneficio."})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>N(!1),children:"Cerrar"}),n.jsx("button",{type:"button",className:"btn btn-outline-custom",onClick:()=>window.print(),children:" Imprimir/Guardar"})]})]})})}),I&&Y&&n.jsx(Fn,{open:I,pub:Y,onClose:()=>F(!1),me:t,token:e})]})}function Rx({onNavigate:e}){return n.jsxs("div",{className:"container mt-4",children:[n.jsx("div",{className:"row justify-content-center",children:n.jsxs("div",{className:"col-lg-8",children:[n.jsxs("div",{className:"text-center mb-5",children:[n.jsx("h2",{className:"mb-3",children:" Generar Itinerario"}),n.jsx("p",{className:"text-muted",children:"Elige cmo quieres crear tu prximo itinerario de viaje"})]}),n.jsxs("div",{className:"row g-4",children:[n.jsx("div",{className:"col-md-6",children:n.jsx("div",{className:"card shadow-sm h-100 border-0 hover-card",style:{cursor:"pointer"},children:n.jsxs("div",{className:"card-body text-center p-5",children:[n.jsx("div",{className:"mb-4",style:{fontSize:"4rem"},children:""}),n.jsx("h4",{className:"card-title mb-3",style:{color:"#3A92B5"},children:"Personalizado"}),n.jsx("p",{className:"card-text text-muted mb-4",children:"Crea tu itinerario paso a paso, agregando lugares especficos y organizando tu viaje segn tus preferencias personales."}),n.jsx("div",{className:"mb-4",children:n.jsxs("small",{className:"text-muted",children:[n.jsx("strong",{children:"Incluye:"}),n.jsx("br",{})," Control total sobre el itinerario",n.jsx("br",{})," Seleccin manual de lugares",n.jsx("br",{})," Organizacin personalizada",n.jsx("br",{})," Gestin de tiempos y actividades"]})}),n.jsx("button",{className:"btn btn-outline-custom btn-lg",onClick:()=>e("itinerary-custom"),children:"Crear Personalizado"})]})})}),n.jsx("div",{className:"col-md-6",children:n.jsx("div",{className:"card shadow-sm h-100 border-0 hover-card",style:{cursor:"pointer"},children:n.jsxs("div",{className:"card-body text-center p-5",children:[n.jsx("div",{className:"mb-4",style:{fontSize:"4rem"},children:""}),n.jsx("h4",{className:"card-title text-success mb-3",children:"Con IA"}),n.jsx("p",{className:"card-text text-muted mb-4",children:"Deja que nuestra inteligencia artificial genere un itinerario completo basado en tus preferencias, presupuesto y fechas."}),n.jsx("div",{className:"mb-4",children:n.jsxs("small",{className:"text-muted",children:[n.jsx("strong",{children:"Incluye:"}),n.jsx("br",{})," Generacin automtica inteligente",n.jsx("br",{})," Recomendaciones personalizadas",n.jsx("br",{})," Optimizacin de rutas y tiempos",n.jsx("br",{})," Lugares verificados de la plataforma"]})}),n.jsx("button",{className:"btn btn-success btn-lg",onClick:()=>e("itinerary-ai"),children:"Generar con IA"})]})})})]}),n.jsx("div",{className:"text-center mt-5",children:n.jsxs("div",{className:"alert alert-light",children:[n.jsx("h6",{className:"mb-2",children:" No sabes cul elegir?"}),n.jsxs("p",{className:"mb-0 small text-muted",children:["Si es tu primera vez, recomendamos usar ",n.jsx("strong",{children:"Con IA"})," para obtener sugerencias inteligentes que puedes personalizar despus."]})]})})]})}),n.jsx("style",{jsx:!0,children:`
        .hover-card {
          transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        
        .hover-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
        }
      `})]})}function Ix({availableDays:e}){const t=[{key:"domingo",short:"Dom",label:"Domingo"},{key:"lunes",short:"Lun",label:"Lunes"},{key:"martes",short:"Mar",label:"Martes"},{key:"mircoles",short:"Mi",label:"Mircoles"},{key:"jueves",short:"Jue",label:"Jueves"},{key:"viernes",short:"Vie",label:"Viernes"},{key:"sbado",short:"Sb",label:"Sbado"}];if(!e||e.length===0)return null;const s=e.map(r=>r.toLowerCase().trim());return n.jsxs("div",{className:"mb-2",children:[n.jsx("small",{className:"text-muted d-block mb-1",children:" Disponible:"}),n.jsx("div",{className:"d-flex gap-1 flex-wrap",children:t.map(r=>{const a=s.includes(r.key.toLowerCase());return n.jsx("span",{className:`badge ${a?"bg-success":"bg-light text-muted"} small`,style:{fontSize:"0.7rem",minWidth:"35px"},title:r.label,children:r.short},r.key)})})]})}function Tx({availableHours:e}){return!e||e.length===0?null:n.jsxs("div",{className:"mb-2",children:[n.jsx("small",{className:"text-muted d-block mb-1",children:" Horarios:"}),n.jsx("div",{className:"d-flex gap-1 flex-wrap",children:e.map((t,s)=>n.jsx("span",{className:"badge small",style:{fontSize:"0.7rem",backgroundColor:"#3A92B5",color:"white"},children:t},s))})]})}function sm({durationMin:e}){if(!e||e<=0)return null;const t=s=>{if(s<60)return`${s} min`;{const r=Math.floor(s/60),a=s%60;return a===0?`${r}h`:`${r}h ${a}m`}};return n.jsx("div",{className:"mb-2",children:n.jsxs("span",{className:"badge bg-info text-white",style:{fontSize:"0.8rem"},children:[" ",t(e)]})})}function rm({publication:e}){const{duration_min:t,available_days:s,available_hours:r}=e;return!t&&(!s||s.length===0)&&(!r||r.length===0)?null:n.jsxs("div",{className:"availability-info mt-2 p-2 bg-light rounded",children:[n.jsx(sm,{durationMin:t}),n.jsx(Ix,{availableDays:s}),n.jsx(Tx,{availableHours:r})]})}function $x({photos:e=[],publicationId:t,height:s=260,carouselPrefix:r="carousel"}){if(!e||e.length===0)return n.jsx("div",{className:"p-4 text-center text-muted",style:{height:s},children:"Sin fotos"});const a=`${r}-${t}`;return n.jsxs("div",{id:a,className:"carousel slide","data-bs-ride":"false",children:[n.jsx("div",{className:"carousel-inner",children:e.map((l,i)=>n.jsx("div",{className:`carousel-item ${i===0?"active":""}`,children:n.jsx("img",{src:l,className:"d-block w-100",alt:`Foto ${i+1}`,style:{height:s,objectFit:"cover"}})},l))}),e.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#${a}`,"data-bs-slide":"prev",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},children:[n.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),n.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":`#${a}`,"data-bs-slide":"next",style:{filter:"drop-shadow(0 0 6px rgba(0,0,0,.4))"},children:[n.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})]})}function Lx({publication:e,carouselPrefix:t="carousel",showStatus:s=!1,showRating:r=!1,showFavorite:a=!1,showActions:l=!1,isFavorite:i=!1,onToggleFavorite:o,actions:c=null,footer:d=null,showDetails:p=!1}){const g=e;return n.jsxs("div",{className:`card shadow-sm h-100 ${g.status==="deleted"?"border-dark":""}`,children:[n.jsxs("div",{className:"card-body pb-0",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsx("h5",{className:"card-title mb-1",children:g.place_name}),n.jsxs("small",{className:"text-muted d-block",children:[g.address,", ",g.city,", ",g.province,", ",g.country]})]}),n.jsxs("div",{className:"d-flex flex-column align-items-end gap-2",children:[s&&n.jsx(dx,{status:g.status}),r&&g.avg_rating!=null&&n.jsx(At,{avg:g.avg_rating,count:g.review_count||0}),a&&n.jsx("button",{className:"btn btn-sm btn-link p-0",onClick:()=>o==null?void 0:o(g.id),title:i?"Quitar de favoritos":"Agregar a favoritos",children:n.jsx("span",{style:{fontSize:"1.5rem",color:i?"red":"#ccc"},children:i?"":""})}),l&&c]})]}),n.jsx(rm,{publication:g})]}),n.jsx($x,{photos:g.photos,publicationId:g.id,carouselPrefix:t}),(d||p||(g.status==="rejected"||g.status==="deleted")&&g.rejection_reason)&&n.jsxs("div",{className:"card-footer bg-white",children:[p&&n.jsx("small",{className:"text-muted d-block",children:g.created_at&&`Creado: ${new Date(g.created_at).toLocaleString()}`}),g.status==="rejected"&&g.rejection_reason&&n.jsxs("small",{className:"text-danger d-block mt-1",children:[" ",n.jsx("strong",{children:"Motivo:"})," ",g.rejection_reason]}),g.status==="deleted"&&g.rejection_reason&&n.jsxs("small",{className:"text-dark d-block mt-1",children:[" ",n.jsx("strong",{children:"Motivo:"})," ",g.rejection_reason]}),d]})]})}function Fx({me:e,token:t}){console.log(" [COMPONENT] CustomItinerary renderizado");const[s,r]=m.useState("setup");console.log(" [STATE] Step actual:",s);const[a,l]=m.useState(!1),[i,o]=m.useState(""),[c,d]=m.useState(""),[p,g]=m.useState(""),[u,x]=m.useState(""),[v,y]=m.useState(1),[b,h]=m.useState(0),[f,j]=m.useState(null),[w,N]=m.useState([]),[I,F]=m.useState({}),[_,V]=m.useState(!1),[A,te]=m.useState(null),[Y,re]=m.useState(!1),[le,G]=m.useState([]),[U,Q]=m.useState(!1),[L,D]=m.useState(null),[B,k]=m.useState(!1),[S,O]=m.useState(null),[J,ne]=m.useState(!1),[ue,pe]=m.useState(""),ke=E=>{O(E),k(!0)},he={morning:["06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],afternoon:["12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"],evening:["18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"]},Pe={morning:" MAANA (6:00 - 12:00)",afternoon:" TARDE (12:00 - 18:00)",evening:" NOCHE (18:00 - 23:00)"},jt=(E,q)=>{const H=[],C=new Date(E),T=new Date(q);for(let P=C;P<=T;P.setDate(P.getDate()+1))H.push(new Date(P));return H};async function ye(E,q=null,H=null){console.log(" Buscando publicaciones para destino:",E),console.log(" Fecha seleccionada:",q),console.log(" Horario seleccionado:",H),l(!0);try{const C=E.includes(",")?E.split(",")[0].trim():E;console.log(" Ciudad extrada para bsqueda:",C);let T=`/api/publications/search?destination=${encodeURIComponent(C)}`;q&&H&&(T+=`&date=${q}&time=${H}&persons=${v}`,console.log(" Aplicando filtros de disponibilidad")),console.log(" URL de bsqueda:",T),console.log(" Token:",localStorage.getItem("token")?"Presente":"Ausente");const P=await Z(T,{token:localStorage.getItem("token")});console.log(" Respuesta de publicaciones:",P),console.log(" Cantidad de publicaciones encontradas:",P?P.length:0),N(P||[])}catch(C){console.error(" Error en bsqueda de publicaciones:",C),o("Error al cargar publicaciones del destino"),console.error(C)}finally{l(!1)}}async function Me(){if(!c||!p||!u){o("Por favor completa todos los campos");return}const E=new Date(p),q=new Date(u);if(E>=q){o("La fecha de inicio debe ser anterior a la fecha de fin");return}const H=jt(p,u);if(H.length>30){o("El itinerario no puede ser mayor a 30 das");return}o("");const C={};H.forEach(T=>{const P=T.toISOString().split("T")[0];C[P]={morning:{},afternoon:{},evening:{}},Object.keys(he).forEach(z=>{he[z].forEach(K=>{C[P][z][K]=null})})}),j({days:H,itinerary:C}),await ye(c),r("building")}const rt=()=>[...he.morning,...he.afternoon,...he.evening],yt=(E,q)=>{const H=rt(),C=H.indexOf(E);if(C===-1)return[E];const T=Math.ceil(q/30),P=[];for(let z=0;z<T&&C+z<H.length;z++)P.push(H[C+z]);return P},De=E=>he.morning.includes(E)?"morning":he.afternoon.includes(E)?"afternoon":he.evening.includes(E)?"evening":"morning",Je=E=>{if(E.duration_min&&E.duration_min>0)return E.duration_min;const q=E.categories||[],H={museo:180,restaurante:90,teatro:150,cine:120,parque:240,playa:300,shopping:180,mercado:120,iglesia:60,mirador:90,bar:120,cafe:60,aventura:240,deportes:180,spa:180,cultura:150,gastronomia:90,"vida-nocturna":180};for(const C of q){const T=(typeof C=="string"?C:C.slug||C.name||"").toLowerCase();if(H[T])return H[T]}return 120};function $(E){if(console.log(" [DEBUG] addPublicationToSlot llamado con:",{publicationName:E==null?void 0:E.place_name,selectedSlot:A}),console.log(" [DEBUG] Cerrando modal de actividades..."),V(!1),!A){console.error(" [ERROR] selectedSlot es null/undefined:",A),pe("Error: No se ha seleccionado un horario. Por favor, intenta de nuevo."),ne(!0);return}const{dayKey:q,period:H,time:C}=A;console.log(" [DEBUG] Slot seleccionado:",{dayKey:q,period:H,time:C});const T=Je(E);console.log(" [DEBUG] Duracin calculada:",T,"minutos");const P=yt(C,T);console.log(" [DEBUG] Slots ocupados:",P),console.log(" [DEBUG] Verificando conflictos para slots:",P);const z=[],K=P.some(ee=>{const fe=De(ee),be=f.itinerary[q][fe][ee];console.log(` [CONFLICT CHECK] ${ee} en ${fe}:`,be);const at=be!=null;return at?(console.log(` [CONFLICT FOUND] Slot ${ee} est ocupado:`,be),z.push({slot:ee,period:fe,activity:be})):console.log(` [FREE SLOT] ${ee} est libre`),at});if(console.log(" [DEBUG] Detalles de conflictos:",z),console.log(" [DEBUG] Hay conflicto?",K),K){console.error(" [ERROR] Conflicto detectado - mostrando alerta detallada"),z.map(be=>`${be.slot} (${be.activity.place_name||"Actividad"})`).join(", ");const ee=Math.round(T/60*10)/10,fe=` Error al agregar actividad
      
 Actividad: ${E.place_name}
 Duracin: ${ee} horas (${T} minutos)
 Horario solicitado: ${C}
 Slots necesarios: ${P.join(", ")}

 CONFLICTOS DETECTADOS:
${z.map(be=>` ${be.slot}: ocupado por "${be.activity.place_name||be.activity}"`).join(`
`)}

 Sugerencia: Elige un horario donde todos los slots estn libres o selecciona una actividad ms corta.`;pe(fe),ne(!0);return}const ae={...E,duration_min:T,start_time:C,is_main_slot:!0};console.log(" [DEBUG] Datos de actividad creados:",ae),console.log(" [DEBUG] Iniciando actualizacin de itineraryData..."),j(ee=>{console.log(" [DEBUG] Estado anterior:",ee);const fe={...ee.itinerary};P.forEach(at=>{const zn=De(at);console.log(` [DEBUG] Procesando slot ${at} en periodo ${zn}`),fe[q]={...fe[q],[zn]:{...fe[q][zn],[at]:at===C?ae:{...E,duration_min:T,start_time:C,is_continuation:!0,main_slot_time:C}}}}),console.log(" [DEBUG] Nuevo itinerario creado:",fe);const be={...ee,itinerary:fe};return console.log(" [DEBUG] Retornando estado actualizado:",be),be}),F(ee=>{const fe={...ee};return P.forEach(be=>{const at=De(be);fe[`${q}-${at}-${be}`]=be===C?ae:{...E,is_continuation:!0,main_slot_time:C}}),console.log(" [DEBUG] selectedPublications actualizado:",fe),fe}),te(null),console.log(" [SUCCESS] Actividad agregada exitosamente:",E.place_name)}function X(E,q,H){try{if(console.log(" [DEBUG] Intentando eliminar actividad:",{dayKey:E,period:q,time:H}),!f||!f.itinerary){console.error(" itineraryData no disponible");return}if(!f.itinerary[E]){console.error(" Da no encontrado:",E),console.log(" Das disponibles:",Object.keys(f.itinerary));return}if(!f.itinerary[E][q]){console.error(" Perodo no encontrado:",q);return}const C=f.itinerary[E][q][H];if(console.log(" [DEBUG] Actividad actual:",C),!C){console.log(" No se encontr actividad para eliminar");return}const T=C.is_continuation?C.main_slot_time:H;console.log(" Tiempo de inicio principal:",T);let P=C;if(C.is_continuation){const z=De(T);P=f.itinerary[E][z][T],console.log(" Actividad principal encontrada:",P)}if(P&&P.duration_min){console.log(" Actividad principal vlida, duracion:",P.duration_min);const z=yt(T,P.duration_min);console.log(" Slots a limpiar:",z),j(K=>{console.log(" [DEBUG] Actualizando itineraryData...");const ae={...K.itinerary};return z.forEach(ee=>{const fe=De(ee);console.log(` [DEBUG] Limpiando slot ${ee} en perodo ${fe}`),ae[E]={...ae[E],[fe]:{...ae[E][fe],[ee]:null}}}),console.log("  Actividad eliminada exitosamente!"),{...K,itinerary:ae}}),F(K=>{const ae={...K};return z.forEach(ee=>{const fe=De(ee);delete ae[`${E}-${fe}-${ee}`]}),ae}),console.log(` Actividad "${P.place_name||"Sin nombre"}" eliminada correctamente`)}else console.log("  Actividad no tiene duration_min, eliminando solo este slot"),j(z=>({...z,itinerary:{...z.itinerary,[E]:{...z.itinerary[E],[q]:{...z.itinerary[E][q],[H]:null}}}})),console.log(" Slot eliminado exitosamente!"),F(z=>{const K={...z};return delete K[`${E}-${q}-${H}`],K})}catch(C){console.error("  Error eliminando actividad:",C)}}const se=async()=>{Q(!0);try{console.log(" Cargando itinerarios de IA..."),console.log(" Token:",t?"Presente":"Ausente");const E=await Z("/api/itineraries/ai-list",{token:t});console.log(" Respuesta completa del API:",E),console.log(" Tipo de respuesta:",typeof E,"Es array:",Array.isArray(E));let q=E;E&&typeof E=="object"&&!Array.isArray(E)&&(q=E.itineraries||E.data||E.results||[],console.log(" Extrayendo array del objeto. Resultado:",q));const H=Array.isArray(q)?q:[];console.log(" Cargados",H.length,"itinerarios de IA"),G(H)}catch(E){console.error(" Error cargando itinerarios de IA:",E),G([])}finally{Q(!1)}},ge=async E=>{try{console.log(" Convirtiendo itinerario de IA:",E.destination);const q={ai_itinerary_id:E.id,custom_destination:c||E.destination,custom_start_date:p,custom_end_date:u};console.log(" Enviando datos de conversin:",q);const H=await Z("/api/itineraries/convert-ai-to-custom",{method:"POST",token:t,body:q});console.log(" Respuesta completa del API conversin:",H),console.log(" Estructura de result:",{hasDestination:!!H.destination,hasStartDate:!!H.start_date,hasEndDate:!!H.end_date,hasDays:!!H.days,hasItinerary:!!H.itinerary,success:H.success}),console.log(" ANLISIS DETALLADO DEL ITINERARIO RECIBIDO:"),console.log(" Days array:",H.days),console.log(" Itinerary object keys:",Object.keys(H.itinerary||{})),H.itinerary&&Object.entries(H.itinerary).forEach(([C,T])=>{const P=Object.values(T).reduce((z,K)=>z+Object.keys(K).length,0);console.log(` ${C}: ${P} actividades`),Object.entries(T).forEach(([z,K])=>{Object.keys(K).length>0&&(console.log(`   ${z}: ${Object.keys(K).length} slots`),Object.entries(K).forEach(([ae,ee])=>{console.log(`     ${ae}: ${ee.place_name||"Sin ttulo"}`)}))})}),console.log(" Estableciendo itineraryData..."),j(H),console.log(" Estableciendo destination:",H.destination),d(H.destination),console.log(" Estableciendo startDate:",H.start_date),g(H.start_date),console.log(" Estableciendo endDate:",H.end_date),x(H.end_date),console.log(" Estableciendo convertedFrom..."),D(E),console.log(" Cargando publicaciones para destino:",H.destination),await ye(H.destination),console.log(" Cerrando modal y cambiando a building..."),re(!1),r("building"),console.log(" Todos los estados establecidos. Step actual:","building"),console.log(" Itinerario de IA pegado exitosamente")}catch(q){console.error(" Error convirtiendo itinerario:",q),o("Error al pegar el itinerario de IA: "+q.message)}},Te=E=>E.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});async function mt(){l(!0);try{const E={destination:c,start_date:p,end_date:u,cant_persons:v,budget:b,itinerary_data:f.itinerary,type:"custom"};console.log(" [DEBUG] Guardando itinerario con payload:",E),console.log(" [DEBUG] Personas:",v),console.log(" [DEBUG] Presupuesto:",b);const q=await Z("/api/itineraries/custom",{method:"POST",token:localStorage.getItem("token"),body:E});console.log(" [DEBUG] Respuesta del servidor:",q),alert("Itinerario personalizado guardado exitosamente!"),q&&q.id&&(console.log(" [DEBUG] Guardando ID del itinerario para mostrar:",q.id),localStorage.setItem("showItineraryId",q.id.toString())),console.log(" [DEBUG] Redirigiendo a home para mostrar itinerario"),window.location.href="/"}catch(E){o("Error al guardar el itinerario"),console.error(E)}finally{l(!1)}}return console.log(" [RENDER] Evaluando condiciones de renderizado. Step:",s,"ItineraryData:",!!f),s==="setup"?(console.log(" [RENDER] Renderizando setup step"),n.jsxs("div",{className:"container mt-4",children:[n.jsx("div",{className:"row justify-content-center",children:n.jsxs("div",{className:"col-lg-6",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("h3",{className:"mb-3",children:" Crear Itinerario Personalizado"}),n.jsx("p",{className:"text-muted",children:"Configura los detalles bsicos para comenzar a armar tu itinerario"})]}),i&&n.jsx("div",{className:"alert alert-danger",children:i}),n.jsx("div",{className:"card shadow-sm",children:n.jsx("div",{className:"card-body",children:n.jsxs("form",{onSubmit:E=>{E.preventDefault(),Me()},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:n.jsx("strong",{children:" Destino"})}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: Buenos Aires, Argentina",value:c,onChange:E=>d(E.target.value),required:!0}),n.jsx("small",{className:"text-muted",children:"Solo se mostrarn publicaciones de este destino"})]}),n.jsxs("div",{className:"row",children:[n.jsx("div",{className:"col-md-6",children:n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:n.jsx("strong",{children:" Fecha de inicio"})}),n.jsx("input",{type:"date",className:"form-control",value:p,onChange:E=>g(E.target.value),min:new Date().toISOString().split("T")[0],required:!0})]})}),n.jsx("div",{className:"col-md-6",children:n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:n.jsx("strong",{children:" Fecha de fin"})}),n.jsx("input",{type:"date",className:"form-control",value:u,onChange:E=>x(E.target.value),min:p||new Date().toISOString().split("T")[0],required:!0})]})})]}),n.jsxs("div",{className:"row",children:[n.jsx("div",{className:"col-md-6",children:n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:n.jsx("strong",{children:" Cantidad de personas"})}),n.jsx("input",{type:"number",className:"form-control",value:v,onChange:E=>y(parseInt(E.target.value)||1),min:"1",max:"20",required:!0})]})}),n.jsx("div",{className:"col-md-6",children:n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:n.jsx("strong",{children:" Presupuesto estimado (USD)"})}),n.jsx("input",{type:"number",className:"form-control",value:b,onChange:E=>h(parseInt(E.target.value)||0),min:"0",placeholder:"Presupuesto en USD"})]})})]}),n.jsxs("div",{className:"d-grid gap-2",children:[n.jsx("button",{type:"submit",className:"btn btn-outline-custom",disabled:a,children:a?"Preparando...":"Continuar"}),n.jsx("div",{className:"text-center my-2",children:n.jsx("small",{className:"text-muted",children:"o"})}),n.jsx("button",{type:"button",className:"btn btn-outline-info",onClick:()=>{console.log(' Botn "Pegar IA" clickeado'),console.log(" Estado actual showPasteModal:",Y),se(),re(!0),console.log(" setShowPasteModal(true) ejecutado"),setTimeout(()=>{console.log(" Estado showPasteModal despus de setTimeout:",Y)},100)},disabled:a,children:" Pegar itinerario de IA existente"})]})]})})}),n.jsx("div",{className:"text-center mt-3",children:n.jsx("small",{className:"text-muted",children:" Podrs agregar actividades personalizadas y elegir horarios especficos para cada da"})})]})}),console.log(" [RENDER] Evaluando condicin modal (dentro de setup):",Y,typeof Y),Y&&n.jsxs("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:[console.log(" [RENDER] Modal de Pegar IA renderizndose desde setup!"),n.jsx("div",{className:"modal-dialog modal-lg",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h5",{className:"modal-title",children:" Pegar Itinerario de IA"}),n.jsx("button",{type:"button",className:"btn-close",onClick:()=>re(!1)})]}),n.jsx("div",{className:"modal-body",children:U?n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"spinner-border",style:{color:"#3A92B5"},role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),n.jsx("p",{className:"mt-2",children:"Cargando tus itinerarios de IA..."})]}):le.length===0?n.jsxs("div",{className:"text-center p-4",children:[n.jsx("i",{className:"bi bi-inbox fs-1 text-muted"}),n.jsx("h6",{className:"mt-3",children:"No tienes itinerarios de IA"}),n.jsx("p",{className:"text-muted",children:"Primero debes crear un itinerario usando IA para poder pegarlo aqu."})]}):n.jsxs("div",{children:[n.jsx("p",{className:"text-muted mb-3",children:"Selecciona uno de tus itinerarios de IA para pegarlo en el constructor personalizado:"}),n.jsx("div",{className:"row g-3",children:le.map(E=>n.jsx("div",{className:"col-12",children:n.jsx("div",{className:"card border hover-card",style:{cursor:"pointer"},onClick:()=>ge(E),children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsxs("h6",{className:"card-title mb-1",children:[" ",E.destination]}),n.jsx("div",{className:"mb-2",children:n.jsxs("small",{className:"text-muted",children:[" ",E.duration_days," da(s)   US$",E.budget,"   ",E.cant_persons," persona(s)   ",E.trip_type]})}),n.jsx("p",{className:"card-text text-muted small mb-1",children:E.preview}),n.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[n.jsx("span",{className:`badge ${E.status==="completed"?"bg-success":"bg-warning"}`,children:E.status==="completed"?" Completo":" Con advertencias"}),E.has_validation&&n.jsx("span",{className:"badge bg-info",children:" Validado"}),n.jsxs("span",{className:"badge bg-light text-dark",children:[" ",E.publication_count," lugares"]})]})]}),n.jsx("div",{className:"text-end",children:n.jsx("small",{className:"text-muted",children:new Date(E.created_at).toLocaleDateString("es-ES")})})]})})})},E.id))})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>re(!1),children:"Cancelar"})})]})})]})]})):s==="building"&&f?(console.log(" [RENDER] Renderizando building step"),console.log(" [RENDER] ItineraryData:",f),n.jsxs("div",{className:"container mt-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"mb-1",children:" Itinerario Personalizado"}),n.jsxs("p",{className:"text-muted mb-0",children:[" ",c,"  ",f.days.length," da(s)"]})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>r("setup"),children:" Volver a configuracin"}),n.jsx("button",{className:"btn btn-success",onClick:mt,disabled:a,children:a?"Guardando...":" Guardar Itinerario"})]})]}),i&&n.jsx("div",{className:"alert alert-danger",children:i}),f.days.map((E,q)=>{let H,C;if(typeof E=="string")H=E,C=new Date(E);else if(E&&E.date)H=E.date,C=new Date(E.date);else if(E&&E.toISOString)H=E.toISOString().split("T")[0],C=E;else return console.error(" Formato de da no reconocido:",E),null;const T=f.itinerary[`day_${q+1}`]||f.itinerary[H]||{},P=`day_${q+1}`;return n.jsx("div",{className:"mb-5",children:n.jsxs("div",{className:"card shadow-sm",children:[n.jsx("div",{className:"card-header text-white",style:{backgroundColor:"#3A92B5"},children:n.jsxs("h5",{className:"mb-0",children:["DA ",q+1," - ",Te(C)]})}),n.jsx("div",{className:"card-body",children:Object.entries(Pe).map(([z,K])=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h6",{className:"mb-3 border-bottom pb-2",children:K}),n.jsx("div",{className:"row g-2",children:he[z].map(ae=>{const ee=T[z][ae];return n.jsx("div",{className:"col-md-6 col-lg-4",children:n.jsx("div",{className:`card h-100 ${ee?ee.is_continuation?"border-warning bg-warning bg-opacity-10":"border-success bg-light":"border-light"}`,children:n.jsxs("div",{className:"card-body p-3",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[n.jsx("strong",{style:{color:"#3A92B5"},children:ae}),ee&&!ee.is_continuation&&n.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>X(P,z,ae),title:"Remover actividad completa",children:""})]}),ee?n.jsx("div",{children:ee.is_continuation?n.jsx("div",{className:"text-center text-muted",children:n.jsxs("small",{children:[n.jsx("em",{children:" Continuacin de:"}),n.jsx("br",{}),n.jsx("strong",{children:ee.place_name}),n.jsx("br",{}),n.jsxs("small",{children:["Inicio: ",ee.start_time||ee.main_slot_time]})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{className:"d-block",children:ee.place_name}),ee.duration_min&&n.jsxs("span",{className:"badge bg-info text-white me-2",children:[Math.floor(ee.duration_min/60),"h ",ee.duration_min%60,"m"]}),ee.converted_from_ai&&n.jsx("span",{className:"badge bg-success text-white",children:"De IA"})]}),n.jsx("button",{className:"btn btn-sm btn-outline-info w-100",onClick:()=>ke(ee),children:" Ver detalle"})]})}):n.jsx("div",{className:"text-center",children:n.jsx("button",{className:"btn btn-sm btn-outline-custom",onClick:async()=>{var be;console.log(" Abriendo modal para agregar actividad"),te({dayKey:P,period:z,time:ae});const fe=(be=f.days.find(at=>at.key===P))==null?void 0:be.date;console.log(" Fecha del slot:",fe),console.log(" Horario del slot:",ae),console.log(" Personas:",v),fe&&ae?(console.log(" Buscando con filtros de disponibilidad..."),await ye(c,fe,ae)):(console.log(" Sin filtros de disponibilidad - bsqueda general"),await ye(c)),V(!0)},children:"+ Agregar actividad"})})]})})},ae)})})]},z))})]})},H)}),B&&S&&n.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1060},children:n.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{children:[n.jsxs("h5",{className:"modal-title mb-1",children:[" ",S.place_name]}),n.jsx("small",{className:"text-muted",children:S.start_time&&S.end_time?` ${S.start_time} - ${S.end_time}`:` ${Math.floor(S.duration_min/60)}h ${S.duration_min%60}m`})]}),n.jsx("button",{type:"button",className:"btn-close",onClick:()=>{k(!1),O(null)}})]}),n.jsx("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:n.jsx(Lx,{publication:S,carouselPrefix:`detail-${S.id}`,showRating:!0,showDetails:!0,footer:n.jsxs("div",{className:"mt-3",children:[S.converted_from_ai&&S.original_text&&n.jsxs("div",{className:"alert alert-info mb-3",children:[n.jsxs("div",{className:"d-flex align-items-center mb-2",children:[n.jsx("span",{className:"me-2",children:""}),n.jsx("strong",{children:"Descripcin generada por IA:"})]}),n.jsxs("em",{children:['"',S.original_text,'"']})]}),S.description&&S.description!==S.original_text&&n.jsxs("div",{className:"mb-3",children:[n.jsx("strong",{children:" Descripcin completa:"}),n.jsx("p",{className:"mb-0 mt-1",style:{lineHeight:1.5},children:S.description})]}),n.jsxs("div",{className:"row",children:[S.cost_per_day&&n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("strong",{children:" Costo estimado:"}),n.jsx("br",{}),n.jsxs("span",{className:"badge bg-success",children:["$",S.cost_per_day," por da"]})]}),S.duration_min&&n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("strong",{children:" Duracin programada:"}),n.jsx("br",{}),n.jsxs("span",{className:"badge bg-info",children:[Math.floor(S.duration_min/60),"h ",S.duration_min%60,"m"]})]})]}),S.categories&&S.categories.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("strong",{children:" Categoras:"}),n.jsx("div",{className:"mt-1",children:S.categories.map((E,q)=>n.jsx("span",{className:"badge bg-secondary me-1 mb-1",children:typeof E=="string"?E:E.name||E.slug},q))})]})]})})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{k(!1),O(null)},children:"Cerrar"})})]})})}),_&&n.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx("div",{className:"modal-dialog modal-lg",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h5",{className:"modal-title",children:["Agregar actividad para ",A==null?void 0:A.time]}),n.jsx("button",{type:"button",className:"btn-close",onClick:()=>{V(!1),te(null)}})]}),n.jsx("div",{className:"modal-body",children:a?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"spinner-border",role:"status"}),n.jsx("div",{children:"Cargando publicaciones..."})]}):w.length===0?n.jsxs("div",{className:"text-center py-4 text-muted",children:[n.jsxs("p",{children:['No hay publicaciones disponibles para "',c,'"']}),n.jsx("small",{children:"Intenta con un destino diferente"})]}):n.jsx("div",{className:"row g-3",children:w.map(E=>n.jsx("div",{className:"col-md-6",children:n.jsxs("div",{className:"card h-100 border-primary hover-card",style:{cursor:"pointer"},onClick:()=>$(E),children:[E.photos&&E.photos.length>0&&n.jsx("img",{src:E.photos[0],className:"card-img-top",alt:E.place_name,style:{height:"150px",objectFit:"cover"}}),n.jsxs("div",{className:"card-body",children:[n.jsx("h6",{className:"card-title",children:E.place_name}),n.jsxs("p",{className:"card-text small text-muted mb-2",children:[" ",E.address]}),n.jsxs("p",{className:"card-text small mb-2",children:[" ",E.city,", ",E.province,", ",E.country]}),E.rating_avg&&E.rating_avg>0&&n.jsxs("p",{className:"card-text small mb-2",children:[" ",E.rating_avg.toFixed(1)," (",E.rating_count||0," reseas)"]}),n.jsx(sm,{durationMin:E.duration_min}),E.categories&&E.categories.length>0&&n.jsx("div",{className:"mb-2",children:E.categories.map((q,H)=>n.jsx("span",{className:"badge bg-secondary me-1",children:typeof q=="string"?q:q.name||q.slug},H))}),n.jsx(rm,{publication:E})]}),n.jsx("div",{className:"card-footer text-center",children:n.jsx("small",{style:{color:"#3A92B5"},children:"Haz clic para agregar"})})]})},E.id))})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{V(!1),te(null)},children:"Cancelar"})})]})})})]})):(console.log(" [RENDER] FALLBACK - Ninguna condicin cumplida"),console.log(" [RENDER] Step:",s,"ItineraryData existe:",!!f),n.jsxs("div",{className:"container mt-4",children:[n.jsx("div",{className:"row justify-content-center",children:n.jsx("div",{className:"col-lg-6",children:n.jsxs("div",{className:"alert alert-warning",children:[n.jsx("h5",{children:"\\u26a0\\ufe0f Estado inconsistente"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Step:"})," ",s]}),n.jsxs("p",{children:[n.jsx("strong",{children:"ItineraryData:"})," ",f?"Presente":"Ausente"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Loading:"})," ",a?"S":"No"]}),n.jsx("button",{className:"btn btn-outline-custom mt-2",onClick:()=>{console.log(" Reseteando al step setup"),r("setup"),j(null),o("")},children:"\\ud83c\\udfe0 Volver al inicio"})]})})}),J&&n.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx("div",{className:"modal-dialog modal-lg",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header bg-danger text-white",children:[n.jsx("h5",{className:"modal-title",children:" Error al Agregar Actividad"}),n.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>ne(!1)})]}),n.jsx("div",{className:"modal-body",children:n.jsx("div",{style:{whiteSpace:"pre-line",fontFamily:"monospace",fontSize:"14px"},children:ue})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>ne(!1),children:"Entendido"})})]})})})]}))}const am="/assets/logo-CzhjVF5z.png";function zx(e,t){m.useEffect(()=>{function s(r){!e.current||e.current.contains(r.target)||t(r)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[e,t])}function Ax({me:e,onNavigate:t,onLogout:s,activeView:r}){const a=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.username)==="admin",l=(e==null?void 0:e.role)==="premium",[i,o]=m.useState(!1),c=m.useRef();zx(c,()=>o(!1));const d=a?[{id:"approved-publications",label:"Publicaciones Aprobadas"},{id:"all-publications",label:"Todas las Publicaciones"},{id:"pending-approvals",label:"Solicitudes de aprobacin"},{id:"deletion-requests",label:"Solicitudes de eliminacin"},{id:"review-reports",label:"Reportes de reseas"}]:[{id:"publications",label:" Publicaciones"},...l?[{id:"my-publications",label:" Mis publicaciones"}]:[],{id:"traveler-experience-hub",label:" Experiencia Viajera"},{id:"suggestions",label:" Sugerencias"},{id:"itinerary",label:" Generar Itinerario"},...l?[{id:"benefits",label:" Beneficios"}]:[],...l?[{id:"invite-friends",label:" Invitar amigos"}]:[]];return n.jsxs("div",{className:"d-flex flex-column text-dark vh-100 position-fixed shadow-lg",style:{width:"280px",top:0,left:0,overflowY:"auto",zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)"},children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom",style:{borderColor:"rgba(0,0,0,0.1)"},children:[n.jsx("img",{src:am,alt:"Plan&Go Logo",style:{width:"120px"}}),n.jsxs("div",{className:"position-relative",ref:c,children:[n.jsx("button",{className:"btn btn-light p-2 rounded-circle",onClick:()=>o(!i),style:{width:"40px",height:"40px",border:"none",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:n.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:""})}),i&&n.jsx("div",{className:"position-absolute bg-white border rounded shadow-lg",style:{top:"45px",right:"0",minWidth:"200px",zIndex:1001,borderColor:"rgba(0,0,0,0.1)"},children:n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{className:"btn w-100 text-start px-3 py-2",onClick:()=>{t("preferences"),o(!1)},style:{border:"none",backgroundColor:"transparent"},children:[n.jsx("span",{className:"me-2",children:""}),"Configurar preferencias"]}),n.jsxs("button",{className:"btn w-100 text-start px-3 py-2",onClick:()=>{t("profile"),o(!1)},style:{border:"none",backgroundColor:"transparent"},children:[n.jsx("span",{className:"me-2",children:""}),"Ver Perfil"]}),n.jsx("hr",{className:"my-1",style:{margin:"0 16px"}}),n.jsxs("button",{className:"btn w-100 text-start px-3 py-2 text-danger",onClick:()=>{s(),o(!1)},style:{border:"none",backgroundColor:"transparent"},children:[n.jsx("span",{className:"me-2",children:""}),"Cerrar Sesin"]})]})})]})]}),n.jsxs("nav",{className:"flex-grow-1 p-2",children:[n.jsx("div",{className:"mb-2 px-3 text-uppercase small text-muted fw-bold",children:"Men"}),d.map(p=>n.jsxs("button",{className:`btn w-100 text-start mb-1 sidebar-menu-item ${r===p.id?"active":"btn-light text-dark"}`,onClick:()=>t(p.id),style:{borderRadius:"8px",padding:"10px 16px"},children:[n.jsx("span",{className:"me-2",children:p.label.split(" ")[0]}),n.jsx("span",{children:p.label.substring(p.label.split(" ")[0].length).trim()})]},p.id))]})]})}const Cc="/assets/background-BRgxiwoA.png";function Mx(){return n.jsx(qp,{children:n.jsx(Ox,{})})}function Ox(){const[e,t]=m.useState("login"),[s,r]=m.useState(localStorage.getItem("token")||""),[a,l]=m.useState(null),[i,o]=m.useState("publications"),c=mr(),d=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.username)==="admin",p=(a==null?void 0:a.role)==="premium";m.useEffect(()=>{s&&(localStorage.setItem("token",s),(async()=>{try{const b=await Ct("/api/auth/me",{token:s});l(b);const h=(b==null?void 0:b.role)==="admin"||(b==null?void 0:b.username)==="admin";o(h?"approved-publications":"publications")}catch{localStorage.removeItem("token"),r(""),l(null),o("publications")}})())},[s]);function g(){localStorage.removeItem("token"),r(""),l(null),o("publications"),c("/")}function u(b){if(["pending-approvals","deletion-requests","approved-publications","all-publications"].includes(b)&&!d){o("publications"),c("/");return}if(["my-publications","preferences","invite-friends","suggestions","benefits"].includes(b)&&d){o("approved-publications"),c("/");return}if(b==="invite-friends"&&!p){alert("Funcin disponible slo para usuarios premium.");return}if(b==="benefits"&&!p){alert("Funcin disponible slo para usuarios premium.");return}if(b==="search-travelers"){o("search-travelers"),c("/viajeros");return}if(b==="my-traveler-profile"){o("my-traveler-profile"),c("/perfil");return}o(b),c("/")}const x={marginLeft:"280px",backgroundImage:`url(${Cc})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",minHeight:"100vh",overflowY:"auto"};function v(b){return n.jsxs("div",{className:"d-flex",style:{minHeight:"100vh"},children:[n.jsx(Ax,{me:a,onLogout:g,onNavigate:u,activeView:i}),n.jsx("div",{className:"flex-grow-1",style:x,children:n.jsx("div",{className:"container-fluid p-4",children:b})})]})}let y=null;if(s&&a){const b=n.jsxs(n.Fragment,{children:[i==="traveler-experience-hub"&&n.jsx(ox,{onNavigate:u,me:a}),i==="favorites"&&!d&&n.jsx(Mn,{me:a,view:"favorites",onOpenShareItinerary:h=>{if(!p){alert("Funcin disponible slo para usuarios premium.");return}c(`/share-itinerary/${h}`)}},"favorites"),i==="my-itineraries"&&n.jsx(Mn,{me:a,view:"my-itineraries",onOpenShareItinerary:h=>{if(!p){alert("Funcin disponible slo para usuarios premium.");return}c(`/share-itinerary/${h}`)}},"my-itineraries"),i==="expenses"&&!d&&n.jsx(Mn,{me:a,view:"expenses"},"expenses"),i==="search-travelers"&&!d&&n.jsx(Sc,{me:a,onOpenMyProfile:()=>u("my-traveler-profile")}),i==="my-traveler-profile"&&!d&&n.jsx(ul,{me:a}),i==="publications"&&(d?n.jsx(On,{me:a,view:"publications"}):n.jsx(Mn,{me:a,view:"publications",onOpenShareItinerary:h=>{if(!p){alert("Funcin disponible slo para usuarios premium.");return}c(`/share-itinerary/${h}`)}},"publications")),i==="my-publications"&&!d&&n.jsx(Mn,{me:a,view:"my-publiclications",onOpenShareItinerary:h=>{if(!p){alert("Funcin disponible slo para usuarios premium.");return}c(`/share-itinerary/${h}`)}},"my-publications"),i==="preferences"&&!d&&n.jsx(Mn,{me:a,view:"preferences"},"preferences"),i==="itinerary"&&n.jsx(Rx,{onNavigate:u}),i==="itinerary-ai"&&n.jsx(mx,{me:a}),i==="itinerary-custom"&&n.jsx(Fx,{me:a,token:s}),i==="invite-friends"&&!d&&p&&n.jsx(Px,{token:s}),i==="benefits"&&!d&&p&&n.jsx(Dx,{token:s,me:a}),i==="approved-publications"&&d&&n.jsx(On,{me:a,view:"publications"}),i==="all-publications"&&d&&n.jsx(On,{me:a,view:"all-publications"}),i==="pending-approvals"&&d&&n.jsx(On,{me:a,view:"pending"}),i==="deletion-requests"&&d&&n.jsx(On,{me:a,view:"deletion-requests"}),i==="review-reports"&&d&&n.jsx(On,{me:a,view:"review-reports"}),i==="profile"&&n.jsx(yx,{me:a,token:s,setMe:l}),i==="suggestions"&&!d&&n.jsx(kx,{me:a,token:s})]});y=v(b)}else y=n.jsx("div",{className:"d-flex flex-column align-items-center min-vh-100 py-5",style:{backgroundImage:`url(${Cc})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:n.jsxs("div",{className:"text-center",style:{maxWidth:"480px",width:"100%"},children:[n.jsx("div",{className:"mb-4",children:n.jsx("img",{src:am,alt:"Plan&Go Logo",style:{width:"200px",height:"auto"}})}),n.jsxs("div",{className:"card p-4 shadow-sm",children:[e==="login"&&n.jsx(rx,{setToken:r,setView:t}),e==="register"&&n.jsx(ax,{setView:t}),e==="forgot-password"&&n.jsx(lx,{setView:t})]}),n.jsxs("div",{className:"text-center mt-3",children:[n.jsx("button",{onClick:()=>t(e==="login"?"register":"login"),className:"btn btn-link text-blue fw-bold",children:e==="login"?"No tenes cuenta? Registrate Ac!":"Ya tengo una cuenta"}),e==="login"&&n.jsx("div",{className:"mt-2",children:n.jsx("button",{onClick:()=>t("forgot-password"),className:"btn btn-link btn-sm",children:"Has olvidado tu contrasea?"})})]})]})});return n.jsxs(Sp,{children:[n.jsx(Nn,{path:"/",element:y}),n.jsx(Nn,{path:"/share-itinerary/:id",element:s&&p?n.jsx(_x,{}):n.jsx(ks,{to:"/",replace:!0})}),n.jsx(Nn,{path:"/perfil",element:s&&a?v(n.jsx(ul,{me:a})):n.jsx(ks,{to:"/",replace:!0})}),n.jsx(Nn,{path:"/viajeros",element:s&&a?v(n.jsx(Sc,{me:a,onOpenMyProfile:()=>u("my-traveler-profile")})):n.jsx(ks,{to:"/",replace:!0})}),n.jsx(Nn,{path:"/viajeros/:userId",element:s&&a?v(n.jsx(ul,{me:a})):n.jsx(ks,{to:"/",replace:!0})}),n.jsx(Nn,{path:"*",element:n.jsx(ks,{to:"/",replace:!0})})]})}typeof window<"u"&&(window.alert=()=>{},window.prompt=()=>null);Au(document.getElementById("root")).render(n.jsx(Mx,{}));
